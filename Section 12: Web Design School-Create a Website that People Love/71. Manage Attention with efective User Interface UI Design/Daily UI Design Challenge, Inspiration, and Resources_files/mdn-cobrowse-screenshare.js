!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=58)}([function(e,t,n){"use strict";var r=n(21);function i(){this.nodes=[],this.values=[]}i.prototype.isIndex=function(e){return+e==e>>>0},i.prototype.nodeId=function(e){return r.a.getId(e)},i.prototype.set=function(e,t){var n=this.nodeId(e);return this.nodes[n]=e,this.values[n]=t,n},i.prototype.get=function(e){return e=this.nodeId(e),this.values[e]},i.prototype.getId=function(e){return this.nodeId(e)},i.prototype.getNodeById=function(e){return this.nodes[e]},i.prototype.has=function(e){return this.nodeId(e)in this.nodes},i.prototype.delete=function(e){e=this.nodeId(e),delete this.nodes[e],this.values[e]=void 0},i.prototype.keys=function(){var e,t=[];for(e in this.nodes)this.isIndex(e)&&t.push(this.nodes[e]);return t},t.a=i},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(4),i=function(e){try{return"true"===e.getAttribute("data-mdn-iexclude")}catch(e){return!1}},o=function(e,t){try{return"true"===e.getAttribute("data-mdn-el-exclude")||Object(r.b)(e,t)}catch(e){return!1}},a=function(e){return e.filter((function(e){return!s(e)}))},s=function(e){return"attributes"===e.type&&i(e.target)}},function(e,t,n){"use strict";(function(t){e.exports="function"==typeof t?t:n(59)}).call(this,n(2))},function(e,t,n){"use strict";t.a=function(e,t,n,r){return e.addEventListener(t,n,r),function(){e.removeEventListener(t,n,r)}}},function(e,t,n){"use strict";function r(e,t){return e.classList?e.classList.contains(t):i(e,t)}n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var i=function(e,t){return!!(e=e.getAttribute("class"))&&-1<e.split(/\s+/).indexOf(t)},o=function(e,t){var n=s(e,t);e=!!(e=e.form)&&s(e,t);return!(n||e)},a=function(e,t){return!s(e,t)},s=function(e,t){return r(e,"median-exclude")||"exclude"===e.getAttribute("data-median")||t.some((function(t){return r(e,t)||e.matches(t)}))}},function(e,t,n){"use strict";(function(t){var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!t)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var n={},r=0;r<10;r++)n["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"!==Object.keys(t({},i)).join("")?void 0:1}catch(e){return}}()?t:function(e,t){for(var o,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in o=Object(arguments[s]))r.call(o,c)&&(a[c]=o[c]);if(n)for(var u=n(o),d=0;d<u.length;d++)i.call(o,u[d])&&(a[u[d]]=o[u[d]])}return a}}).call(this,n(5))},function(e,t,n){"use strict";function r(e){return"median-action-event-"+e}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n(46),o=function(e,t,n){n={detail:n=void 0===n?null:n,bubbles:!1},e.dispatchEvent(Object(i.a)(r(t),n))},a=function(e,t,n){var i=r(t);return e.addEventListener(i,n),function(){return e.removeEventListener(i,n)}}},function(e,t,n){"use strict";var r=!!sessionStorage.getItem("median:debug");t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r&&e.forEach((function(e){return console.warn(e)}))}},function(e,t,n){function r(e,t){var n,r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){if((t=o(t))!==n)throw new Error("Expected ".concat(e," to be ").concat(n," but it was ").concat(t))}function s(){return c((function(){return new Map}))}var c=n(63);e.exports=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Object.create(null),t=s(),n=0;return e.on=function(e,r){a("event",e,"string"),a("listener",r,"function");var i=(n++).toString(),o=t.get(e);return o.set(i,r),function(){o.delete(i),0===o.size&&t.delete(e)}},e.once=function(t,n){a("event",t,"string"),a("listener",n,"function");var r=e.on(t,(function(){n.apply(void 0,arguments),r()}));return r},e.emit=function(e){a("event",e,"string");for(var n=t.get(e),i=arguments.length,o=new Array(1<i?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var c,u=r(n.values());try{for(u.s();!(c=u.n()).done;)c.value.apply(void 0,o)}catch(e){u.e(e)}finally{u.f()}},e.removeAllListeners=function(){t=s()},e}},function(e,t,n){"use strict";t.a=function(){return new Map}},function(e,t,n){"use strict";function r(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return null;var r=(a={top:o((a=e=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView}(e).getComputedStyle(e))["padding-top"]),right:o(a["padding-right"]),bottom:o(a["padding-bottom"]),left:o(a["padding-left"])}).left+a.right,a=a.top+a.bottom,s=o(e.width),c=o(e.height);"border-box"===e.boxSizing&&(Math.round(s+r)!==t&&(s-=i(e,"left","right")+r),Math.round(c+a)!==n&&(c-=i(e,"top","bottom")+a)),e=Math.round(s+r)-t,r=Math.round(c+a)-n;return 1!==Math.abs(e)&&(s-=e),1!==Math.abs(r)&&(c-=r),{width:s,height:c}}function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+o(e["border-"+n+"-width"])}),0)}function o(e){return parseFloat(e)||0}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return v}));var r,i,o=n(34),a=n(7),s=n(17),c=function(t,n,r,i){return new(r=r||e)((function(e,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(a,s)}c((i=i.apply(t,n||[])).next())}))},u=function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(s){c=[6,s],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},d=Object(s.a)(),l=!1;try{"Worker"in window&&!d?(r=n(64),i=new(n(66))(new r),Object(a.a)("Compression Worker Initialized")):Object(a.a)("Compression Worker Failed To Initialize")}catch(e){Object(a.a)("Could not initialize compressor worker.")}function f(e,t){return void 0===t&&(t=!1),"string"==typeof(e=p(e))?{action:e}:(t=t&&e[1],{action:e[0],payload:t?JSON.parse(e[1]):e[1]})}c(void 0,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return Object(a.a)("Determining if worker should be enabled"),[4,i.postMessage("returntest")];case 1:return e.sent(),l=!0,Object(a.a)("Enabling Worker"),[2]}}))}));var p=function(e){var t=e.indexOf("|");return-1===t?e:[e.substr(0,t),e.substr(t+1)]},h=function(e,t){return{action:e,payload:t=void 0===t?"":t}},v=function(e){return c(void 0,void 0,void 0,(function(){return u(this,(function(t){return Object(a.a)(e),"Worker"in window&&!d&&l?[2,i.postMessage(e)]:[2,Object(o.deflate)(JSON.stringify(e))]}))}))}}).call(this,n(2))},function(e,t,n){"use strict";t.a=function(e,t){var n=[];if(e.childNodes.length)for(var r=e.firstChild;r;r=r.nextSibling)n.push(t(r));return n}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n(43),i=n(3),o=function(t,n,r,i){return new(r=r||e)((function(e,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(a,s)}c((i=i.apply(t,n||[])).next())}))},a=function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(s){c=[6,s],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},s=void 0,c=function(e){try{return!e.src||Object(r.a)(e.src)===window.location.host}catch(e){return!1}},u=function(t){return o(s,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return[4,(l=t,o(s,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return l.contentDocument?[2]:[4,new e((function(e){var t=setInterval((function(){l.contentDocument&&(clearInterval(t),e())}),100)}))];case 1:return t.sent(),[2]}}))})))];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,5,,7]),[4,(d=t,o(s,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return(t=function(){return"complete"===d.contentDocument.readyState})()?[2]:[4,new e((function(e){function n(){t()&&(e(),r(),clearInterval(o))}var r=Object(i.a)(d.contentDocument,"readystatechange",n),o=setInterval(n,50)}))];case 1:return n.sent(),[2]}}))})))];case 3:return r.sent(),[4,(c=t,o(s,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return(t=function(){return c.contentDocument&&c.contentDocument.body&&0<c.contentDocument.body.children.length})()?[2]:[4,new e((function(e){var n=setInterval((function(){t()&&(clearInterval(n),e())}),100)}))];case 1:return n.sent(),[2]}}))})))];case 4:return r.sent(),[3,7];case 5:return n=r.sent(),console.warn("Error while waiting for frame to be ready",n),[4,u(t)];case 6:return r.sent(),[3,7];case 7:return[2]}var c,d,l}))}))}}).call(this,n(2))},function(e,t,n){"use strict";function r(e){return function(t,n,r){function i(){var n,i,a=e(t);a&&(i=o,(n=a).height!==i.height||n.width!==i.width)&&r(o=a)}var o=e(t),a=new MutationObserver(i);return a.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),n.addEventListener("resize",i),n.addEventListener("transitionend",i),function(){a.disconnect(),n.removeEventListener("resize",i),n.removeEventListener("transitionend",i)}}}function i(e){var t=Object(y.a)(e);return t?{x:e.defaultView.pageXOffset,y:e.defaultView.pageYOffset,isDocument:t}:{x:e.scrollLeft,y:e.scrollTop,isDocument:t}}function o(e,t,n){e.addEventListener("change",i);var r=t(e);function i(){var i=t(e);i!==r&&(r=i,n())}var o=new MutationObserver(i),a=(o.observe(e,{attributes:!0}),setInterval(i,200));return function(){e.removeEventListener("change",n),o.disconnect(),clearInterval(a)}}function a(e){return{socketEvent:"MetaEvent",actionType:"videoChange",payload:{nodeId:e.nodeId,mirrorId:e.mirrorId,event:e.event,currentTime:e.video.currentTime||0}}}function s(e,t){return t=t.filter((function(t){return!(t=t.appliesToNode)||t(e.node,e.excludedClasses)})),{unlisten:k(I(e,t)),initialStateEvents:A(e,t)}}function c(){}n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return N}));var u=n(1),d=n(45),l=n(3),f=n(22),p={attachListener:function(e){var t=e.node,n=e.callbacks;return Object(l.a)(t,"mousemove",(function(e){n.transmit({socketEvent:"MetaEvent",actionType:"cursorPosition",payload:{x:e.x,y:e.y,hoverId:h(e)}})}))}},h=function(e){var t=e.x,n=e.y;e=e.target.ownerDocument;try{var r=e.elementFromPoint(t,n);return r&&Object(f.b)(r)}catch(e){return}},v=n(10),m=(r((function(e){return{height:Math.max(e.body.scrollHeight,e.body.offsetHeight,e.documentElement.clientHeight,e.documentElement.scrollHeight,e.documentElement.offsetHeight),width:Math.max(e.body.scrollWidth,e.body.offsetWidth,e.documentElement.clientWidth,e.documentElement.scrollWidth,e.documentElement.offsetWidth)}})),r(v.a)),g={getInitialStateEvents:function(e){var t=e.node;return[{socketEvent:"MetaEvent",actionType:"sizeChange",payload:{nodeId:e.nodeId,mirrorId:e.mirrorId,size:Object(v.a)(t)}}]},attachListener:function(e){var t=e.node,n=e.nodeId,r=e.mirrorId,i=e.callbacks;return m(t,t,(function(e){i.transmit({socketEvent:"MetaEvent",actionType:"sizeChange",payload:{nodeId:n,mirrorId:r,size:e}})}))}},b=n(6),y=n(19),_={appliesToNode:function(e){return(e=e).nodeType===Node.DOCUMENT_NODE||e.scrollHeight>e.offsetHeight},getInitialStateEvents:function(e){var t=e.node;return[{socketEvent:"MetaEvent",actionType:"scrollPosition",payload:{nodeId:e.nodeId,mirrorId:e=e.mirrorId,x:(t=i(t)).x,y:t.y,isDocument:t.isDocument}}]},attachListener:function(e){var t=e.node,n=e.nodeId,r=e.mirrorId,o=e.callbacks,a=!1,s=Object(b.b)(t,"viewer initiated scroll",(function(){a=!0})),c=Object(l.a)(t,"scroll",(function(e){var s,c,u;a?a=!1:(s=(u=i(t)).x,c=u.y,u=u.isDocument,o.transmit({socketEvent:"MetaEvent",actionType:"scrollPosition",payload:{nodeId:n,mirrorId:r,x:s,y:c,isDocument:u}}))}),{capture:!0});return function(){s(),c()}}},w={appliesToNode:function(e){return"SELECT"===e.nodeName},attachListener:function(e){var t=e.node,n=e.nodeId,r=e.mirrorId,i=e.callbacks,a=t;return o(a,(function(e){return e.selectedIndex}),(function(){i.transmit({socketEvent:"MetaEvent",actionType:"dropdownChange",payload:{nodeId:n,mirrorId:r,selectedIndex:a.selectedIndex}})}))}},E=n(4),S={appliesToNode:function(e){return("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)&&"password"!==e.type&&"checkbox"!==e.type},getInitialStateEvent:function(e){var t=e.node;return{socketEvent:"MetaEvent",actionType:"inputChange",payload:{nodeId:e.nodeId,mirrorId:e.mirrorId,inputValue:t.value}}},attachListener:function(e){var t=e.node,n=e.nodeId,r=e.mirrorId,i=e.callbacks,a=e.excludedClasses,s=t,c=null;return Object(b.b)(s,"valueChange",(function(e){c=e.detail})),o(s,(function(e){return e.value}),(function(){var e=s.value;Object(E.a)(s,a)&&e!==c&&i.transmit({socketEvent:"MetaEvent",actionType:"inputChange",payload:{nodeId:n,mirrorId:r,inputValue:e}})}))}},C={appliesToNode:function(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)},getInitialStateEvent:function(e){var t=e.node;return{socketEvent:"MetaEvent",actionType:"checkboxChange",payload:{nodeId:e.nodeId,mirrorId:e.mirrorId,checkStatus:t.checked}}},attachListener:function(e){var t=e.node,n=e.nodeId,r=e.mirrorId,i=e.callbacks,a=t;return o(a,(function(e){return e.checked}),(function(){i.transmit({socketEvent:"MetaEvent",actionType:"checkboxChange",payload:{nodeId:n,mirrorId:r,checkStatus:a.checked}})}))}},T={appliesToNode:function(e){return"VIDEO"===e.nodeName},getInitialStateEvents:function(e){var t=e.node,n=e.nodeId,r=(e=e.mirrorId,[]);return t.paused||r.push(a({nodeId:n,mirrorId:e,video:t,event:"play"})),0<t.currentTime&&r.push(a({nodeId:n,mirrorId:e,video:t,event:"seeked"})),r},attachListener:function(e){var t,n,r,i,o=e.node,s=e.nodeId,c=e.mirrorId,u=e.callbacks,d=o;return e=d,t=function(e){u.transmit(a({nodeId:s,mirrorId:c,video:d,event:e}))},n=Object(l.a)(e,"play",(function(){return t("play")})),r=Object(l.a)(e,"pause",(function(){return t("pause")})),i=Object(l.a)(e,"seeked",(function(){return t("seeked")})),function(){n(),r(),i()}}},O=n(47),x={appliesToNode:function(e){return"STYLE"===e.nodeName},attachListener:function(e){var t=e.node,n=e.nodeId,r=e.mirrorId,i=e.callbacks,o=t.sheet,a=o.insertRule,s=o.removeRule;return o.injected||(o.insertRule=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.transmit({socketEvent:"MetaEvent",actionType:"stylesheetInsertion",payload:{nodeId:n,mirrorId:r,args:e}}),a.apply(o,e)},o.injected=!0),o.injected||(o.removeRule=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.transmit({socketEvent:"MetaEvent",actionType:"stylesheetRemoval",payload:{nodeId:n,mirrorId:r,args:e}}),s.apply(o,e)},o.injected=!0),function(){o.insertRule=a,o.removeRule=s,delete o.injected}}},I=function(e,t){return t.map((function(t){return(0,t.attachListener)(e)}))},A=function(e,t){var n=[];return t.filter((function(e){return e.getInitialStateEvents})).forEach((function(t){t=t.getInitialStateEvents,n.push.apply(n,t(e))})),n},k=function(e){return 0===e.length?c:1===e.length?e[0]:function(){e.forEach((function(e){return e()}))}},R={},D=function(e,t){return s(e,t=((t=void 0===t?R:t)===R?Object(u.b)(e.node,e.excludedClasses):t)?[g]:[d.a,w,S,C,T,O.a,_,x])},N=function(e){return Object(u.b)(e.node,e.excludedClasses)?{unlisten:function(){},initialStateEvents:[]}:s(e,[_,p])}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e=1e3),void 0===t&&(t=null);var n=0;return function(){n++;var r=e*Math.pow(2,n);r=null===t?r:Math.min(t,r);return Math.round(Math.random()*r)}}},function(e,t,n){"use strict";t.a=function(){return!!window.MSInputMethodContext&&!!document.documentMode}},function(e,t,n){var r=n(67),i=n(68);e.exports=function(e,t,n){var o=t&&n||0,a=("string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),(e=e||{}).random||(e.rng||r)());if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){"use strict";t.a=function(e){return 9===e.nodeType}},function(e,t,n){"use strict";(function(e){var r=n(0),i=n(55),o=n(1),a=n(12),s=n(23),c=n(44),u=n(14),d=n(48),l=n.n(d).a;function f(){this.nodeCurrentlyExcluded=new r.a,this.nodeChangeListenerUnsubscribe=null}f.prototype.initialize=function(e){this.callbacks=e.callbacks,this.mirrorId=e.mirrorId,this.excludedClasses=e.excludedClasses,this.nodeIdTracker=e.nodeIdTracker,this.target=e.target;var t=this.nodeIdTracker.getId(e.target),n=Object(c.a)({node:e.target,nodeIdTracker:e.nodeIdTracker,mirrorId:e.mirrorId,excludedClasses:e.excludedClasses,callbacks:e.callbacks}),r=(this.nodeChangeListenerUnsubscribe=n.elementToUnlistener,this.initializeCurrentlyExcludedNodes(n.serializedDescendants),this.initializeRoot(e.target));return[{socketEvent:"DOMEvent",actionType:"initializeDocument",payload:{mirrorId:e.mirrorId,parentMirrorId:e.parentMirrorId,rootId:t,children:n.serializedDescendants}}].concat(n.initialStateEvents,r)},f.prototype.attachListener=function(e){var t=this;if(this.mutationSummary)throw new Error("Attempted to attach multiple listeners");this.mutationSummary=new i.a({rootNode:this.target,callback:function(n){e(t.applyChanged(n))}})},f.prototype.initializeRoot=function(e){var t=Object(u.a)({node:e,nodeId:this.nodeIdTracker.getId(e),nodeIdTracker:this.nodeIdTracker,mirrorId:this.mirrorId,callbacks:this.callbacks,excludedClasses:this.excludedClasses});return this.nodeChangeListenerUnsubscribe.set(e,t.unlisten),t.initialStateEvents},f.prototype.initializeCurrentlyExcludedNodes=function(e){var t=this;e.forEach((function(e){var n=t.fetchNodeById(e.id);t.nodeCurrentlyExcluded.set(n,Object(o.b)(n,t.excludedClasses)),e.childNodes&&t.initializeCurrentlyExcludedNodes(e.childNodes)}))},f.prototype.disconnect=function(){this.mutationSummary&&(this.mutationSummary.disconnect(),this.mutationSummary=void 0),this.nodeChangeListenerUnsubscribe.forEach((function(e){return e()})),this.nodeChangeListenerUnsubscribe.clear()},f.prototype.forgetNode=function(e){this.nodeIdTracker.delete(e)},f.prototype.fetchNodeById=function(e){return this.nodeIdTracker.getNode(e)},f.prototype.serializeNode=function(e){return null===e?null:this.nodeIdTracker.hasNode(e)?{id:this.nodeIdTracker.getId(e)}:this.alwaysSerializeNode(e)},f.prototype.alwaysSerializeNode=function(e){return Object(s.a)({node:e,nodeIdTracker:this.nodeIdTracker,excludedClasses:this.excludedClasses})},f.prototype.serializeAddedAndMoved=function(t,n){void 0===n&&(n=!1);for(var i=new r.a,o=0,a=t;o<a.length;o++){var s=(f=a[o]).parentNode;(l=i.get(s))||(l=new r.a,i.set(s,l)),l.set(f,!0)}for(var c=[],u=0,d=i.keys();u<d.length;u++)for(var l,f,p,h=d[u],v=0,m=(l=i.get(h)).keys();v<m.length;v++)!(f=m[v])||(p=n?this.alwaysSerializeNode(f):this.serializeNode(f))&&c.push(e(p,{previousSibling:this.serializeNode(f.previousSibling),parentNode:this.serializeNode(f.parentNode)})),l.delete(f);return c},f.prototype.serializeAttributeChanges=function(t){var n=this;return t.map((function(t){var r=t.element,i=(t=t.changedAttributes,e(n.serializeNode(r),{attributes:{}}));return t.forEach((function(e){var t=e.attribute;e=e.value;i.attributes[t]=e})),i}))},f.prototype.applyChanged=function(e){var t=this,n=(c=(e=p(this.pullOutExclusionChanges(e),this.excludedClasses)).exclusionStatusChanged.filter((function(e){return e.excluded})).map((function(e){return e.node}))).map((function(e){return Object(a.a)(e,(function(e){return e}))})).reduce((function(e,t){return e.concat(t)}),[]),r=(n=e.removed.map((function(e){return t.serializeNode(e)})).concat(n.map((function(e){return t.serializeNode(e)}))),e.exclusionStatusChanged.filter((function(e){return!e.excluded})).map((function(e){return e.node}))),i=(r=l(r.map((function(e){return v(e)}))),this.serializeAttributeChanges(e.attributeChanged).concat(e.exclusionStatusChanged.map((function(e){return t.alwaysSerializeNode(e.node)})),r.map((function(e){return t.alwaysSerializeNode(e)})))),o=e.characterDataChanged.concat(r.filter((function(e){return e.nodeType===Node.TEXT_NODE}))).map((function(e){var n=t.serializeNode(e);return n.textContent=e.textContent,n})),s=this.serializeAddedAndMoved(e.added,!0).concat(this.serializeAddedAndMoved(e.reparented.concat(e.reordered)),this.serializeAddedAndMoved(r,!0)),c=(e.removed.forEach((function(e){return t.forgetNode(e)})),l(c.map((function(e){return v(e)}))));e=e.added.concat(c,r);return this.attachListenersAndCollectInitialState(e),n.length||s.length||i.length||o.length?[{socketEvent:"DOMEvent",actionType:"applyChanged",payload:{mirrorId:this.mirrorId,removed:n,addedOrMoved:s,attributes:i,text:o}}]:[]},f.prototype.attachListenersAndCollectInitialState=function(e){var t=this;e.forEach((function(e){t.nodeChangeListenerUnsubscribe.has(e)&&(t.nodeChangeListenerUnsubscribe.get(e)(),t.nodeChangeListenerUnsubscribe.delete(e));var n=Object(u.b)({node:e,nodeId:t.nodeIdTracker.getId(e),mirrorId:t.mirrorId,callbacks:t.callbacks,nodeIdTracker:t.nodeIdTracker,excludedClasses:t.excludedClasses}),r=n.unlisten;n.initialStateEvents.forEach((function(e){return t.callbacks.transmit(e)})),t.nodeChangeListenerUnsubscribe.set(e,r)}))},f.prototype.pullOutExclusionChanges=function(e){var t=this,n=(r=this.separateByExcludedStateChange(e.added)).exclusionStatusChanged,r=r.exclusionStatusUnchanged,i=(a=this.separateByExcludedStateChange(e.characterDataChanged)).exclusionStatusChanged,a=a.exclusionStatusUnchanged,s=(c=this.separateByExcludedStateChange(e.removed)).exclusionStatusChanged,c=c.exclusionStatusUnchanged,u=(d=this.separateByExcludedStateChange(e.reordered)).exclusionStatusChanged,d=d.exclusionStatusUnchanged,l=(f=this.separateByExcludedStateChange(e.reparented)).exclusionStatusChanged,f=f.exclusionStatusUnchanged,p=[],v=[];return e.attributeChanged.forEach((function(e){var n=e.element,r=(e=e.changedAttributes,Object(o.b)(n,t.excludedClasses));r===h(t.nodeCurrentlyExcluded.get(n),!1)?v.push({element:n,changedAttributes:e}):(t.nodeCurrentlyExcluded.set(n,r),p.push({excluded:r,node:n}))})),{added:r,characterDataChanged:a,removed:c,reordered:d,reparented:f,attributeChanged:v,exclusionStatusChanged:n.concat(i,s,u,l,p)}},f.prototype.separateByExcludedStateChange=function(e){var t=this,n=[],r=[];return e.forEach((function(e){var i=Object(o.b)(e,t.excludedClasses);i===h(t.nodeCurrentlyExcluded.get(e),!1)?r.push(e):(t.nodeCurrentlyExcluded.set(e,i),n.push({excluded:i,node:e}))})),{exclusionStatusChanged:n,exclusionStatusUnchanged:r}},t.a=f;var p=function(t,n){return e({},t,{added:t.added.filter((function(e){return!Object(o.b)(e,n)})),removed:t.removed.filter((function(e){return!Object(o.b)(e,n)})),reparented:t.reparented.filter((function(e){return!Object(o.b)(e,n)})),reordered:t.reordered.filter((function(e){return!Object(o.b)(e,n)})),attributeChanged:t.attributeChanged.filter((function(e){return!Object(o.b)(e.element,n)})),characterDataChanged:t.characterDataChanged.filter((function(e){return!Object(o.b)(e,n)}))})},h=function(e,t){return"boolean"==typeof e?e:t},v=function(e){return[e].concat(l(Object(a.a)(e,(function(e){return v(e)}))))}}).call(this,n(5))},function(e,t,n){"use strict";n=n(22),t.a=Object(n.a)()},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(9),i="__mdn_node_id__",o=(t.a=function(){var e=0,t=Object(r.a)();return{hasNode:function(e){return i in e},getId:function(n){return n[i]||(e++,(n=n)[i]=e,t.set(e,n),e)},getNode:function(e){return t.get(e)},delete:function(e){var n;e[i]&&(n=e[i],delete e[i],t.delete(n))}}},function(e){return e[i]})},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(10),i=n(1),o=n(4),a=n(13),s=(t=n(17),{}),c=Object(t.a)(),u=function(e,t,n){return e===s?Object(i.b)(t,n):e};function d(e,t){void 0===t&&(t=s);var n=e.node,d=e.nodeIdTracker,l=e.excludedClasses;if(n.parentNode&&"SCRIPT"===n.parentNode.tagName)return null;e=d.getId(n);var f={nodeType:n.nodeType,id:e,attributes:{}};switch(f.nodeType){case Node.DOCUMENT_TYPE_NODE:var p=n;f.name=p.name,f.publicId=p.publicId,f.systemId=p.systemId;break;case Node.COMMENT_NODE:break;case Node.TEXT_NODE:u(t,n,l)?f.textContent="":f.textContent=n.textContent;break;case Node.ELEMENT_NODE:var h=n;if(f.tagName=h.tagName,Object(i.c)(h))return null;if(!(p=u(t,n,l))&&Object(o.a)(h,l)||(f.attributes["data-median-prevent-viewer-input"]="true"),p)try{f.attributes.class=h.getAttribute("class"),f.attributes.id=h.id;var v=Object(r.a)(h),m="background-color: #888; width: "+v.width+"px; height: "+v.height+"px;";f.attributes.style=m}catch(e){}else{f.attributes.style=null;for(var g=0;g<h.attributes.length;g++){var b=h.attributes[g];f.attributes[b.name]=b.value}}"http://www.w3.org/1999/xhtml"!==n.namespaceURI&&(f.namespaceURI=n.namespaceURI),"IFRAME"===n.nodeName&&(p=n,Object(a.b)(p)&&Object(o.c)(p,l)||(f.crossOrigin=!0)),"STYLE"!==n.nodeName||c||(v=n.sheet,m=Array.from(v.rules).map((function(e){return e.cssText})),f.stylesheetRules=m),"selected"in n&&(f.selected=n.selected),"checked"in n&&(f.checked=n.checked),Object(o.a)(n,l)||(f.attributes.placeholder="",f.attributes.value="")}return f}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r=function(e){return e.toDataURL()},i=function(e,t,n){var i=r(e),o=setInterval((function(){var t=r(e);t!==i&&(i=t,n())}),t);return function(){return clearInterval(o)}}},function(e,t,n){"use strict";(function(e,r){var i=n(38),o=n(56),a=n(26),s=n(39),c=n(41),u=n(54),d=n(18),l=n(8),f=n.n(l),p=function(t,n,r,i){return new(r=r||e)((function(e,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(a,s)}c((i=i.apply(t,n||[])).next())}))},h=function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(s){c=[6,s],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}};function v(e){var t=this;this.tabId=d(),this.socket=e,this.socketMessage=m(e),this.reactor=new u.a,this.phoneMode=new o.a,this.median=window.Median={},e.onReconnect((function(){t.authenticate()}))}v.prototype.init=function(e,t){return void 0===t&&(t={integrations:!0,window:window,displayPermissionDialog:!0,displayActionPermission:!0}),p(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return this.organizationId=e,this.options=this.mergeOptions(t),this.id=new i.a(this.options.window.document).uuid,this.appLink="https://cobrowse.hellomedian.com/screenshare/"+this.id,this.options.integrations&&(this.integrations=new a.a(this.appLink,this.organizationId,this.id).integrations),this.orgConfigsPromise=Object(s.a)(this.organizationId),this.authenticate(),[4,this.initializeMedian()];case 1:return n.sent(),[2]}}))}))},v.prototype.initializeMedian=function(){return p(this,void 0,void 0,(function(){var t,n,r,i,o=this;return h(this,(function(a){switch(a.label){case 0:return t={displayActionPermission:this.options.displayActionPermission,displayPermissionDialog:this.options.displayPermissionDialog},n=new e((function(e){return p(o,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return[4,this.orgConfigsPromise];case 1:return n=r.sent(),e(new c.a(this.socket,this.socketMessage,this.reactor,this.options.window,t,n,this.tabId)),[2]}}))}))})),this.socketMessage.on("requestPermission",(function(e){return void 0===e&&(e={}),p(o,void 0,void 0,(function(){var t;return h(this,(function(r){switch(r.label){case 0:return[4,n];case 1:return t=r.sent(),this.authenticated?[3,3]:[4,this.authenticationPromise];case 2:r.sent(),r.label=3;case 3:return e.tabId&&e.tabId!==this.tabId||t.requestPermission().catch((function(e){return console.log(e)})),[2]}}))}))})),this.socketMessage.on("requestActionPermission",(function(e){return void 0===e&&(e={}),p(o,void 0,void 0,(function(){var t;return h(this,(function(r){switch(r.label){case 0:return[4,n];case 1:return t=r.sent(),e.tabId&&e.tabId!==this.tabId||t.requestActionPermission().catch((function(e){return console.log(e)})),[2]}}))}))})),this.socketMessage.on("initiateScreenshare",(function(){return p(o,void 0,void 0,(function(){var e;return h(this,(function(t){switch(t.label){case 0:return[4,n];case 1:return e=t.sent(),this.authenticated?[3,3]:[4,this.authenticationPromise];case 2:t.sent(),t.label=3;case 3:return e.startOrRestartSession().catch((function(e){return console.log(e)})),[2]}}))}))})),this.median.id=this.id,this.median.phoneCode=this.phoneMode.code(),this.median._integrations=this.integrations,this.median._organization_id=this.organizationId,[4,n];case 1:return r=a.sent(),this.median.sessionActive=function(){return r.sessionStarted},this.median.identify=function(e){return o.identify(e)},this.median.detectChatIntegrations=function(){return o.detectChatIntegrations()},this.median.endSession=function(){return r.endSession(!0)},this.median.endActionControl=function(){return r.endActionControl()},this.median.grantAction=function(){return r.grantAction()},this.median.denyAction=function(){return r.denyAction()},this.median.grantPermission=function(){return r.grantSession()},this.median.denyPermission=function(){return r.denySession()},this.median.on=function(){var e;return(e=o.reactor).addEventListener.apply(e,arguments)},this.reactor.dispatchEvent("initialized"),[4,this.orgConfigsPromise];case 2:return i=a.sent(),(this.median._config=i).phone_mode&&this.phoneMode.listen(),[2]}}))}))},v.prototype.authenticate=function(){var t=this;return this.authenticated=!1,this.authenticationPromise=new e((function(e){return p(t,void 0,void 0,(function(){var t,n=this;return h(this,(function(r){switch(r.label){case 0:return[4,this.orgConfigsPromise];case 1:return t=r.sent(),this.socket.transmit("authenticate",{anonymousId:this.id,organizationId:this.organizationId,phoneCode:this.phoneMode.code(),requestPermission:t.request_permission,tabId:this.tabId,connector:"visitor"}),this.socketMessage.on("authenticated",(function(t){n.socket.transmit("pageview",n.options.window.location.href),n.authenticated=!0,e()})),[2]}}))}))})),this.authenticationPromise.catch((function(e){console.error("error authenticating",e)})),this.authenticationPromise},v.prototype.identify=function(e){var t=this;this.authenticated?this.socket.transmit("identify",e):this.socketMessage.on("authenticated",(function(n){t.socket.transmit("identify",e)})),this.reactor.dispatchEvent("identifiedVisitor",{customId:e})},v.prototype.on=function(e,t){this.reactor.addEventListener(e,t)},v.prototype.detectChatIntegrations=function(){return this.integrations=new a.a(this.appLink,this.organizationId,this.id).integrations,!0},v.prototype.mergeOptions=function(e){var t={integrations:!0,window:window,displayPermissionDialog:!0,displayActionPermission:!0};return r(t,e)},t.a=v;var m=function(e){var t=f()();return e.onMessage((function(e){var n=e.action;e=e.payload;t.emit(n,e)})),t}}).call(this,n(2),n(5))},function(e,t,n){"use strict";function r(e,t,n){this.screenshareLink=e,this.integrations={},this.organizationId=t,this.anonymousId=n,this.interval(),this.slaask()}r.prototype.interval=function(){var e=this,t=0,n=setInterval((function(){120==++t&&clearInterval(n),e.livechat(),e.olark(),e.tawkto(),e.intercom(),e.kustomer(),e.snapengage(),e.zendesk(),e.drift(),e.chatra(),e.jivochat(),e.reamaze(),e.crisp()}),500)},r.prototype.crisp=function(){try{window.$crisp&&!this.integrations.hasOwnProperty("crisp")&&(window.$crisp.push(["set","session:data",[[["Screenshare",this.screenshareLink]]]]),this.integrations.crisp=!0)}catch(e){}},r.prototype.livechat=function(){if((window.LC_API||window.LiveChatWidget)&&!this.integrations.hasOwnProperty("livechat")){var e=[],t=[];try{var n=window.__lc.params;"string"!=typeof n&&null!==n&&(e=n),t.push({name:"Median",value:"https://livechat.hellomedian.com/screenshare/"+this.anonymousId}),e.push({name:"Median",value:"https://livechat.hellomedian.com/screenshare/"+this.anonymousId})}catch(e){}try{window.LiveChatWidget.call("update_session_variables",{Median:"https://livechat.hellomedian.com/screenshare/"+this.anonymousId})}catch(e){window.LC_API.set_custom_variables(t)}setTimeout((function(){try{window.LC_API.agents_are_available()&&window.LC_API.set_custom_variables(e)}catch(e){}}),2e3);try{window.LC_API.on_chat_started=function(){window.LC_API.set_custom_variables(e)},this.integrations.livechat=!0}catch(e){}}},r.prototype.olark=function(){var e=this;try{this.integrations.hasOwnProperty("olark")||window.olark("api.chat.onReady",(function(){window.olark("api.chat.updateVisitorStatus",{snippet:"Screenshare: "+e.screenshareLink}),e.integrations.olark=!0}))}catch(e){}},r.prototype.jivochat=function(){try{window.jivo_api&&!this.integrations.hasOwnProperty("jivochat")&&(window.jivo_api.setCustomData([{content:"Start Screenshare",link:this.screenshareLink}]),this.integrations.jivochat=!0)}catch(e){}},r.prototype.tawkto=function(){var e=this;window.Tawk_API&&!this.integrations.hasOwnProperty("tawkto")&&(window.setTimeout((function(){window.Tawk_API.setAttributes({Screenshare:e.screenshareLink},(function(){}))}),5e3),this.integrations.tawkto=!0)},r.prototype.intercom=function(){window.Intercom&&!this.integrations.hasOwnProperty("intercom")&&(window.Intercom("update",{Screenshare:this.screenshareLink}),this.integrations.intercom=!0)},r.prototype.kustomer=function(){window.Kustomer&&!this.integrations.hasOwnProperty("kustomer")&&(this.integrations.kustomer=!0,new i(this.organizationId,this.anonymousId))},r.prototype.snapengage=function(){var e=this;window.SnapEngage&&!this.integrations.hasOwnProperty("snapengage")&&(this.integrations.snapengage=!0,window.SnapEngage.setCallback("StartChat",(function(){window.setTimeout((function(){window.SnapEngage.sendTextToChat("Start Screenshare: "+e.screenshareLink)}),6500)})))},r.prototype.zendesk=function(){var e=this;window.$zopim&&!this.integrations.hasOwnProperty("zendesk")&&(this.integrations.zendesk=!0,setTimeout((function(){window.$zopim.livechat.setOnChatStart((function(){window.$zopim.livechat.sendVisitorPath({url:e.screenshareLink,title:"Start Screenshare"})}))}),4e3))},r.prototype.drift=function(){var e=this;window.drift&&!this.integrations.hasOwnProperty("drift")&&(this.integrations.drift=!0,window.drift.on("ready",(function(){window.drift.api.setUserAttributes({screenshare:e.screenshareLink})})))},r.prototype.chatra=function(){window.Chatra&&!this.integrations.hasOwnProperty("chatra")&&(this.integrations.chatra=!0,window.Chatra("updateIntegrationData",{cobrowse:this.screenshareLink}))},r.prototype.slaask=function(){var e=this;sessionStorage.getItem("mdn_slaask_active")&&(this.integrations.slaask=!0),document.addEventListener("slaask.sent_message",(function(){e.integrations.hasOwnProperty("slaask")||(window._slaask.sendMessageToSlack("*[Median]* _Here's a screenshare link for this visitor: "+e.screenshareLink+" _"),sessionStorage.setItem("mdn_slaask_active","1"),e.integrations.slaask=!0)}),!1)},r.prototype.reamaze=function(){window.Reamaze&&!this.integrations.hasOwnProperty("reamaze")&&(window._support=window._support||{},window._support.custom_fields=window._support.custom_fields||{},window._support.custom_fields["Start CoBrowse Session"]={type:"hidden",value:this.screenshareLink},window.Reamaze.reload(),this.integrations.reamaze=!0)},t.a=r,o.prototype.start=function(){var e=this;return window.setInterval((function(){localStorage.getItem("kustomer-customer-id")&&(e.post(),window.clearInterval(e.interval))}),250)},o.prototype.post=function(){var e=localStorage.getItem("kustomer-customer-id").replace(/"/g,""),t=new XMLHttpRequest;e="kid="+e+"&anonymous_id="+this.anonymousId+"&organization_id="+this.organizationId;t.open("POST","https://cobrowse.hellomedian.com/kustomer/kustomer_id",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(e)};var i=o;function o(e,t){this.organizationId=e,this.anonymousId=t,this.interval=this.start()}},function(e,t,n){"use strict";(function(e){t.a=function(){return new e((function(e){var t=navigator.userAgent,r=(n(t)&&e(),setInterval((function(){document.hasFocus()&&(clearInterval(r),e())}),100))}))};var n=function(e){if(!(-1<e.toLowerCase().indexOf("chrome")))return!0;try{var t=e.toLowerCase().split(" ").filter((function(e){return e.includes("chrome/")}))[0].replace("chrome/","").split(".")[0];return parseInt(t,10)<69}catch(e){return!0}}}).call(this,n(2))},function(module,exports,__webpack_require__){(function(global,__webpack_provided_Object_dot_assign,module){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,e;function _construct2(e,t,n){return(_construct2=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];return r.push.apply(r,t),t=new(Function.bind.apply(e,r)),n&&_setPrototypeOf2(t,n.prototype),t}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){return}}}function _setPrototypeOf2(e,t){return(_setPrototypeOf2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray2(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray2(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray2(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray2(e)}function _arrayLikeToArray2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window,e=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=323)}([function(e,t,n){(function(t){e.exports=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,i=void 0,o=void 0,a=function(e,t){p[r]=e,p[r+1]=t,2===(r+=2)&&(o?o(h):v())},s="undefined"!=typeof window?window:void 0,c=s||{},u=c.MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(h,1)}}var p=new Array(1e3);function h(){for(var e=0;e<r;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;r=0}var v=void 0;function m(e,t){var n=this,r=new this.constructor(y);void 0===r[b]&&k(r);var i=n._state;if(i){var o=arguments[i-1];a((function(){return I(i,r,o,n._result)}))}else O(n,r,e,t);return r}function g(e){if(e&&"object"===_typeof(e)&&e.constructor===this)return e;var t=new this(y);return E(t,e),t}v=d?function(){return t.nextTick(h)}:u?function(){var e=0,t=new u(h),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():l?function(){var e=new MessageChannel;return e.port1.onmessage=h,function(){return e.port2.postMessage(0)}}():void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(h)}:f()}catch(e){return f()}}():f();var b=Math.random().toString(36).substring(2);function y(){}var _=void 0;function w(t,n,r){n.constructor===t.constructor&&r===m&&n.constructor.resolve===g?function(e,t){1===t._state?C(e,t._result):2===t._state?T(e,t._result):O(t,void 0,(function(t){return E(e,t)}),(function(t){return T(e,t)}))}(t,n):void 0===r?C(t,n):e(r)?function(e,t,n){a((function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?E(e,n):C(e,n))}),(function(t){r||(r=!0,T(e,t))}),e._label);!r&&i&&(r=!0,T(e,i))}),e)}(t,n,r):C(t,n)}function E(e,t){if(e===t)T(e,new TypeError("You cannot resolve a promise with itself"));else if(function(e){var t=_typeof(e);return null!==e&&("object"===t||"function"===t)}(t)){var n=void 0;try{n=t.then}catch(t){return void T(e,t)}w(e,t,n)}else C(e,t)}function S(e){e._onerror&&e._onerror(e._result),x(e)}function C(e,t){e._state===_&&(e._result=t,e._state=1,0!==e._subscribers.length&&a(x,e))}function T(e,t){e._state===_&&(e._state=2,e._result=t,a(S,e))}function O(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+1]=n,i[o+2]=r,0===o&&e._state&&a(x,e)}function x(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?I(n,r,i,o):i(o);e._subscribers.length=0}}function I(t,n,r,i){var o=e(r),a=void 0,s=void 0,c=!0;if(o){try{a=r(i)}catch(t){c=!1,s=t}if(n===a)return void T(n,new TypeError("A promises callback cannot return that same promise."))}else a=i;n._state!==_||(o&&c?E(n,a):!1===c?T(n,s):1===t?C(n,a):2===t&&T(n,a))}var A=0;function k(e){e[b]=A++,e._state=void 0,e._result=void 0,e._subscribers=[]}var R=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(y),this.promise[b]||k(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&C(this.promise,this._result))):T(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===_&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function e(t,n){var r=this._instanceConstructor,i=r.resolve;if(i===g){var o=void 0,a=void 0,s=!1;try{o=t.then}catch(e){s=!0,a=e}if(o===m&&t._state!==_)this._settledAt(t._state,n,t._result);else if("function"!=typeof o)this._remaining--,this._result[n]=t;else if(r===D){var c=new r(y);s?T(c,a):w(c,t,o),this._willSettleAt(c,n)}else this._willSettleAt(new r((function(e){return e(t)})),n)}else this._willSettleAt(i(t),n)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===_&&(this._remaining--,2===e?T(r,n):this._result[t]=n),0===this._remaining&&C(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;O(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),D=function(){function t(e){this[b]=A++,this._result=this._state=void 0,this._subscribers=[],y!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){E(e,t)}),(function(t){T(e,t)}))}catch(t){T(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return D.prototype.then=m,D.all=function(e){return new R(this,e).promise},D.race=function(e){var t=this;return n(e)?new t((function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},D.resolve=g,D.reject=function(e){var t=new this(y);return T(t,e),t},D._setScheduler=function(e){o=e},D._setAsap=function(e){a=e},D._asap=a,D.polyfill=function(){var e=void 0;if(void 0!==(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global))e=void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=D},D.Promise=D}()}).call(this,n(69))},function(e,t,n){"use strict";var r=n(391),i=n(190),o=n(119);(n=i((function(e){var t={};return Object.keys(o).forEach((function(n){var i=o[n].method,a=r("OpenTok:".concat(e,":").concat(n.toLowerCase()));a.log=console[i].bind(console),t[n.toLowerCase()]=a})),t}))).setLogLevel=function(e){var t;try{t=(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).localStorage.debug}catch(n){t=""}var n=Object.keys(o).map((function(t){return"".concat(e>=o[t].priority?"":"-","(autogen)?OpenTok:*:").concat(t.toLowerCase())}));n=[].concat(_toConsumableArray(n),_toConsumableArray((t||"").split(/[\s,]/).filter((function(e){return-1===e.indexOf("(autogen)?")})))).filter((function(e){return e})).join(","),r.enable(n)},e.exports=n},function(e,t,n){"use strict";(function(t){var r,i={version:-1,name:"unknown"},o=n(530),a=n(531),s=n(532),c=0<=(null==(c=void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global)||null==(c=c.navigator)?void 0:c.userAgent.toLowerCase().indexOf("electron"));"string"!=typeof(null==(r=void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global)||null==(r=r.process)||null==(r=r.versions)?void 0:r.node)||c?(i.userAgent=(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).navigator.userAgent.toLowerCase(),i.name="unknown",-1<i.userAgent.indexOf("opera")||-1<i.userAgent.indexOf("opr/")?(i.name="Opera",i.isOpera=!0,null!==/opr\/([0-9]{1,}[.0-9]{0,})/.exec(i.userAgent)&&(i.version=parseFloat(RegExp.$1))):-1<i.userAgent.indexOf("firefox")?(i.name="Firefox",i.isFirefox=!0,null!==/firefox\/([0-9]{1,}[.0-9]{0,})/.exec(i.userAgent)&&(i.version=parseFloat(RegExp.$1))):i.userAgent.match(/edge?\/(\d+)(?:\.\d+)+$/)?(i.name="Edge",i.isEdge=!0,r=RegExp.$1,i.version=parseInt(r,10)):-1<i.userAgent.indexOf("chrome")?(i.name="Chrome",i.isElectron=c,i.isElectron?i.electronVersion=s((void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).navigator.userAgent):i.isChrome=!0,null!==/chrome\/([0-9]{1,}[.0-9]{0,})/.exec(i.userAgent)&&(i.version=parseFloat(RegExp.$1))):(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).navigator.vendor&&-1<(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).navigator.vendor.toLowerCase().indexOf("apple")?(i.name="Safari",i.isSafari=!0,i.isiOS=o(),i.isiOS&&(i.iOSVersion=parseFloat(a())),null===/version\/([0-9]{1,}[.0-9]{0,})/.exec(i.userAgent)&&null===/fxios\/([0-9]{1,}[.0-9]{0,})/.exec(i.userAgent)&&null===/crios\/([0-9]{1,}[.0-9]{0,})/.exec(i.userAgent)||(i.version=parseFloat(RegExp.$1))):-1<i.userAgent.indexOf("applewebkit")&&-1===i.userAgent.indexOf("version")&&(i.isIosWebView=!0),i.isChromiumEdge="Edge"===i.name&&79<=i.version,i.isLegacyEdge="Edge"===i.name&&i.version<79,i.isLegacyElectron=i.isElectron&&i.electronVersion<2,i.isAndroid=-1<i.userAgent.indexOf("android"),i.userAgent=(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).navigator.userAgent,i.protocol=(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).location.protocol,i.hostName=(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).location.hostName,(-1===i.version||"unknown"===i.name||i.isiOS&&!i.iOSVersion)&&(i.error=!0)):(i.name="Node",i.isNode=!0,i.version=parseInt(t.versions.node,10),i.userAgent="".concat(i.name," ").concat(i.version)),e.exports=i}).call(this,n(69))},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";e.exports={AUTHENTICATION_ERROR:"OT_AUTHENTICATION_ERROR",BADLY_FORMED_RESPONSE:"OT_BADLY_FORMED_RESPONSE",CHROME_MICROPHONE_ACQUISITION_ERROR:"OT_CHROME_MICROPHONE_ACQUISITION_ERROR",CONNECT_FAILED:"OT_CONNECT_FAILED",CONNECTION_LIMIT_EXCEEDED:"OT_CONNECTION_LIMIT_EXCEEDED",CONSTRAINTS_NOT_SATISFIED:"OT_CONSTRAINTS_NOT_SATISFIED",CREATE_PEER_CONNECTION_FAILED:"OT_CREATE_PEER_CONNECTION_FAILED",DISCONNECTED:"OT_DISCONNECTED",EMPTY_RESPONSE_BODY:"OT_EMPTY_RESPONSE_BODY",GET_RTC_STATS_REPORT_NOT_SUPPORTED:"OT_GET_RTC_STATS_REPORT_NOT_SUPPORTED",HARDWARE_UNAVAILABLE:"OT_HARDWARE_UNAVAILABLE",ICE_WORKFLOW_FAILED:"OT_ICE_WORKFLOW_FAILED",INVALID_HTTP_STATUS:"OT_INVALID_HTTP_STATUS",INVALID_PARAMETER:"OT_INVALID_PARAMETER",INVALID_SESSION_ID:"OT_INVALID_SESSION_ID",MEDIA_ERR_ABORTED:"OT_MEDIA_ERR_ABORTED",MEDIA_ERR_DECODE:"OT_MEDIA_ERR_DECODE",MEDIA_ERR_NETWORK:"OT_MEDIA_ERR_NETWORK",MEDIA_ERR_SRC_NOT_SUPPORTED:"OT_MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ENDED:"OT_MEDIA_ENDED",NO_DEVICES_FOUND:"OT_NO_DEVICES_FOUND",NO_VALID_CONSTRAINTS:"OT_NO_VALID_CONSTRAINTS",NOT_CONNECTED:"OT_NOT_CONNECTED",NOT_FOUND:"OT_NOT_FOUND",NOT_SUPPORTED:"OT_NOT_SUPPORTED",PEER_CONNECTION_NOT_CONNECTED:"OT_PEER_CONNECTION_NOT_CONNECTED",PERMISSION_DENIED:"OT_PERMISSION_DENIED",RATE_LIMIT_EXCEEDED:"OT_RATE_LIMIT_EXCEEDED",REPORT_ISSUE_FAILED:"OT_REPORT_ISSUE_FAILED",SCREEN_SHARING_EXTENSION_NOT_INSTALLED:"OT_SCREEN_SHARING_EXTENSION_NOT_INSTALLED",SCREEN_SHARING_EXTENSION_NOT_REGISTERED:"OT_SCREEN_SHARING_EXTENSION_NOT_REGISTERED",SCREEN_SHARING_NOT_SUPPORTED:"OT_SCREEN_SHARING_NOT_SUPPORTED",SET_REMOTE_DESCRIPTION_FAILED:"OT_SET_REMOTE_DESCRIPTION_FAILED",SOCKET_ALREADY_CONNECTED_CONNECTING:"OT_SOCKET_ALREADY_CONNECTED_CONNECTING",SOCKET_CLOSE_ABNORMAL:"OT_SOCKET_CLOSE_ABNORMAL",SOCKET_CLOSE_CONNECT_EXCEPTION:"OT_SOCKET_CLOSE_CONNECT_EXCEPTION",SOCKET_CLOSE_CONNECTIVITY_LOSS:"OT_SOCKET_CLOSE_CONNECTIVITY_LOSS",SOCKET_CLOSE_FALLBACK_CODE:"OT_SOCKET_CLOSE_FALLBACK_CODE",SOCKET_CLOSE_INCONSISTENT_DATA:"OT_SOCKET_CLOSE_INCONSISTENT_DATA",SOCKET_CLOSE_NO_STATUS:"OT_SOCKET_CLOSE_NO_STATUS",SOCKET_CLOSE_POLICY_VIOLATION:"OT_SOCKET_CLOSE_POLICY_VIOLATION",SOCKET_CLOSE_GOING_AWAY:"OT_SOCKET_CLOSE_GOING_AWAY",SOCKET_CLOSE_PROTOCOL_ERROR:"OT_SOCKET_CLOSE_PROTOCOL_ERROR",SOCKET_CLOSE_TIMEOUT:"OT_SOCKET_CLOSE_TIMEOUT",SOCKET_CLOSE_TOO_LARGE:"OT_SOCKET_CLOSE_TOO_LARGE",SOCKET_CLOSE_UNEXPECTED_CONDITION:"OT_SOCKET_CLOSE_UNEXPECTED_CONDITION",SOCKET_CLOSE_UNSUPPORTED:"OT_SOCKET_CLOSE_UNSUPPORTED",STREAM_CREATE_FAILED:"OT_STREAM_CREATE_FAILED",STREAM_DESTROYED:"OT_STREAM_DESTROYED",STREAM_LIMIT_EXCEEDED:"OT_STREAM_LIMIT_EXCEEDED",STREAM_NOT_FOUND:"OT_STREAM_NOT_FOUND",UNABLE_TO_SUBSCRIBE:"OT_UNABLE_TO_SUBSCRIBE",TERMS_OF_SERVICE_FAILURE:"OT_TERMS_OF_SERVICE_FAILURE",TIMEOUT:"OT_TIMEOUT",CANCEL:"OT_CANCEL",UNABLE_TO_CAPTURE_MEDIA:"OT_UNABLE_TO_CAPTURE_MEDIA",UNABLE_TO_CAPTURE_SCREEN:"OT_UNABLE_TO_CAPTURE_SCREEN",UNEXPECTED_ERROR_CODE:"OT_UNEXPECTED_ERROR_CODE",UNEXPECTED_HTTP_STATUS:"OT_UNEXPECTED_HTTP_STATUS",UNEXPECTED_SERVER_RESPONSE:"OT_UNEXPECTED_SERVER_RESPONSE",UNKNOWN_HTTP_ERROR:"OT_UNKNOWN_HTTP_ERROR",UNSUPPORTED_BROWSER:"OT_UNSUPPORTED_BROWSER",USER_MEDIA_ACCESS_DENIED:"OT_USER_MEDIA_ACCESS_DENIED",XDOMAIN_OR_PARSING_ERROR:"OT_XDOMAIN_OR_PARSING_ERROR",API_KEY_DISABLED:"OT_API_KEY_DISABLED",UNABLE_TO_ACCESS_MEDIA_ENGINE:"OT_UNABLE_TO_ACCESS_MEDIA_ENGINE",SET_PROXY_URL_TIMING_ERROR:"OT_SET_PROXY_URL_TIMING_ERROR",PROXY_URL_ALREADY_SET_ERROR:"OT_PROXY_URL_ALREADY_SET_ERROR",SET_VIDEO_SOURCE_FAILURE:"OT_SET_VIDEO_SOURCE_FAILURE",INVALID_VIDEO_SOURCE:"OT_INVALID_VIDEO_SOURCE",REQUESTED_DEVICE_PERMISSION_DENIED:"OT_REQUESTED_DEVICE_PERMISSION_DENIED",INVALID_AUDIO_OUTPUT_SOURCE:"OT_INVALID_AUDIO_OUTPUT_SOURCE"}},function(e,t,n){"use strict";var r=n(245),i=n(249),o=n(6),a=n(1);r.logging=a("OT.$"),r.ElementCollection=n(246),r.env=n(2),r.ajax=n(244),r.statable=n(538),r.Analytics=n(243),r.Collection=n(248),r.domExtras=n(539),r.Error=n(250),i(r,"useLogHelpers",{value:function(e){var t=a("useLogHelpersDeprecatedMixin");return Object.keys(t).forEach((function(n){e[n]=t[n]})),e},name:"OT.useLogHelpers",getWarning:"Please use an external library for your debugging needs"}),r.defaults=n(140),i(r,"eventing",{value:o,name:"OT.$.eventing",getWarning:"Please use an external library to create an event emitter."}),Object.keys(r).forEach((function(e){var t=r[e]._attachToOTHelpers||{};Object.keys(t).forEach((function(n){!Object.hasOwnProperty.call(r,n)||"util"===e&&"bind"===n||console.warn("More than one module is trying to define ".concat(n," on OTHelpers.")),r[n]=t[n]}))})),e.exports=r},function(e,t,n){"use strict";var r=n(41),i=n(15),o=n(1)("Events"),a=n(7),s=n(396);e.exports=function(e){var t=new r;return t.on("newListener",(function(e){t.emit("".concat(e,":added"))})),t.on("removeListener",(function(e){t.emit("".concat(e,":removed"))})),a(e,{on:function(e,n,r){return"string"==typeof e&&n?e.split(" ").forEach((function(e){t.on(e,s(n,r))})):Object.keys(e).forEach((function(r){t.on(r,s(e[r],n))})),this},off:function(e,n,r){return"string"==typeof e?this.off(e.split(" "),n,r):Array.isArray(e)?e.forEach((function(e){n&&i(n)?t.removeListener(e,s(n,r)):t.removeAllListeners(e)})):e?Object.keys(e).forEach((function(r){t.removeListener(r,s(e[r],n))})):t.removeAllListeners(),this},once:function(e,n,r){return"string"==typeof e&&n?e.split(" ").forEach((function(e){t.once(e,s(n,r))})):Object.keys(e).forEach((function(r){t.once(r,s(e[r],n))})),this},dispatchEvent:function(e){if(e.type)return e.target||(e.target=this),this.trigger(e.type,e),this;throw new Error("dispatchEvent: Event has no type")},trigger:function(e){try{for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))}catch(e){o.error("An error occurred in an event handler",e)}return this},emit:function(){return e.trigger.apply(e,arguments)},addEventListener:function(t,n,r){return o.warn("The addEventListener() method is deprecated. Use on() or once() instead."),e.on(t,n,r)},removeEventListener:function(t,n,r){return o.warn("The removeEventListener() method is deprecated. Use off() instead."),e.off(t,n,r)},listenerCount:function(e){return t.listenerCount(e)}})}},function(e,t,n){var r=n(83),i=n(39),o=n(191),a=n(24),s=n(68),c=n(30),u=Object.prototype.hasOwnProperty;n=o((function(e,t){if(s(t)||a(t))i(t,c(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])})),e.exports=n},function(e,t,n){"use strict";e.exports={JS_EXCEPTION:2e3,AUTHENTICATION_ERROR:1004,INVALID_SESSION_ID:1005,CONNECT_FAILED:1006,CONNECT_REJECTED:1007,CONNECTION_TIMEOUT:1008,NOT_CONNECTED:1010,INVALID_PARAMETER:1011,P2P_CONNECTION_FAILED:1013,API_RESPONSE_FAILURE:1014,PEER_CONNECTION_NOT_CONNECTED:1015,TERMS_OF_SERVICE_FAILURE:1026,CONNECTION_LIMIT_EXCEEDED:1027,UNABLE_TO_PUBLISH:1500,UNABLE_TO_SUBSCRIBE:1501,UNSUPPORTED_VIDEO_CODEC:1502,UNABLE_TO_FORCE_DISCONNECT:1520,UNABLE_TO_FORCE_UNPUBLISH:1530,UNABLE_TO_FORCE_MUTE:1540,PUBLISHER_ICE_WORKFLOW_FAILED:1553,SUBSCRIBER_ICE_WORKFLOW_FAILED:1554,STREAM_LIMIT_EXCEEDED:1605,UNEXPECTED_SERVER_RESPONSE:2001,REPORT_ISSUE_ERROR:2011,SET_PROXY_URL_TIMING_ERROR:2021,PROXY_URL_ALREADY_SET_ERROR:2022,GET_RTC_STATS_REPORT_NOT_SUPPORTED:2031,ANVIL_BADLY_FORMED_RESPONSE:3001,ANVIL_INVALID_HTTP_STATUS:3002,ANVIL_XDOMAIN_OR_PARSING_ERROR:3003,ANVIL_UNKNOWN_HTTP_ERROR:3004,ANVIL_UNEXPECTED_ERROR_CODE:3005,ANVIL_EMPTY_RESPONSE_BODY:3006,ANVIL_CONNECT_FAILED:3007,UNABLE_TO_ACCESS_MEDIA_ENGINE:5001}},function(e,t){e.exports=function(e){var t=_typeof(e);return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";e.exports=function(e){var t=(e=void 0===e?{}:e).Errors||n(4),r=e.OTErrorClass||n(21),i=Object.keys(t).map((function(e){return t[e]}));return function(e,t,n){if(-1===i.indexOf(e))return new Error("Attempt to use invalid error name (".concat(e,"). Original message: ").concat(t.message));if(!(t instanceof Error||/^\[object .*Error\]$/.test(Object.prototype.toString.call(t))))return new Error("Did not pass Error as second argument: ".concat(t));var o=new r(void 0,t.message);if(o.name=e,!t.stack)try{throw t}catch(e){}return o.stack=t.stack,n&&(o.code=n),o}}},function(e,t,n){e.exports=n(600)},function(e,t,n){(function(t){function n(e,n,r,i,o,a,s){try{var c=e[a](s),u=c.value}catch(e){return void r(e)}c.done?n(u):t.resolve(u).then(i,o)}e.exports=function(e){return function(){var r=this,i=arguments;return new t((function(t,o){var a=e.apply(r,i);function s(e){n(a,t,o,s,c,"next",e)}function c(e){n(a,t,o,s,c,"throw",e)}s(void 0)}))}}}).call(this,n(0))},function(e,t,n){n=n(173);var r="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self;n=n||r||Function("return this")(),e.exports=n},function(e,t,n){var r=n(29),i=n(9);e.exports=function(e){return!!i(e)&&("[object Function]"==(e=r(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==_typeof(e)}},function(e,t,n){"use strict";var r=n(207),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"===_typeof(e)}function c(e){return"[object Object]"===i.call(e)&&(null===(e=Object.getPrototypeOf(e))||e===Object.prototype)}function u(e){return"[object Function]"===i.call(e)}function d(e,t){if(null!=e)if(o(e="object"!==_typeof(e)?[e]:e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(525),i=n=n(526);i.v1=r,i.v4=n,e.exports=i},function(e,t,n){"use strict";n={publishers:new(n=n(248))("guid"),subscribers:new n("widgetId"),sessions:new n},e.exports=n},function(e,t,n){"use strict";function r(e,t){Error.call(this),this.code=e,this.message=t}var i=n(1)("GlobalExceptionHandler"),o=n(6),a=n(26),s=n(537),c=n(22)();r.prototype=Object.create(Error.prototype),o(e.exports=r.prototype.constructor=r),r.getTitleByCode=function(e){return s[+e]},r.handleJsException=function(e){var t=e.error,n=e.errorMsg,o=e.code,s=e.target;if(e=e.analytics,!s)throw new Error("handleJsException requires target");function u(){return void 0!==o?o:t&&t.code}function d(){return void 0!==n?n:t&&t.message}var l=r.getTitleByCode(u());i.error("OT.exception :: title: ".concat(l," (").concat(u(),") msg: ").concat(d()));try{var f={partnerId:(s.session||s).apiKey,sessionId:(s.session||s).sessionId},p=(e.logError(u(),"tb.exception",l,{details:d()},f),new c.ExceptionEvent(a.EXCEPTION,d(),l,u(),s,s,t));if(t)p.stack=t.stack;else try{throw new Error}catch(e){p.stack=e.stack}r.dispatchEvent(p)}catch(e){i.error("OT.exception :: Failed to dispatch exception - ".concat(e.toString()))}}},function(e,t,n){"use strict";var r=n(3),i=r(n(45)),o=r(n(59)),a=n(126),s=n(26);e.exports=function(e){var t=(e=void 0===e?{}:e).logging||n(1)("Events"),r=(e={ExceptionEvent:function(e,t,n,r,i,o,s){return new a(e,!1,{error:s,message:t,title:n,code:r,component:i,target:o})},IssueReportedEvent:function(e,t){return new a(e,!1,{issueId:t})},EnvLoadedEvent:function(e){return new a(e,!1)}},!1),c=(e.ConnectionEvent=function(e){function n(t,n,r){return e.call(this,t,!1,{connection:n,reason:r})||this}return(0,o.default)(n,e),(0,i.default)(n,[{key:"connections",get:function(){return r||(t.warn("OT.ConnectionEvent connections property is deprecated, use connection instead."),r=!0),[this.connection]}}]),n}(a),!1),u=(e.StreamEvent=function(e){function n(t,n,r,i){return e.call(this,t,i,{stream:n,reason:r})||this}return(0,o.default)(n,e),(0,i.default)(n,[{key:"streams",get:function(){return c||(t.warn("OT.StreamEvent streams property is deprecated, use stream instead."),c=!0),[this.stream]}}]),n}(a),!1),d=!1,l=!1;return e.SessionConnectEvent=function(e){function n(t){return e.call(this,t,!1)||this}return(0,o.default)(n,e),(0,i.default)(n,[{key:"connections",get:function(){return u||(t.warn("OT.SessionConnectedEvent no longer includes connections. Listen for connectionCreated events instead."),u=!0),[]}},{key:"streams",get:function(){return d||(t.warn("OT.SessionConnectedEvent no longer includes streams. Listen for streamCreated events instead."),d=!0),[]}},{key:"archives",get:function(){return l||(t.warn("OT.SessionConnectedEvent no longer includes archives. Listen for archiveStarted events instead."),l=!0),[]}}]),n}(a),e.SessionReconnectingEvent=function(){return new a(s.SESSION_RECONNECTING,!1)},e.SessionReconnectedEvent=function(){return new a(s.SESSION_RECONNECTED)},e.SessionDisconnectEvent=function(e,t,n){return new a(e,n,{reason:t})},e.StreamPropertyChangedEvent=function(e,t,n,r,i){return new a(e,!1,{stream:t,changedProperty:n,oldValue:r,newValue:i})},e.VideoDimensionsChangedEvent=function(e,t,n){return new a("videoDimensionsChanged",!1,{target:e,oldValue:t,newValue:n})},e.ArchiveEvent=function(e,t){return new a(e,!1,{id:t.id,name:t.name,status:t.status,archive:t})},e.ArchiveUpdatedEvent=function(e,t,n,r){return new a("updated",!1,{target:e,changedProperty:t,oldValue:n,newValue:r})},e.SignalEvent=function(e,t,n){return new a(e?"signal:".concat(e):s.SIGNAL,!1,{data:t,from:n})},e.StreamUpdatedEvent=function(e,t,n,r){return new a("updated",!1,{target:e,changedProperty:t,oldValue:n,newValue:r})},e.DestroyedEvent=function(e,t,n){return new a(e,!1,{target:t,reason:n})},e.ConnectionStateChangedEvent=function(e,t){return new a(e,!1,{target:t})},e.VideoEnabledChangedEvent=function(e,t){return new a(e,!1,{reason:t.reason})},e.VideoDisableWarningEvent=function(e){return new a(e,!1)},e.AudioLevelUpdatedEvent=function(e){return new a(s.AUDIO_LEVEL_UPDATED,!1,{audioLevel:e})},e.MediaStoppedEvent=function(e,t){return new a(s.MEDIA_STOPPED,!0,{target:e,track:t})},e.MuteForcedEvent=function(e){return new a(s.MUTE_FORCED,!1,e)},e.VideoElementCreatedEvent=function(e){return new a(s.VIDEO_ELEMENT_CREATED,!1,{element:e})},e}},function(e,t,n){"use strict";(function(t){var r=n(3),i=r(n(12)),o=r(n(13));e.exports=function(e){var r=(e=void 0===e?{}:e).getNativeEnumerateDevices||n(286)(),a=e.getNativeMediaDevices||n(624)(),s=(e.currentAudioOutputDevice||n(105)).getCurrentAudioOutputDeviceId,c=e.env||n(2),u=e.global||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global),d={},l={audio:"audioInput",video:"videoInput",audioinput:"audioInput",videoinput:"videoInput",audiooutput:"audioOutput",audioInput:"audioInput",videoInput:"videoInput",audioOutput:"audioOutput"};return d.getNativeMediaDevices=function(){return a()},d.hasEnumerateDevicesCapability=function(){return"function"==typeof r()},d.hasDeviceChangeCapability=function(){var e=a();return!(!e||!("ondevicechange"in e))},d.hasSetSinkIdCapability=function(){return"setSinkId"in(null==u?void 0:u.HTMLMediaElement.prototype)},d.hasAudioOutputApiSupport=function(){return d.hasSetSinkIdCapability()&&d.hasDeviceChangeCapability()},d.hasEnumerateDevicesBug=function(){return c.isSafari&&13.1===c.version},d.getMediaDevices=function(){return d.hasEnumerateDevicesCapability()?r()().then((function(e){return e.map((function(e){return{deviceId:e.deviceId||e.id,label:e.label,kind:l[e.kind]}}))})):t.reject(new Error("This browser does not support enumerateDevices APIs"))},d.getInputMediaDevices=function(){return d.getMediaDevices().then((function(e){return e.filter((function(e){return/^(audio|video)Input$/.test(e.kind)}))}))},d.getAudioOutputMediaDevices=function(){return d.getMediaDevices().then((function(e){return e.filter((function(e){return"audioOutput"===e.kind})).map((function(e){return{deviceId:e.deviceId,label:e.label}}))}))},d.shouldAskForDevices=function(){return d.hasEnumerateDevicesCapability()?d.getInputMediaDevices().then((function(e){if(0===e.length)return{video:!0,audio:!0};var t=e.filter((function(e){return"audioInput"===e.kind}));return e=e.filter((function(e){return"videoInput"===e.kind})),d.hasEnumerateDevicesBug()&&0===e.length?{audio:!0,video:!0}:{video:0<e.length,audio:0<t.length,videoDevices:e,audioDevices:t}})).catch((function(){return{video:!0,audio:!0}})):t.resolve({video:!0,audio:!0})},d.getDefaultAudioOutputDeviceId=function(e){return Array.isArray(e)&&0!==e.length?(e.find((function(e){return"default"===e.deviceId}))||e[0]).deviceId:""},d.hasDevice=function(e,t){return(e=Array.isArray(e)?e:[]).some((function(e){return e.deviceId===t}))},d.getActiveAudioOutputDevice=(0,o.default)(i.default.mark((function e(){var t,n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.getAudioOutputMediaDevices();case 3:t=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:if(0===t.length)return e.abrupt("return",{deviceId:null,label:null});e.next=11;break;case 11:return(n=t.find((function(e){return e.deviceId===s()})))||(r=d.getDefaultAudioOutputDeviceId(t),n=t.find((function(e){return e.deviceId===r}))),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,null,[[0,6]])}))),d}}).call(this,n(0))},function(e,t,n){var r=n(15),i=n(112);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t){function n(){return e.exports=n=__webpack_provided_Object_dot_assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";e.exports={ACTIVE:"active",INACTIVE:"inactive",UNKNOWN:"unknown",PER_SESSION:"perSession",PER_STREAM:"perStream",EXCEPTION:"exception",ISSUE_REPORTED:"issueReported",SESSION_CONNECTED:"sessionConnected",SESSION_RECONNECTING:"sessionReconnecting",SESSION_RECONNECTED:"sessionReconnected",SESSION_DISCONNECTED:"sessionDisconnected",STREAM_CREATED:"streamCreated",STREAM_DESTROYED:"streamDestroyed",CONNECTION_CREATED:"connectionCreated",CONNECTION_DESTROYED:"connectionDestroyed",SIGNAL:"signal",STREAM_PROPERTY_CHANGED:"streamPropertyChanged",MICROPHONE_LEVEL_CHANGED:"microphoneLevelChanged",RESIZE:"resize",SETTINGS_BUTTON_CLICK:"settingsButtonClick",DEVICE_INACTIVE:"deviceInactive",INVALID_DEVICE_NAME:"invalidDeviceName",ACCESS_ALLOWED:"accessAllowed",ACCESS_DENIED:"accessDenied",ACCESS_DIALOG_OPENED:"accessDialogOpened",ACCESS_DIALOG_CLOSED:"accessDialogClosed",ECHO_CANCELLATION_MODE_CHANGED:"echoCancellationModeChanged",MEDIA_STOPPED:"mediaStopped",PUBLISHER_DESTROYED:"destroyed",MUTE_FORCED:"muteForced",SUBSCRIBER_DESTROYED:"destroyed",SUBSCRIBER_CONNECTED:"connected",SUBSCRIBER_DISCONNECTED:"disconnected",DEVICES_DETECTED:"devicesDetected",DEVICES_SELECTED:"devicesSelected",CLOSE_BUTTON_CLICK:"closeButtonClick",MICLEVEL:"microphoneActivityLevel",MICGAINCHANGED:"microphoneGainChanged",ENV_LOADED:"envLoaded",ENV_UNLOADED:"envUnloaded",AUDIO_LEVEL_UPDATED:"audioLevelUpdated",VIDEO_ELEMENT_CREATED:"videoElementCreated"}},function(e,t,n){"use strict";var r=(d=n(3))(n(25)),i=d(n(45)),o=d(n(18)),a=n(240),s=n(243),c=n(141),u=n(44)(),d=n(6),l=n(540);n=function(){function e(e){var t=void 0===(t=(e=void 0===e?{}:e).staticConfig)?u.onlyLocal():t,n=void 0===(n=e.sessionInfo)?new c:n,r=e.ajax;e=e.queue,(0,o.default)(this,"getTurnServerName",(function(e){var t,n;return e&&"object"===_typeof(e)?((Array.isArray(e)?e:[e]).forEach((function(e){e=e.urls||e.url,(Array.isArray(e)?e:[e]).forEach((function(e){var r=e.indexOf(":")+1,i=e.lastIndexOf(":");e.includes("turns")?n=e.substring(r,i):t=e.substring(r,i)}))})),n||t):t})),this.ajax=r,this.queue=e,this.sessionInfo=n,this.staticConfig=t}var t=e.prototype;return t._getCommon=function(){return{clientVersion:this.staticConfig.clientVersion,buildHash:this.staticConfig.buildHash,source:(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).location&&(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).location.href,logVersion:"2",apiServer:this.staticConfig.apiUrl,clientSystemTime:(new Date).getTime(),sessionId:this.sessionInfo.sessionId,mediaServerName:this.sessionInfo.mediaServerName,relayServer:this.getTurnServerName(this.sessionInfo.iceServers),p2p:this.sessionInfo.p2pEnabled,messagingServer:this.sessionInfo.messagingServer,messagingUrl:this.sessionInfo.messagingURL,version:this.staticConfig.version,partnerId:this.sessionInfo.partnerId}},t.logError=function(t,n,i,o,s){var c=this;void 0===s&&(s={}),a.get((function(a,u){a||(a=[t,n,i,o,(0,r.default)({guid:u},c.combineWithCommon(s))],e.emit.apply(e,["logError"].concat(a)),(u=c._analytics).logError.apply(u,a))}))},t.combineWithCommon=function(e){return(0,r.default)({},this._getCommon(),e)},t.logEvent=function(t,n,i){var o=this;void 0===t&&(t={}),a.get((function(a,s){a||(a=(0,r.default)({guid:s},o.combineWithCommon(t)),e.emit("logEvent",a),o._analytics.logEvent(a,!1,n,i))}))},t.logQOS=function(t){var n=this;void 0===t&&(t={}),a.get((function(i,o){i||(i=(0,r.default)({guid:o,duration:0},n.combineWithCommon(t)),l(i),e.emit("logQOS",i),n._analytics.logQOS(i))}))},(0,i.default)(e,[{key:"staticConfig",get:function(){return this._staticConfig},set:function(e){this._staticConfig=e,this._analytics=new s({loggingUrl:this.staticConfig.loggingUrl,ajax:this.ajax,queue:this.queue})}}]),e}(),d(n),e.exports=n},function(e,t,n){"use strict";var r=!0,i=!0;function o(e,t,n){return(e=e.match(t))&&e.length>=n&&parseInt(e[n],10)}e.exports={extractVersion:o,wrapPeerConnectionEvent:function(e,t,n){var r,i;e.RTCPeerConnection&&(e=e.RTCPeerConnection.prototype,r=e.addEventListener,e.addEventListener=function(e,i){if(e!==t)return r.apply(this,arguments);function o(e){(e=n(e))&&i(e)}return this._eventMap=this._eventMap||{},this._eventMap[i]=o,r.apply(this,[e,o])},i=e.removeEventListener,e.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return i.apply(this,arguments);var r=this._eventMap[n];return delete this._eventMap[n],i.apply(this,[e,r])},Object.defineProperty(e,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0}))},disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+_typeof(e)+". Please use a boolean."):(r=e)?"adapter.js logging disabled":"adapter.js logging enabled"},disableWarnings:function(e){return"boolean"!=typeof e?new Error("Argument type: "+_typeof(e)+". Please use a boolean."):(i=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},log:function(){"object"!==("undefined"==typeof window?"undefined":_typeof(window))||r||"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)},deprecated:function(e,t){i&&console.warn(e+" is deprecated, please use "+t+" instead.")},detectBrowser:function(e){var t=e&&e.navigator,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=o(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)n.browser="chrome",n.version=o(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=o(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=o(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return n}}},function(e,t,n){var r=n(38),i=n(352),o=n(353),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(a&&a in Object(e)?i:o)(e)}},function(e,t,n){var r=n(177),i=n(114),o=n(24);e.exports=function(e){return(o(e)?r:i)(e)}},function(e,t,n){"use strict";var r=n(42);e.exports=function(e){if(r(e))return e;throw new TypeError("Cannot use null or undefined")}},function(e,t,n){"use strict";var r=n(54),i=n(198),o=n(125),a=n(199),s=n(200);(e.exports=function(e,t){var n,i,c,u;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],r(e)?(n=s.call(e,"c"),i=s.call(e,"e"),c=s.call(e,"w")):i=!(n=c=!0),e={value:t,configurable:n,enumerable:i,writable:c},u?o(a(u),e):e}).gs=function(e,t,n){var c,u;return"string"!=typeof e?(u=n,n=t,t=e,e=null):u=arguments[3],r(t)?i(t)?r(n)?i(n)||(u=n,n=void 0):n=void 0:(u=t,t=n=void 0):t=void 0,e=r(e)?(c=s.call(e,"c"),s.call(e,"e")):!(c=!0),t={get:t,set:n,configurable:c,enumerable:e},u?o(a(u),t):t}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var r=n(496),i=n(502),o=n(88),a=n(10),s=n(507);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==_typeof(e)?a(e)?i(e[0],e[1]):r(e):s(e)}},function(e,t,n){"use strict";var r=n(5);e.exports=function(e,t){var n,i=t||{};e.setDisplayMode=function(e){n!==(e=e||"auto")&&(r.removeClass(this.domElement,"OT_mode-".concat(n)),r.addClass(this.domElement,"OT_mode-".concat(e)),n=e)},e.getDisplayMode=function(){return n},e.showAfterLoading=function(){r.removeClass(this.domElement,"OT_hide-forced")},e.hideWhileLoading=function(){r.addClass(this.domElement,"OT_hide-forced")},e.destroy=function(){return i.onDestroy&&i.onDestroy(this.domElement),this.domElement&&r.removeElement(this.domElement),e},e.appendTo=function(t){return this.domElement=r.createElement(i.nodeName||"div",i.htmlAttributes,i.htmlContent),i.onCreate&&i.onCreate(this.domElement),e.setDisplayMode(i.mode),"auto"===i.mode&&(r.addClass(e.domElement,"OT_mode-on-hold"),setTimeout((function(){r.removeClass(e.domElement,"OT_mode-on-hold")}),2e3)),t.appendChild(this.domElement),e}}},function(e,t,n){var r=n(77);e.exports=function(e){return r(e,4)}},function(e,t,n){var r=n(351),i=n(356);e.exports=function(e,t){return e=i(e,t),r(e)?e:void 0}},function(e,t,n){n=n(14).Symbol,e.exports=n},function(e,t,n){var r=n(83),i=n(63);e.exports=function(e,t,n,o){for(var a=!n,s=(n=n||{},-1),c=t.length;++s<c;){var u=t[s],d=o?o(n[u],e[u],u,n,e):void 0;void 0===d&&(d=e[u]),(a?i:r)(n,u,d)}return n}},function(e,t,n){var r=n(380),i=n(109),o=n(381),a=n(185),s=n(186),c=n(29),u=n(174),d="[object Map]",l="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",v=u(r),m=u(i),g=u(o),b=u(a),y=u(s);n=c,(r&&n(new r(new ArrayBuffer(1)))!=h||i&&n(new i)!=d||o&&n(o.resolve())!=l||a&&n(new a)!=f||s&&n(new s)!=p)&&(n=function(e){var t=c(e);if(e=(e="[object Object]"==t?e.constructor:void 0)?u(e):"")switch(e){case v:return h;case m:return d;case g:return l;case b:return f;case y:return p}return t}),e.exports=n},function(e,t,n){"use strict";(function(t){var n="object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},i=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,n){return new t((function(t,r){function i(){void 0!==o&&e.removeListener("error",o),t([].slice.call(arguments))}var o;"error"!==n&&(o=function(t){e.removeListener(n,i),r(t)},e.once("error",o)),e.once(n,i)}))},(a.EventEmitter=a).prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+_typeof(e))}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,o;return c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener||n),i=e._events),o=i[t]),void 0===o?(o=i[t]=n,++e._eventsCount):("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),0<(i=u(e))&&o.length>i&&!o.warned&&(o.warned=!0,(r=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=e,r.type=t,r.count=o.length,n=r,console&&console.warn&&console.warn(n))),e}function l(e,t,n){return(t=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n})).listener=n,e.wrapFn=t}function f(e,t,n){if(void 0===(e=e._events))return[];if(void 0===(e=e[t]))return[];if("function"==typeof e)return n?[e.listener||e]:[e];if(n){for(var r=e,i=new Array(r.length),o=0;o<i.length;++o)i[o]=r[o].listener||r[o];return i}return h(e,e.length)}function p(e){var t=this._events;if(void 0!==t){if("function"==typeof(t=t[e]))return 1;if(void 0!==t)return t.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if((a=0<t.length?t[0]:a)instanceof Error)throw a;throw(i=new Error("Unhandled error."+(a?" ("+a.message+")":""))).context=a,i}var a=o[e];if(void 0===a)return!1;if("function"==typeof a)r(a,this,t);else{var s=a.length,c=h(a,s);for(n=0;n<s;++n)r(c[n],this,t)}return!0},a.prototype.on=a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,l(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,l(this,e,t)),this},a.prototype.off=a.prototype.removeListener=function(e,t){var n,r,i,o,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;0<=o;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;if(0===i)n.shift();else{for(var s=n,u=i;u+1<s.length;u++)s[u]=s[u+1];s.pop()}1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},a.prototype.removeAllListeners=function(e){var t,n=this._events;if(void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;0<=o;o--)this.removeListener(e,t[o]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return 0<this._eventsCount?i(this._events):[]}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(399)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){"use strict";e.exports=n(413)()?n(91).Symbol:n(416)},function(e,t,n){"use strict";(function(t){var r=(s=n(3))(n(25)),i=s(n(45)),o=n(206),a=n(55),s=n(470),c=n(517),u=n(1)("StaticConfig"),d=n(138).prependProxyToUrlIfNeeded,l=a({version:"v2.21.7",buildHash:"8db653cdf",minimumVersion:{firefox:52,chrome:49},debug:"false",websiteURL:"http://www.tokbox.com",configURL:"https://config.opentok.com",ipWhitelistConfigURL:"",cdnURL:"https://static.opentok.com",loggingURL:"https://hlg.tokbox.com/prod",apiURL:"https://anvil.opentok.com"}),f=s(["apiURL","assetURL","cdnURL","sessionInfoOverrides","loggingURL"]),p={apiUrl:"apiURL",loggingUrl:"loggingURL"},h=c((function(e){return p[e]}));e.exports=function(e){var n=void 0===(e=(void 0===e?{}:e).axios)?o:e;return function(){function e(e){Object.defineProperty(this,"config",{value:Object.freeze(a(e))})}return e.onlyLocal=function(){var t=a((void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).OTProperties);return new e((0,r.default)({},l,f(t)))},e.get=function(i){var o=this,s=i.partnerId,c=i.token,p=i.useIpWhitelistConfigUrl,v=i.proxyUrl;return function(){var e=o.onlyLocal();return e.configUrl&&(!0!==p||e.ipWhitelistConfigUrl)?(e=!0===p?e.ipWhitelistConfigUrl:e.configUrl,e=d(e,v),n.get("".concat(e,"/project/").concat(s,"/config.json"),{headers:{"X-TB-TOKEN-AUTH":c}}).then((function(e){return e.data}))):t.resolve({})}().catch((function(e){return u.error("could not reach live config service",e),{}})).then((function(t){var n=a((void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).OTProperties);return new e((0,r.default)({},l,f(n),h(t)))}))},(0,i.default)(e,[{key:"configUrl",get:function(){return this.config.configURL}},{key:"ipWhitelistConfigUrl",get:function(){return this.config.ipWhitelistConfigURL}},{key:"apiUrl",get:function(){return this.config.apiURL}},{key:"loggingUrl",get:function(){return this.config.loggingURL}},{key:"apiEnabled",get:function(){return void 0===this.config.apiEnabled||this.config.apiEnabled}},{key:"version",get:function(){return this.config.version}},{key:"clientVersion",get:function(){return"js-".concat((this.version||"unknown").replace("v",""))}},{key:"buildHash",get:function(){return this.config.buildHash}},{key:"minimumVersion",get:function(){return this.config.minimumVersion}},{key:"websiteUrl",get:function(){return this.config.websiteURL}},{key:"debug",get:function(){return"true"===this.config.debug||!0===this.config.debug}},{key:"sessionInfoOverrides",get:function(){return this.config.sessionInfoOverrides}},{key:"cdnUrl",get:function(){return this.config.cdnURL||"".concat((void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).location.protocol,"//").concat((void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).location.host)}},{key:"assetUrl",get:function(){return this.config.assetURL||"".concat(this.cdnUrl,"/webrtc/").concat(this.version)}}]),e}()}}).call(this,n(0))},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(71);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var r=n(514);n=n(137)((function(e,t){return null==e?{}:r(e,t)})),e.exports=n},function(e,t,n){"use strict";var r=(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).performance||{};e.exports=function(){return r.now?r.timing.navigationStart+r.now():Date.now()}},function(e,t,n){var r=n(573);e.exports=function(e){return r(2,e)}},function(e,t,n){"use strict";function r(e,t,n){var r=t.split("\r\n");if(!d.getMLine(r,"audio"))return u.debug("No audio m-line, not enabling stereo."),t;var i=d.getAttributesForMediaType(r,"audio"),o=i.getRtpNumber("opus");if(!o)return u.debug("Could not find rtp number for opus, not enabling stereo."),t;var a=i.find((function(e){return e.name==="fmtp:".concat(o)}));if(!a)return u.debug("Could not find a=fmtp line for opus, not enabling stereo."),t;var s,c=r[a.lineIndex];switch(e){case"send":(s=/sprop-stereo=\d+([\s;]*)/).test(a.value)?c=c.replace(s,n?"sprop-stereo=1$1":""):n&&(c+="; sprop-stereo=1");break;case"receive":(s=/([^-])stereo=\d+([\s;]*)/).test(a.value)?c=c.replace(s,n?"$1stereo=1$2":"$1"):n&&(c+="; stereo=1");break;default:throw new Error("Invalid type ".concat(e," passed into enableStereo"))}return c=c.replace(/[;\s]*$/,""),r[a.lineIndex]=c,r.join("\r\n")}var i=n(7),o=n(61),a=n(272),s=n(127),c=n(273),u=n(1)("SDPHelpers"),d={getSections:function(e){return e.split(/\r\n|\r|\n/).reduce((function(e,t){var n=t.match(/^m=(\w+) \d+/);return n&&(e.sections[e.section=n[1]]=[]),e.sections[e.section].push(t),e}),{sections:{header:[]},section:"header"}).sections},getCodecsAndCodecMap:function(e,t){if(e=d.getSections(e)[t])return{codecs:e[0].match(/m=\w+ \d+ [A-Z/]+ ([\d ]+)$/)[1].split(" "),codecMap:i.apply(void 0,_toConsumableArray(e.filter((function(e){return e.match(/^a=rtpmap:\d+/)})).map((function(e){return e.match(/^a=rtpmap:(\d+) ([\w-]+)/).splice(1)})).map((function(e){return _defineProperty3({},e[0],e[1])}))))};throw new Error("no mediaType ".concat(t))},getCodecs:function(e,t){var n=d.getCodecsAndCodecMap(e,t);return n.codecs.map((function(e){return n.codecMap[e]||"Unknown codec"}))},mediaDirections:{INACTIVE:"inactive",RECVONLY:"recvonly"}};(e.exports=d).getMLineIndex=function(e,t){var n="m=".concat(t);return a(e,(function(e){return-1!==e.indexOf(n)}))},d.getMLine=function(e,t){return-1<(t=d.getMLineIndex(e,t))?e[t]:void 0},d.hasMediaType=function(e,t){var n=new RegExp("^m=".concat(t));return t=e.split("\r\n"),0<=a(t,(function(e){return n.test(e)}))},d.hasMLinePayloadType=function(e,t,n){return e=d.getMLine(e,t),-1<d.getMLinePayloadTypes(e,t).indexOf(n)},d.getMLinePayloadTypes=function(e,t){return t=new RegExp("^m=".concat(t," \\d+(/\\d+)? [a-zA-Z0-9/]+(( [a-zA-Z0-9/]+)+)$"),"i"),!(e=e.match(t))||e.length<2?[]:e[2].trim().split(" ")},d.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(0<t?"m="+e:e).trim()+"\r\n"}))},d.changeMediaDirection=function(e,t){var n,r=(e=d.splitSections(e)).shift();return e=e=e.join(""),n=t===d.mediaDirections.RECVONLY?"a=inactive":"a=recvonly",n=new RegExp(n,"g"),r+e.replace(n,"a=".concat(t))},d.removeTypesFromMLine=function(e,t){var n=/[0-9 ]*$/.exec(e)[0],r=n.split(" ").filter((function(e){return""!==e&&-1===t.indexOf(e)}));return e.replace(n," ".concat(r.join(" ")))},d.removeMediaEncoding=function(e,t,n){var r,i,o,a=e.split("\r\n"),s=-1<(e=d.getMLineIndex(a,t))?a[e]:void 0,c=[];if(-1===e)return a.join("\r\n");if(0===d.getMLinePayloadTypes(s,t).length)return a.join("\r\n");for(r=e;r<a.length;r++){var u=new RegExp(n,"i");0===a[r].indexOf("a=rtpmap:")&&2===(o=a[r].split(" ")).length&&u.test(o[1])&&c.push(o[0].substr(9))}if(!c.length)return a.join("\r\n");for(r=e;r<a.length;r++)if(0===a[r].indexOf("a=fmtp:"))for(o=a[r].split(" "),i=0;i<c.length;i++)2===o.length&&o[1]==="apt=".concat(c[i])&&c.push(o[0].substr(7));return a=a.filter((function(e){for(var t=0;t<c.length;t++)if(0===e.indexOf("a=rtpmap:".concat(c[t]," "))||0===e.indexOf("a=fmtp:".concat(c[t]," "))||0===e.indexOf("a=rtcp-fb:".concat(c[t]," ")))return!1;return!0})),0<c.length&&-1<e&&(a[e]=d.removeTypesFromMLine(s,c)),a.join("\r\n")},d.disableMediaType=function(e,t){e=e.split("\r\n");var n,r,i=[],o=(e.forEach((function(e){(r=/^m=/.test(e)?void 0:r)||(r=[],i.push(r)),r.push(e)})),new RegExp("^m=".concat(t," \\d+ ([^ ]+) [0-9 ]+$")));return e=i.map((function(e){var n=e[0].match(o);return n?["m=".concat(t," 0 ").concat(n[1]," 0"),"a=inactive"].concat(_toConsumableArray(e.filter((function(e){return/^c=/.test(e)||/^a=mid:/.test(e)||""===e})))):e})),(n=[]).concat.apply(n,_toConsumableArray(e)).join("\r\n")},d.removeVideoCodec=function(e,t){return d.removeMediaEncoding(e,"video",t)},d.getAttributesForMediaType=function(e,t){for(var n,r,i,a,s,c,l=d.getMLineIndex(e,t),f=new RegExp("m=(?!".concat(t,").+ "),"i"),p=new RegExp("a=ssrc:\\d+ .*","i"),h=new RegExp("a=ssrc-group:(SIM|FID) (\\d+).*?","i"),v=new RegExp("a=([a-z0-9:/-]+) (.*)","i"),m=[],g=l+1;g<e.length;g++){if(f.test(e[g])){void 0!==n&&(r=g-1);break}b=e[g].match(h),y=e[g].match(p),void 0===n&&(b||y)&&(n=g,b&&(i=/^(FID|SIM)$/.test(b[1])?b[2]:b[1])),(y=e[g].match("a=ssrc:".concat(i," msid:(.+)")))&&(a=y[1]);var b=p.test(e[g]),y=h.test(e[g]);void 0!==n&&(void 0!==r||b||y?g===e.length-1&&(r=g):r=g-1),(b=e[g].match(/a=mid:(.+)/))&&(s=b[1],c=g),(y=v.exec(e[g]))&&3===y.length&&m.push({lineIndex:g,name:y[1],value:y[2]})}return m.ssrcStartIndex=n,m.ssrcEndIndex=r,m.msid=a,m.mid=s,m.midIndex=c,m.isUsingRTX=function(e,t){var n=t.filterByName("ssrc-group:FID");switch((n=0===n.length?[]:n[0].value.split(" ")).length){case 0:case 1:var r=t.find((function(e){return 0===e.name.indexOf("rtpmap:")&&-1<e.value.indexOf("rtx/90000")}));return!!r&&(-1<(r=r.name.split(":")[1]).indexOf("/")&&(r=r.split("/")[0]),d.hasMLinePayloadType(e,"video",r));default:return u.debug("SDP Helpers: There are more than two FIDs, RTX is definitely enabled"),!0}}.bind(null,e,m),m.filterByName=function(e){return this.filter((function(t){return t.name===e}))},m.getRtpNumber=function(e){var t=new RegExp("rtpmap:(.+)");return o(m.map((function(n){var r=n.name.match(t);return r&&0<=n.value.indexOf(e)?r[1]:null})),(function(e){return null!==e}))},m},d.modifyDtx=function(e,t){var n=e.split("\r\n");if(!d.getMLine(n,"audio"))return u.debug("No audio m-line, not enabling dtx."),e;var r=d.getAttributesForMediaType(n,"audio"),i=r.getRtpNumber("opus");if(!i)return u.debug("Could not find rtp number for opus, not enabling dtx."),e;if(!(r=r.find((function(e){return e.name==="fmtp:".concat(i)}))))return u.debug("Could not find a=fmtp line for opus, not enabling dtx."),e;e=n[r.lineIndex];var o=/usedtx=\d+([\s;]*)/;return o.test(r.value)?e=e.replace(o,t?"usedtx=1$1":""):t&&(e+="; usedtx=1"),e=e.replace(/[;\s]*$/,""),n[r.lineIndex]=e,n.join("\r\n")},d.modifySendStereo=r.bind(null,"send"),d.modifyReceiveStereo=r.bind(null,"receive"),d.setAudioBitrate=function(e,t){var n=d.getAudioBitrate(e);if(void 0!==n)return u.debug("Audio bitrate already set to ".concat(n,", not setting audio bitrate")),e;if(n=e.split("\r\n"),!d.getMLine(n,"audio"))return u.debug("No audio m-line, not setting audio bitrate"),e;var r=d.getAttributesForMediaType(n,"audio"),i=r.getRtpNumber("opus");return i?(r=r.find((function(e){return e.name==="fmtp:".concat(i)})))?(e=n[r.lineIndex],e=(e+="; maxaveragebitrate=".concat(t)).replace(/[;\s]*$/,""),n[r.lineIndex]=e,n.join("\r\n")):(u.debug("Could not find a=fmtp line for opus, not setting audio bitrate."),e):(u.debug("Could not find rtp number for opus, not setting audio bitrate."),e)},d.hasSendStereo=function(e){return/[\s;]sprop-stereo=1/.test(e)},d.hasSendDtx=function(e){return/[\s;]usedtx=1/.test(e)},d.getAudioBitrate=function(e){if(e=e.match(/[\s;]maxaveragebitrate=(\d+)/))return Number(e[1])},d.MAX_SSRCS=10,d.getSSRCGroupType=function(e){return["SIM","FID"].find((function(t){return e.filterByName("ssrc-group:".concat(t))[0]}))},d.getSSRCGroup=function(e){var t=d.getSSRCGroupType(e);return e.filterByName("ssrc-group:".concat(t))[0]},d.getSSRCGroupSSRCs=function(e){return(e=d.getSSRCGroup(e))?e.value.split(" ").slice(0,d.MAX_SSRCS):[]},d.getAllowedSSRCs=function(e,t){var n=t.slice();return e.filterByName("ssrc-group:FID").forEach((function(e){e=e.value.split(" "),s(n,e).length&&Array.prototype.push.apply(n,e)})),c(n)},d.filterExcessSSRCs=function(e){var t,n,r=e.split("\r\n"),i=d.getAttributesForMediaType(r,"video"),o=d.getSSRCGroupType(i),a=i.ssrcStartIndex;if(void 0===a)return e;function s(e){var t=null;return e.match(/^a=ssrc:(\d+)/)?RegExp.$1:t}return o?(e=d.getSSRCGroupSSRCs(i),t=["a=ssrc-group:".concat(o)].concat(_toConsumableArray(e)).join(" "),r[i.find((function(e){return e.name.startsWith("ssrc-group:")})).lineIndex]=t,n=d.getAllowedSSRCs(i,e)):(n=[],i.ssrcStartIndex&&n.push(s(r[i.ssrcStartIndex]))),r.filter((function(e,t){return t<a||t>i.ssrcEndIndex||(t===a?!!o||((t=s(e))?n.includes(t):!/^a=ssrc:(\d+)/.test(e)):(t=s(e))?n.includes(t):e.match(/^a=ssrc-group:FID (\d+)/)?(t=RegExp.$1,n.includes(t)):!e.match(/^a=ssrc-group:SIM /))})).join("\r\n")},d.enableSimulcast=function(e,t){var n,r=e.split("\r\n");if(!d.getMLine(r,"video"))return u.debug("No video m-line, not enabling simulcast."),e;var i=d.getAttributesForMediaType(r,"video");if(0<i.filterByName("ssrc-group:SIM").length)return u.debug("Simulcast is already enabled in this SDP, not attempting to enable again."),d.filterExcessSSRCs(e);if(!i.msid)return u.debug("No local stream attached, not enabling simulcast."),e;for(var o=i.isUsingRTX(),a=[],s=[],c=0;c<t;++c)a.push(1e4+c),o&&s.push(2e4+c);if(n=["a=ssrc-group:SIM ".concat(a.join(" "))],o)for(c=0;c<t;++c)n.push("a=ssrc-group:FID ".concat(a[c]," ").concat(s[c]));for(c=0;c<t;++c)n.push("a=ssrc:".concat(a[c]," cname:localCname"),"a=ssrc:".concat(a[c]," msid:").concat(i.msid));if(o)for(c=0;c<t;++c)n.push("a=ssrc:".concat(s[c]," cname:localCname"),"a=ssrc:".concat(s[c]," msid:").concat(i.msid));return n.unshift(i.ssrcStartIndex,i.ssrcEndIndex-i.ssrcStartIndex+1),r.splice.apply(r,_toConsumableArray(n)),r.join("\r\n")},d.reprioritizeVideoCodec=function(e,t,n){var r=e.split("\r\n"),i=d.getMLineIndex(r,"video");if(-1===i)return e;var o=d.getMLinePayloadTypes(r[i],"video"),a=new RegExp("^a=rtpmap:(\\d+).* ".concat(t),"i");if(0===(c=r.map((function(e){return e.match(a)})).filter((function(e){return null!==e}))).length)return e;var s=c.map((function(e){return e[1]})),c=(e=o.filter((function(e){return-1===s.indexOf(e)})),"top"===n?e.unshift.apply(e,_toConsumableArray(s)):"bottom"===n?e.push.apply(e,_toConsumableArray(s)):(u.error("Unexpected location param: ".concat(n,"; not changing ").concat(t," priority")),e=o),r[i].replace(o.join(" "),e.join(" ")));return r[i]=c,r.join("\r\n")}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(177),i=n(375),o=n(24);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t}},function(e,t,n){"use strict";e.exports=function(e){return null!=e}},function(e,t,n){var r=n(77);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(98);e.exports=function(e,t,n){return void 0===(e=null==e?void 0:r(e,t))?n:e}},function(e,t,n){var r=n(10),i=n(136),o=n(235),a=n(58);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){var r=n(504);e.exports=function(e){return null==e?"":r(e)}},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}},function(e,t,n){"use strict";var r=n(49),i=n(44)();t.check=function(e){var t=(e=void 0===e?{}:e).env||n(2),r=e.hasGetUserMediaCapability||n(582),o=e.hasPeerConnectionCapability||n(583),a=e.logging||n(1)("hasOpenTokSupport");return(e=((e.staticConfig||i.onlyLocal()).minimumVersion||{})[t.name.toLowerCase()])&&e>t.version?(a.debug("Support for",t.name,"is disabled because we require",e,"but this is",t.version),!1):"Node"===t.name||r()&&o()},t.once=r((function(){return t.check()}))},function(e,t,n){n=n(596)(n(272)),e.exports=n},function(e,t,n){"use strict";e.exports=function(e){var t=[];return{on:function(n,r){for(var i=arguments.length,o=new Array(2<i?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(t.push({eventName:n,handler:r,args:o}),e.on)e.on(n,r);else{if(!e.addEventListener)throw new Error("Object does not support events",e);e.addEventListener.apply(e,[n,r].concat(o))}},off:function(t,n){if(e.off)e.off(t,n);else{if(!e.removeEventListener)throw new Error("Object does not support events",e);for(var r=arguments.length,i=new Array(2<r?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.removeEventListener.apply(e,[t,n].concat(i))}},once:function(n,r){for(var i=arguments.length,o=new Array(2<i?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];t.push({eventName:n,handler:r,args:o}),e.once(n,r)},removeAll:function(){var e=this;t.forEach((function(t){var n=t.eventName,r=t.handler;t=t.args,e.off.apply(e,[n,r].concat(_toConsumableArray(t)))})),t.splice(0,t.length)}}}},function(e,t,n){var r=n(175);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(370),i=n(16),o=(n=Object.prototype).hasOwnProperty,a=n.propertyIsEnumerable;n=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!a.call(e,"callee")},e.exports=n},function(e,t,n){(function(e){var r,i=n(14),o=n(371),a=(r=(r=(a=t&&!t.nodeType&&t)&&"object"==_typeof(e)&&e&&!e.nodeType&&e)&&r.exports===a?i.Buffer:void 0)?r.isBuffer:void 0;e.exports=a||o}).call(this,n(84)(e))},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=_typeof(e);return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&-1<e&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t){var n,r;function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}e=e.exports={};try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return(n=setTimeout)(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}var s,c=[],u=!1,d=-1;function l(){u&&s&&(u=!1,s.length?c=s.concat(c):d=-1,c.length&&f())}function f(){if(!u){for(var e=a(l),t=(u=!0,c.length);t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return(r=clearTimeout)(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.prependListener=h,e.prependOnceListener=h,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,n){var r=n(29),i=n(16);e.exports=function(e){return"symbol"==_typeof(e)||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){"use strict";"Node"===n(5).env.name?e.exports={value:""}:(n=((n=null==(n=Array.prototype.slice.call(document.getElementsByTagName("script")))||null==(n=n.pop())?void 0:n.getAttribute("src"))&&n.match(/[?&]apikey=([^&]+)/i)||[])[1],e.exports={value:n||""})},function(e,t,n){"use strict";var r=n(2);e.exports=function(){return!((r.isChrome||r.isElectron)&&90<=r.version||r.isOpera&&76<=r.version)&&(r.isChrome&&71<r.version||r.isChromiumEdge&&r.version<90||r.isOpera&&58<r.version)}},function(e,t,n){"use strict";e.exports=function(e,t,n){function r(){!o||n<a||(a+=1,e(),i=setTimeout(r,s))}void 0===n&&(n=1/0);var i=null,o=!1,a=1,s=1e3/t;this.start=function(){o||(o=!0,setTimeout(r,s))},this.stop=function(){(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).clearTimeout(i),o=!1}}},function(e,t,n){"use strict";var r=n(47),i=n(639),o=n(9),a=n(157),s={};function c(e){return Number(e.framerateMean||e.googFrameRateSent||e.googFrameRateReceived||e.googFrameRateInput||e.googFrameRateOutput||0)}function u(e){return Number(e.framesEncoded||e.framesDecoded)}function d(e,t){return t&&(t=t.filter((function(t){return t.id===e.mediaTrackId}))).length?t[0]:{}}function l(e,t){return"packetsLost"in t?e+t.packetsLost:e}var f={isVideoStat:function(e,t){return t=d(e,t),"video"===e.kind&&["outbound-rtp","inbound-rtp"].includes(e.type)||"video"===e.mediaType||"googFrameWidthReceived"in e||"googFrameWidthInput"in e||"inbound-rtp"===e.type&&-1!==e.id.indexOf("Video")||"inboundrtp"===e.type&&0!==t.frameWidth},isAudioStat:function(e,t){return t=d(e,t),"audio"===e.kind&&["outbound-rtp","inbound-rtp"].includes(e.type)||"audio"===e.mediaType||"audioInputLevel"in e||"audioOutputLevel"in e||"inbound-rtp"===e.type&&-1!==e.id.indexOf("Audio")||"inboundrtp"===e.type&&0===t.frameWidth},isInboundStat:function(e){return"bytesReceived"in e||"packetsReceived"in e},isOutboundStat:function(e){return"bytesSent"in e||"packetsSent"in e},isVideoTrackStat:function(e){return"track"===e.type&&(0<e.frameHeight||0<e.frameWidth||0<e.framesCorrupted||0<e.framesDecoded||0<e.framesPerSecond||0<e.framesSent||0<e.framesReceived)},isVideoRemoteInboundRtpStat:function(e){return"remote-inbound-rtp"===e.type&&"video"===e.kind},isAudioRemoteInboundRtpStat:function(e){return"remote-inbound-rtp"===e.type&&"audio"===e.kind},isVideoInboundRtpStat:function(e){return"inbound-rtp"===e.type&&"video"===e.kind},parseStatCategory:function(e){var t={packetsLost:0,packetsReceived:0,bytesReceived:0};return"packetsReceived"in e&&(t.packetsReceived=parseInt(e.packetsReceived,10)),"packetsLost"in e&&(t.packetsLost=parseInt(e.packetsLost,10)),"bytesReceived"in e&&(t.bytesReceived=parseInt(e.bytesReceived,10)),this.isVideoStat(e)&&("framerateMean"in e?t.frameRate=Number(e.framerateMean):"googFrameRateOutput"in e?t.frameRate=Number(e.googFrameRateOutput):"googFrameRateInput"in e&&(t.frameRate=Number(e.googFrameRateInput))),t},getVideoPacketsLost:function(e){var t=this;return e.filter((function(n){return t.isVideoRemoteInboundRtpStat(n,e)})).reduce(l,0)},getAudioPacketsLost:function(e){var t=this;return e.filter((function(n){return t.isAudioRemoteInboundRtpStat(n,e)})).reduce(l,0)},normalizeTimestamp:function(e,t){return void 0===t&&(t=Date.now()),o(e)&&"getTime"in e?e.getTime():Math.abs(e/(1e3*t)-1)<.05?e/1e3:e},normalizeStats:function(e,t,n){var o=this,d=(void 0===t&&(t=!0),e.filter((function(t){return f.isVideoStat(t,e)})).filter((function(e){return f.isInboundStat(e)===t}))),l=e.filter((function(t){return o.isAudioStat(t,e)})).filter((function(e){return o.isInboundStat(e)===t}))[0],p=d[0];if(!l&&!p)throw new Error("could not find stats for either audio or video");var h,v,m,g=f.normalizeTimestamp((p||l).timestamp),b={timestamp:g},y=(p&&!t&&void 0===p.packetsLost&&(p.packetsLost=this.getVideoPacketsLost(e)),l&&!t&&void 0===l.packetsLost&&(l.packetsLost=this.getAudioPacketsLost(e)),["packetsSent","packetsLost","bytesSent"]),_=t?function(e){return r(e,["packetsReceived","packetsLost","bytesReceived"])}:function(e){return r(e,y)};return d&&0<d.length&&(v=d,d=y.concat(["framerateMean","googFrameRateSent","googFrameRateReceived","googFrameRateInput","googFrameRateOutput","framesEncoded","framesDecoded"]),m={timestamp:g,id:p.id},d.forEach((function(e){m[e]=v.map((function(t){return Number(t[e]||0)})).reduce((function(e,t){return e+t}),0)})),g=m,b.video=__webpack_provided_Object_dot_assign({frameRate:(p=n,c(d=g)?c(d):u(d)?(n=0,h=s[d.id]?s[d.id].frames:0,p=s[d.id]?s[d.id].timestamp:p,n=a({currentStatFrames:u(d),currentTimestamp:d.timestamp,prevStatFrames:h,prevTimestamp:p}),s[d.id]={frames:u(d),timestamp:d.timestamp},n):void 0)},i(_(g),Number))),l&&(b.audio=i(_(l),Number)),b}};e.exports=f},function(e,t,n){"use strict";t.__esModule=!0,t.codes=t.messages=void 0,t.messages={1001:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection.",1002:"The endpoint is terminating the connection due to a protocol error. (CLOSE_PROTOCOL_ERROR)",1003:"The connection is being terminated because the endpoint has indicated that reconnections are not available. (CLOSE_UNSUPPORTED)",1005:"Indicates that no status code was provided even though one was expected. (CLOSE_NO_STATUS)",1006:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected. (CLOSE_ABNORMAL)",1007:"Indicates that an endpoint is terminating the connection because it has received data within a message that was not consistent with the type of the message (e.g., non-UTF-8 [RFC3629] data within a text message)",1008:"Indicates that an endpoint is terminating the connection because it has received a message that violates its policy.  This is a generic status code that can be returned when there is no other more suitable status code (e.g., 1003 or 1009) or if there is a need to hide specific details about the policy",1009:"Indicates that an endpoint is terminating the connection because it has received a message that is too big for it to process (CLOSE_TOO_LARGE)",1011:"Indicates that a server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request",4001:"Connectivity loss was detected as it was too long since the socket received the last PONG message",4010:"Timed out while waiting for the Rumor socket to connect.",4020:"Error code unavailable.",4030:"Exception was thrown during Rumor connection, possibly because of a blocked port."},t.codes={CLOSE_NORMAL:1e3,CLOSE_GOING_AWAY:1001,CLOSE_PROTOCOL_ERROR:1002,CLOSE_UNSUPPORTED:1003,CLOSE_NO_STATUS:1005,CLOSE_ABNORMAL:1006,CLOSE_INCONSISTENT_DATA:1007,CLOSE_POLICY_VIOLATION:1008,CLOSE_TOO_LARGE:1009,CLOSE_UNEXPECTED_CONDITION:1011,CLOSE_CONNECTIVITY_LOSS:4001,CLOSE_TIMEOUT:4010,CLOSE_FALLBACK_CODE:4020,CLOSE_CONNECT_EXCEPTION:4030,ALREADY_CONNECTED_CONNECTING:null}},function(e,t,n){var r=n(78),i=n(111),o=n(83),a=n(176),s=n(374),c=n(179),u=n(53),d=n(377),l=n(379),f=n(182),p=n(184),h=n(40),v=n(382),m=n(383),g=n(189),b=n(10),y=n(65),_=n(387),w=n(9),E=n(389),S=n(30),C=n(52),T="[object Arguments]",O="[object Function]",x="[object Object]",I={};I[T]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[x]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[O]=I["[object WeakMap]"]=!1,e.exports=function e(t,n,A,k,R,D){var N,P=1&n,M=2&n,L=4&n;if(void 0!==(N=A?R?A(t,k,R,D):A(t):N))return N;if(!w(t))return t;if(k=b(t)){if(N=v(t),!P)return u(t,N)}else{var j=h(t),U=j==O||"[object GeneratorFunction]"==j;if(y(t))return c(t,P);if(j==x||j==T||U&&!R){if(N=M||U?{}:g(t),!P)return M?l(t,s(N,t)):d(t,a(N,t))}else{if(!I[j])return R?t:{};N=m(t,j,P)}}if(U=(D=D||new r).get(t))return U;D.set(t,N),E(t)?t.forEach((function(r){N.add(e(r,n,A,r,t,D))})):_(t)&&t.forEach((function(r,i){N.set(i,e(r,n,A,i,t,D))}));var F=k?void 0:(L?M?p:f:M?C:S)(t);return i(F||t,(function(r,i){F&&(r=t[i=r]),o(N,i,e(r,n,A,i,t,D))})),N}},function(e,t,n){var r=n(79),i=n(346),o=n(347),a=n(348),s=n(349);function c(e){e=this.__data__=new r(e),this.size=e.size}n=n(350),c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=n,e.exports=c},function(e,t,n){var r=n(341),i=n(342),o=n(343),a=n(344);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}n=n(345),s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=n,e.exports=s},function(e,t,n){var r=n(51);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){n=n(37)(Object,"create"),e.exports=n},function(e,t,n){var r=n(365);e.exports=function(e,t){return e=e.__data__,r(t)?e["string"==typeof t?"string":"hash"]:e.map}},function(e,t,n){var r=n(63),i=n(51),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(372),i=n(67);i=(n=(n=n(113))&&n.isTypedArray)?i(n):r,e.exports=i},function(e,t,n){var r=n(9),i=Object.create;function o(){}e.exports=function(e){return r(e)?i?i(e):(o.prototype=e,e=new o,o.prototype=void 0,e):{}}},function(e,t,n){var r=n(88),i=n(192),o=n(121);e.exports=function(e,t){return o(i(e,t,r),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());e.exports=function(e){return r.call(e)===i}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call("");e.exports=function(e){return"string"==typeof e||e&&"object"===_typeof(e)&&(e instanceof String||r.call(e)===i)||!1}},function(e,t,n){"use strict";e.exports=n(414)()?globalThis:n(415)},function(e,t,n){var r=n(110),i=n(447);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}n=n(448),o.prototype.add=o.prototype.push=i,o.prototype.has=n,e.exports=o},function(e,t,n){var r=n(449);e.exports=function(e,t){return!(null==e||!e.length)&&-1<r(e,t,0)}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(86),i=n(9);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return i(o)?o:n}}},function(e,t,n){var r=n(489);e.exports=function(e){var t=(e=r(e))%1;return e==e?t?e-t:e:0}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(57),i=n(46);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var r=n(238),i=n(30);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t,n){"use strict";t.adaptIceServers=function(e){return e.map((function(e){return{url:e.url,urls:e.urls||[e.url],username:e.username,credential:e.credential}}))},t.parseIceServers=function(e){var n;try{n=JSON.parse(e.data).content.iceServers}catch(e){return[]}return t.adaptIceServers(n)}},function(e,t,n){"use strict";(function(t){var r=n(153),i=n(48),o=n(7),a=n(55),s=n(127),c=n(147),u=n(271),d=n(19),l=n(6),f=n(250),p=n(154),h=n(50),v=n(73);e.exports=function(e){function m(){}var g=(e=void 0===e?{}:e).hasValidPeerConnection||n(599),b=e.applySdpTransform||n(155),y=e.createPeerConnection||n(602),_=e.env||n(2),w=e.sdpTransformDefaults||n(604),E=e.getStatsAdapter||n(274),S=e.getRtcStatsReportAdapter||n(277),C=e.getSynchronizationSources||n(608),T=e.IceCandidateProcessor||n(609),O=e.logging||n(1),x=e.offerProcessor||n(611),I=e.PeerConnectionChannels||n(613),A=e.subscribeProcessor||n(615),k=e.changeMediaDirection||n(616),R=k.changeMediaDirectionToInactive,D=k.changeMediaDirectionToRecvOnly,N=e.Qos||n(278).default,P=e.global||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global),M=e.debounce||n(620),L=e.needsToSwapH264Profiles||n(622).once,j=e.NativeRTCIceCandidate||P.RTCIceCandidate,U=e.NativeRTCSessionDescription||P.RTCSessionDescription,F=e.Errors||n(4),B=e.OTErrorClass||n(21),V=e.ExceptionCodes||n(8);return function(e){var n,k=!1,z=e=void 0===e?{}:e,W=void 0===(K=z.iceConfig)?{servers:[]}:K,H=z.isPublisher,G=void 0===(K=z.logAnalyticsEvent)?m:K,q=z.offerOverrides,Y=z.answerOverrides,K=z.sdpTransformOptions,Q=z.sendMessage,X=z.p2p,Z=z.codecFlags,J=z.sourceStreamId,$=!1,ee=!1,te=!1,ne=L(),re=0,ie=!1,oe=p();function ae(e,t){var n;k||-1<["candidate","offer","answer","pranswer"].indexOf(e)&&(n="candidate"===e?t.candidate:t.sdp,k=-1!==n.indexOf("typ relay")),Q(e,t)}function se(e){return"relay"===W.transportPolicy&&null!=e&&-1===e.candidate.indexOf("typ relay")}function ce(e){if(Se.debug("internalCreatePeerConnection: called"),he)return Se.debug("internalCreatePeerConnection: resolving synchronously"),e.call(null,null,he);var t,n;Oe.push(e),1<Oe.length||(t={optional:[{DtlsSrtpKeyAgreement:!0}]},Se.debug('Creating peer connection config "'.concat(JSON.stringify(Te),'".')),0===W.servers.length&&(Se.error("No ice servers present"),G("Error","noIceServers")),"relay"===W.transportPolicy&&(n=function(e){return e&&0===e.indexOf("turn")},W.servers=W.servers.map((function(e){return e=a(e),Array.isArray(e.urls)||(e.urls=[e.urls]),e.urls=e.urls.filter(n),0===e.urls.length?void 0:e})).filter((function(e){return void 0!==e}))),Te.iceTransportPolicy=W.transportPolicy,Te.iceServers=W.servers,g(P.RTCPeerConnection).then((function(e){if(e)return y({window:P,config:Te,constraints:t});throw Se.error("createPeerConnection: Invalid RTCPeerConnection object"),new Error("Failed to create valid RTCPeerConnection object")})).then((function(e){return De(null,e)}),(function(e){return De(e)})))}function ue(e){e=e.target.signalingState,Ee.emit("signalingStateChange",e),"stable"===e&&Ee.emit("signalingStateStable"),e&&e!==Re&&(Re=e,Se.debug("stateChange: ".concat(Re)),"closed"===Re&&Ne())}function de(){var e;if(he.getRemoteStreams)e=he.getRemoteStreams();else{if(!he.remoteStreams)throw new Error("Invalid Peer Connection object implements no method for retrieving remote streams");e=he.remoteStreams}return Array.prototype.slice.call(e)}function le(e){G("createPeerConnection","StreamAdded"),Ee.trigger("streamAdded",e.stream)}function fe(e){G("peerConnection:streamRemoved","Event"),Ee.trigger("streamRemoved",e.stream)}function pe(e,t,n){te=!1,Pe({reason:"PeerConnection.offerProcessor ".concat(e,": ").concat(t),prefix:n})}var he,ve,me,ge,be,ye,_e,we=i(),Ee=(G("createPeerConnection","Attempt"),{}),Se=(Ee.id=d(),O("PeerConnection:".concat(Ee.id))),Ce=(Se.debug("construct",{id:Ee.id,options:e}),c({},w,K)),Te=u(e,["isPublisher","logAnalyticsEvent","offerOverrides","answerOverrides","sendMessage","sdpTransformOptions"]),Oe=[],xe=(ye=Te.overrideSimulcastEnabled||!1,{get:function(){return ye},set:function(e){(e=Boolean(e)&&1<Te.capableSimulcastStreams)!==ye&&void 0===Te.overrideSimulcastEnabled&&(ye=e,Ee.generateOffer())}}),Ie=(_e=!1,{get:function(){return _e},set:function(e){(e=Boolean(e))!==_e&&((_e=e)&&!Ee.iceConnectionStateIsConnected()?Ee.generateOffer():Se.debug("iceRestart is going to wait until we disconnect and then restart ice"))}}),Ae={clean:function(){delete this.promise,delete this.resolve,delete this.reject}},ke=(Ae.promise=new t((function(e,t){Ae.resolve=e,Ae.reject=t})),new T),Re="new",De=(Object.defineProperty(Ee,"signalingState",{get:function(){return he.signalingState},set:function(e){return he.signalingState=e}}),l(Ee),Ee.once("iceConnected",(function(){var e={pcc:parseInt(i()-we,10),hasRelayCandidates:k,proxyInfo:""};he&&he.proxyInfo&&(e.proxyInfo=he.proxyInfo),G("createPeerConnection","Success",e)})),Ae.resolve(),function(e,t){if(e)return Pe({reason:"Failed to create PeerConnection, exception: ".concat(e),prefix:"NewPeerConnection"}),void(Oe=[]);function n(e){Ae.resolve(),se(e.candidate)?Se.debug("Ignore candidate",e.candidate.candidate):c(e)}function r(e){he?(Se.debug("iceconnectionstatechange",he.iceConnectionState),"connected"===he.iceConnectionState?("disconnected"===u&&Ee.clearFailedTimeout(),Ee.emit("iceConnected"),Ie.set(!1)):"completed"===he.iceConnectionState&&_.isLegacyEdge&&setTimeout((function(){return Le.startCollecting(he)}),1e3)):Se.debug("iceconnectionstatechange on peerConnection that no longer exists",Ee),e=e.target.iceConnectionState,Ee.trigger("iceConnectionStateChange",e),G("attachEventsToPeerConnection","iceconnectionstatechange",e),"disconnected"===e&&(Ie.get()?(Se.debug("Restarting ice!"),Ee.generateOffer()):v()||(be=setTimeout((function(){var e="failed";G("attachEventsToPeerConnection","iceconnectionstatechange",e),u=e,Ee.trigger("iceConnectionStateChange",e)}),1e4))),"disconnected"!==u&&"failed"===e&&Pe({reason:"The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall.",prefix:"ICEWorkflow"}),u=e}function i(){G("peerConnection:negotiationNeeded","Event"),H&&Ee.generateOffer()}Se.debug("OT attachEventsToPeerConnection"),he=t,ke&&ke.setPeerConnection(t),ve=new I(he),Te.channels&&ve.addMany(Te.channels),o=(e={sendMessage:ae,logging:Se}).sendMessage,a=e.logging,s={};var o,a,s,c=function(e){e.candidate?(s[e.candidate.sdpMid]=e.candidate.sdpMLineIndex,o("candidate",{candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid||"",sdpMLineIndex:e.candidate.sdpMLineIndex||0})):a.debug("IceCandidateForwarder: No more ICE candidates.")},u=he.iceConnectionState;he.onaddstream=m,he.addEventListener("icecandidate",n),he.addEventListener("addstream",le),he.addEventListener("removestream",fe),he.addEventListener("signalingstatechange",ue),he.addEventListener("negotiationneeded",i),he.addEventListener("iceconnectionstatechange",r),oe.add((function(){he&&(he.onaddstream=null,he.removeEventListener("icecandidate",n),he.removeEventListener("addstream",le),he.removeEventListener("removestream",fe),he.removeEventListener("signalingstatechange",ue),he.removeEventListener("negotiationneeded",i),he.removeEventListener("iceconnectionstatechange",r))})),function(){for(;Oe.length;)Oe.shift().call(null)}()}),Ne=function(){ke&&(ke.destroy(),ke=null),Oe=[],Le.stopCollecting(),oe.releaseAll(),Ae.clean(),null!==he&&(he.destroy&&he.destroy(),he=null,Ee.trigger("close")),Ee.off()},Pe=(Ee.generateOffer=M((function(){var e,t;$?ee=!0:"closed"!==(null==he||null==(e=he.signalingState)?void 0:e.toLowerCase())&&($=!0,G("peerConnection:processSubscribe","Event"),Se.debug("processSubscribe: Sending offer to subscriber."),t=xe.get()?Te.capableSimulcastStreams:1,"P2P"!==J||X||(t=1),ce((function(){A({peerConnection:he,NativeRTCSessionDescription:U,sdpTransforms:Ce,numSimulcastStreams:t,offerOverrides:q,offerConstraints:{iceRestart:Ie.get()},replaceBaselineProfile:ne}).then((function(e){Se.debug("processSubscribe: got offer, waiting for _readyToSendOffer"),me=e,Ae.promise.then((function(){Se.debug("processSubscribe: sending offer"),ae("offer",me)}))}),(function(e){Pe({reason:"subscribeProcessor ".concat(e.message,": ").concat(e.reason),prefix:e.prefix})})),Ie.set(!1)})))}),100),function(e){var t=e.reason;e=e.prefix,Se.error(t,"in state",he?{connectionState:he.connectionState,iceConnectionState:he.iceConnectionState,iceGatheringState:he.iceGatheringState,signalingState:he.signalingState}:"(none)"),Ee.trigger("error",{reason:t,prefix:e})});function Me(e){this.track=e}Ee.addTrack=function(e,n){var i=new t((function(e,t){ce((function(n){if(n)return t(n);e()}))})).then((function(){if(he.addTrack)return he.addTrack(e,n);var t=he.getLocalStreams()[0];if(void 0===t)throw new Error("PeerConnection has no existing streams, cannot addTrack");t.addTrack(e),Ee.generateOffer()})).then((function(){return new t((function(e){Ee.once("signalingStateStable",(function(){e()}))}))}));return r(i,15e3,"Renegotiation timed out")},Ee.removeTrack=function(e){var n=t.resolve().then((function(){return e instanceof Me?(he.getLocalStreams()[0].removeTrack(e.track),void Ee.generateOffer()):he.removeTrack(e)})).then((function(){return new t((function(e){Ee.once("signalingStateStable",(function(){e()}))}))}));return r(n,15e3,"Renegotiation timed out")},Ee.addLocalStream=function(e){return new t((function(t,n){ce((function(r){if(r)n(r);else{try{he.addStream(e)}catch(r){return void n(r)}t()}}))}))},Ee.getLocalStreams=function(){return he.getLocalStreams()},Ee.getSenders=function(){return he.getSenders?he.getSenders():he.getLocalStreams()[0].getTracks().map((function(e){return new Me(e)}))},Ee.disconnect=function(){ke&&(ke.destroy(),ke=null),null!=he&&he.signalingState&&"closed"!==he.signalingState.toLowerCase()&&(he.close(),setTimeout(Ne))},Ee.iceRestart=function(){return Ie.set(!0)},Ee.clearFailedTimeout=function(){return clearTimeout(be)},Ee.changeMediaDirectionToRecvOnly=function(){return D(he)},Ee.changeMediaDirectionToInactive=function(){return R(he)},Ee.processMessage=function(e,t){switch(Se.debug("processMessage: Received ".concat(e," from ").concat(t.fromAddress),t),Se.debug(t),e){case"generateoffer":t.content&&void 0!==t.content.simulcastEnabled&&xe.set(t.content.simulcastEnabled),Ee.generateOffer(),i();break;case"offer":(function e(t){var r,i,o;te?n=t:(te=!0,G("peerConnection:processOffer","Event"),r=new U({type:"offer",sdp:t.content.sdp}),i=function(t){te=!1,ke&&ke.process(),ae("answer",t),_.isLegacyEdge||Le.startCollecting(he,H),n&&(e(n),n=null)},o=function(e){return Ee.trigger("remoteVideoSupported",e)},ce((function(){x(he,P.RTCPeerConnection,P.RTCSessionDescription,U,Ce,r,Z,X,i,pe,o,ne)})))})(t),i();break;case"answer":case"pranswer":!function(e){function t(e){Pe({reason:"Error while setting RemoteDescription ".concat(e),prefix:"SetRemoteDescription"})}G("peerConnection:processAnswer","Event"),e.content.sdp?(ge=new U({type:"answer",sdp:b(Ce,"remote","answer",o({replaceBaselineProfile:ne},Y),e.content.sdp).local}),he.setRemoteDescription(ge).then((function(){Se.debug("processAnswer: setRemoteDescription Success"),ke&&ke.process()})).catch(t),$=!1,ee&&(ee=!1,Ee.generateOffer()),_.isLegacyEdge||Le.startCollecting(he,H)):t("Weird answer message, no SDP.")}(t);break;case"candidate":var r=new j(t.content);if(se(r))return Se.debug("Ignore candidate",r.candidate),Ee;ke&&ke.addIceCandidate(r).catch((function(e){Se.warn("Error while adding ICE candidate: ".concat(JSON.stringify(r),": ").concat(e.toString()))}));break;default:Se.debug("processMessage: Received an unexpected message of type ".concat(e," from ").concat(t.fromAddress,": ").concat(JSON.stringify(t)))}function i(){re+=1,Le.handleOfferMessageReceived(),1<re&&(G("Renegotiation","Attempt"),ie=!0)}return Ee},Ee.remoteStreams=function(){return he?de():[]},Ee.remoteTracks=function(){return he?he.getReceivers?Array.prototype.slice.apply(he.getReceivers()).map((function(e){return e.track})):Array.prototype.concat.apply([],de().map((function(e){return e.getTracks()}))):[]},Ee.remoteDescription=function(){return he.remoteDescription},Ee.getStats=function(e){var t;if(!he)return t=V.PEER_CONNECTION_NOT_CONNECTED,void e(new f(B.getTitleByCode(t),F.PEER_CONNECTION_NOT_CONNECTED,{code:t}));E(he,e)},Ee.getRtcStatsReport=function(e){var t;if(!he)return t=V.PEER_CONNECTION_NOT_CONNECTED,void e(new f(B.getTitleByCode(t),F.PEER_CONNECTION_NOT_CONNECTED,{code:t}));S(he,e)},Ee.getSynchronizationSources=function(e){if(!H){var t;if(!he)return t=V.PEER_CONNECTION_NOT_CONNECTED,void e(new f(B.getTitleByCode(t),F.PEER_CONNECTION_NOT_CONNECTED,{code:t}));C(he,e)}},Ee.getDataChannel=function(e,t,n){he?function e(t,n,r,i){var o,a=ve.get(n,r);if(!a){if(0<t)return void setTimeout(e.bind(null,t-1,n,r,i),200);o=new f("".concat("A channel with that label and options could not be found. Label:").concat(n,". Options: ").concat(JSON.stringify(r)))}i(o,a)}(100,e,t,n):n(new f("Cannot create a DataChannel before there is a connection."))},Ee.getSourceStreamId=function(){return J},Ee.iceConnectionStateIsConnected=function(){return he&&-1<["connected","completed"].indexOf(he.iceConnectionState)},Ee.findAndReplaceTrack=function(e,n){return t.resolve().then((function(){var r=he.getSenders().filter((function(t){return t.track===e}))[0];if(!r)return t.resolve();if("function"!=typeof r.replaceTrack)throw new Error("Sender does not support replaceTrack");return r.replaceTrack(n)}))},Ee.hasRelayCandidates=function(){return k},Ee.getNegotiatedCodecs=function(){if(!he.localDescription||!he.remoteDescription)return null;function e(e){return s(h.getCodecs(he.localDescription.sdp,e),h.getCodecs(he.remoteDescription.sdp,e))}return{audio:e("audio"),video:e("video")}},Ee.on("signalingStateStable",(function(){ie&&(ie=!1,G("Renegotiation","Success",Ee.getNegotiatedCodecs()))})),Ee.on("error",(function(e){e=e.prefix,ie&&-1!==["CreateOffer","SetRemoteDescription"].indexOf(e)&&(ie=!1,G("Renegotiation","Failure"))})),Ee.on("close",(function(){ie&&(ie=!1,G("Renegotiation","Cancel"))}));var Le=new N;return Le.on("stats",(function(e){e.dataChannels=ve.sampleQos(),Ee.trigger("qos",{parsedStats:e,simulcastEnabled:xe.get()})})),Ee}}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(2);e.exports=function(){return"Chrome"===r.name&&58<=r.version||-1!==["Firefox","Edge","Safari","Opera"].indexOf(r.name)}},function(e,t,n){"use strict";e.exports=function(e){function t(){r&&(e(),n=window.requestAnimationFrame(t))}var n=null,r=!1;this.start=function(){r||(r=!0,window.requestAnimationFrame(t))},this.stop=function(){window.cancelAnimationFrame(n),r=!1}}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){var n={};Object.keys(t).forEach((function(r){var i,o,a;n[r]=(i=e,o=t[r].get,a=t[r].set,o&&!a?function(){return o.call(i)}:o&&a?function(e){return void 0!==e&&a.call(i,e),o.call(i)}:function(e){void 0!==e&&a.call(i,e)})})),r(e,n)}},function(e,t,n){"use strict";var r="";e.exports={getCurrentAudioOutputDeviceId:function(){return r},setCurrentAudioOutputDeviceId:function(e){r=e}}},function(e,t,n){"use strict";(function(t){e.exports=function(e){return new t((function(t){return setTimeout(t,e)}))}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(293);e.exports=function(e){var t=void 0===(e=(void 0===e?{}:e).NativeVideoElementWrapper)?r():e;return function(e){var n=(e=void 0===e?{}:e).fallbackText,r=e.fitMode,i=e.muted,o=e._inject;return e=e.widgetType,new t({fallbackText:void 0===n?"Sorry, Web RTC is not available in your browser":n,fitMode:r,muted:i,defaultAudioVolume:50,_inject:o,widgetType:e})}}},function(e,t){e.exports=function(e){if(e&&e.__esModule)return e;var t,n={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&((t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{}).get||t.set?Object.defineProperty(n,r,t):n[r]=e[r]);return n.default=e,n}},function(e,t,n){n=n(37)(n(14),"Map"),e.exports=n},function(e,t,n){var r=n(357),i=n(364),o=n(366),a=n(367);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}n=n(368),s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=n,e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t){e.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},function(e,t,n){(function(e){var r=n(173),i=(a=t&&!t.nodeType&&t)&&"object"==_typeof(e)&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}).call(this,n(84)(e))},function(e,t,n){var r=n(68),i=n(373),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t,n=[];for(t in Object(e))o.call(e,t)&&"constructor"!=t&&n.push(t);return n}},function(e,t,n){var r=n(378),i=(n=n(180),Object.prototype.propertyIsEnumerable),o=Object.getOwnPropertySymbols;e.exports=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return i.call(e,t)})))}:n},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){n=n(178)(Object.getPrototypeOf,Object),e.exports=n},function(e,t,n){var r=n(187);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";e.exports={error:{priority:1,method:"error"},warn:{priority:2,method:"warn"},info:{priority:3,method:"info"},log:{priority:4,method:"log"},debug:{priority:5,method:"debug"},spam:{priority:6,method:"log"}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(394);n=n(193)(r),e.exports=n},function(e,t,n){var r=n(51),i=n(24),o=n(66),a=n(9);e.exports=function(e,t,n){if(!a(n))return!1;var s=_typeof(t);return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t,n){"use strict";e.exports=n(195)()?Object.setPrototypeOf:n(196)},function(e,t,n){"use strict";var r=n(54),i={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!r(e)&&hasOwnProperty.call(i,_typeof(e))}},function(e,t,n){"use strict";e.exports=n(405)()?__webpack_provided_Object_dot_assign:n(406)},function(e,t,n){"use strict";var r=n(1)("Event"),i=n(7),o=n(127);e.exports=function(){function e(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n={}),this.type=e,this.cancelable=t,this._defaultPrevented=!1,0<(e=o(Object.keys(this),Object.keys(n))).length)throw new Error("Cannot used reserved property names: ".concat(e.join(",")));i(this,n)}var t=e.prototype;return t.preventDefault=function(){this.cancelable?this._defaultPrevented=!0:r.warn("Event.preventDefault :: Trying to preventDefault on an event that isn't cancelable")},t.isDefaultPrevented=function(){return this._defaultPrevented},e}()},function(e,t,n){var r=n(33),i=n(446),o=n(87),a=n(452);n=o((function(e){var t=r(e,a);return t.length&&t[0]===e[0]?i(t):[]})),e.exports=n},function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var r=n(24),i=n(16);e.exports=function(e){return i(e)&&r(e)}},function(e,t){e.exports={}},function(e,t,n){var r=n(216),i=n(475),o=n(476),a=n(218),s=n(487),c=n(222),u=n(488),d=n(225),l=n(226),f=n(96),p=Math.max;e.exports=function(e,t,n,h,v,m,g,b){var y=2&t;if(!y&&"function"!=typeof e)throw new TypeError("Expected a function");var _,w=h?h.length:0,E=(w||(t&=-97,h=v=void 0),g=void 0===g?g:p(f(g),0),b=void 0===b?b:f(b),w-=v?v.length:0,64&t&&(S=h,_=v,h=v=void 0),y?void 0:c(e)),S=[e,t,n,h,v,S,_,m,g,b];return E&&u(S,E),e=S[0],t=S[1],n=S[2],h=S[3],v=S[4],!(b=S[9]=void 0===S[9]?y?0:e.length:p(S[9]-w,0))&&24&t&&(t&=-25),_=t&&1!=t?8==t||16==t?o(e,t,b):32!=t&&33!=t||v.length?a.apply(void 0,S):s(e,t,n,h):i(e,t,n),l((E?r:d)(_,S),e,t)}},function(e,t,n){var r=n(86);function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}n=n(133),i.prototype=r(n.prototype),e.exports=i.prototype.constructor=i},function(e,t){e.exports=function(){}},function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var r=-1,i=e.length,o=0,a=[];++r<i;){var s=e[r];s!==t&&s!==n||(e[r]=n,a[o++]=r)}return a}},function(e,t,n){var r=n(29),i=n(117),o=n(16),a=(n=Function.prototype,Object.prototype),s=n.toString,c=a.hasOwnProperty,u=s.call(Object);e.exports=function(e){return!(!o(e)||"[object Object]"!=r(e))&&(null===(e=i(e))||"function"==typeof(e=c.call(e,"constructor")&&e.constructor)&&e instanceof e&&s.call(e)==u)}},function(e,t,n){var r=n(10),i=n(71),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=_typeof(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=n(511),i=n(192),o=n(121);e.exports=function(e){return o(i(e,void 0,r),e+"")}},function(e,t,n){"use strict";function r(e){return e.replace(/\/$/,"")}var i=n(239);e.exports={prependProxyToUrlIfNeeded:function(e,t){if(!t)return e;t=i.parse(t);var n=i.parse(e);if(!t.protocol||!n.protocol)return e;e=t.protocol.match(/^https/);var o=n.protocol.match(/^ws/i);return o=r("".concat((o?"ws":"http")+(e?"s":""),"://").concat(t.host).concat(t.pathname)),e=r("".concat(n.host).concat(n.pathname).concat(n.search||"")),"".concat(o,"/").concat(e)}}},function(e,t,n){"use strict";var r,i=n(20),o=n(11),a=n(4),s=n(8),c=n(21),u={SET_PROXY_URL_TIMING_ERROR:"The proxyUrl was set after a session or publisher was created.",PROXY_URL_ALREADY_SET_ERROR:"The proxyUrl has already been set. Setting it again will not have any effect."};e.exports={errorMessages:u,setProxyUrl:function(e){var t=n(27),d=n(72),l=(t=new t,0<i.sessions.length()),f=0<i.publishers.length();d={sessionId:l?(i.sessions.find((function(e){return"connected"===e.currentState}))||i.sessions.find()).sessionId:"",apiKey:d.value},f||l?(f=o()(a.SET_PROXY_URL_TIMING_ERROR,new Error(u.SET_PROXY_URL_TIMING_ERROR),s.SET_PROXY_URL_TIMING_ERROR),c.handleJsException({error:f,target:d,analytics:t})):r?(l=o()(a.PROXY_URL_ALREADY_SET_ERROR,new Error(u.PROXY_URL_ALREADY_SET_ERROR),s.PROXY_URL_ALREADY_SET_ERROR),c.handleJsException({error:l,target:d,analytics:t})):r=e},getProxyUrl:function(){return r},clearProxyUrl:function(){r=null}}},function(e,t,n){var r=n(87),i=n(51),o=n(122),a=n(52),s=Object.prototype,c=s.hasOwnProperty;n=r((function(e,t){e=Object(e);var n=-1,r=t.length,u=2<r?t[2]:void 0;for(u&&o(t[0],t[1],u)&&(r=1);++n<r;)for(var d=t[n],l=a(d),f=-1,p=l.length;++f<p;){var h=l[f],v=e[h];(void 0===v||i(v,s[h])&&!c.call(e,h))&&(e[h]=d[h])}return e})),e.exports=n},function(e,t,n){"use strict";var r=n(3)(n(45)),i=n(56),o=n(55);n=function(){function e(e){void 0===e&&(e={}),Object.defineProperty(this,"_rawSessionInfo",{value:o(e)})}return(0,r.default)(e,[{key:"sessionId",get:function(){return this._rawSessionInfo.session_id}},{key:"partnerId",get:function(){return this._rawSessionInfo.partner_id}},{key:"messagingServer",get:function(){return this._rawSessionInfo.messaging_server_url}},{key:"mediaServerName",get:function(){return this._rawSessionInfo.media_server_hostname}},{key:"messagingURL",get:function(){return this._rawSessionInfo.messaging_url}},{key:"symphonyAddress",get:function(){return this._rawSessionInfo.symphony_address}},{key:"iceServers",get:function(){return this._rawSessionInfo.ice_servers}},{key:"simulcast",get:function(){return i(this._rawSessionInfo,"properties.simulcast")}},{key:"reconnection",get:function(){return i(this._rawSessionInfo,"properties.reconnection",!1)}},{key:"renegotiation",get:function(){return i(this._rawSessionInfo,"properties.renegotiation",!1)}},{key:"p2pEnabled",get:function(){return"enabled"===i(this._rawSessionInfo,"properties.p2p.preference.value")}},{key:"hybridSession",get:function(){return i(this._rawSessionInfo,"properties.hybridSession",!1)}},{key:"isAdaptiveEnabled",get:function(){return"adaptive"===i(this._rawSessionInfo,"properties.p2p.preference.value")}},{key:"priorityVideoCodec",get:function(){return i(this._rawSessionInfo,"properties.priorityVideoCodec","")}},{key:"h264",get:function(){return i(this._rawSessionInfo,"properties.h264",!0)}},{key:"vp8",get:function(){return i(this._rawSessionInfo,"properties.vp8",!0)}},{key:"vp9",get:function(){return i(this._rawSessionInfo,"properties.vp9",!0)}},{key:"clientCandidates",get:function(){var e=i(this._rawSessionInfo,"properties.clientCandidates");return"relayed"===e?"relay":e}}]),e}(),e.exports=n},function(module,exports,__webpack_require__){"use strict";var extendES5Native=__webpack_require__(546),webrtcAdapter=__webpack_require__(547),logging=__webpack_require__(1)("createWindowMock"),env=__webpack_require__(2),windowKeys=[{key:"location",type:"object"},{key:"setTimeout",type:"function"},{key:"requestAnimationFrame",type:"function"},{key:"URL",type:"function"},{key:"MediaStream",type:"class"},{key:"webkitMediaStream",type:"class"},{key:"RTCIceCandidate",type:"class"},{key:"mozRTCIceCandidate",type:"class"},{key:"RTCSessionDescription",type:"class"},{key:"mozRTCSessionDescription",type:"class"},{key:"RTCIceGatherer",type:"class"},{key:"RTCIceTransport",type:"class"},{key:"RTCDtlsTransport",type:"class"},{key:"RTCSctpTransport",type:"class"},{key:"RTCRtpReceiver",type:"class"},{key:"HTMLMediaElement",type:"class"},{key:"RTCPeerConnection",type:"class"},{key:"webkitRTCPeerConnection",type:"class"},{key:"mozRTCPeerConnection",type:"class"},{key:"MediaStreamTrack",type:"class"},{key:"RTCRtpSender",type:"class"},{key:"RTCTrackEvent",type:"class"},{key:"RTCTransceiver",type:"class"},{key:"RTCDtmfSender",type:"class"},{key:"RTCDTMFSender",type:"class"},{key:"MediaStreamTrackEvent",type:"class"}],navigatorKeys=[{key:"userAgent",type:"string"},{key:"getUserMedia",type:"function"},{key:"getDisplayMedia",type:"function"},{key:"webkitGetUserMedia",type:"function"},{key:"mozGetUserMedia",type:"function"}],mediaDevicesKeys=[{key:"getUserMedia",type:"function"},{key:"getDisplayMedia",type:"function"},{key:"enumerateDevices",type:"function"},{key:"getSupportedConstraints",type:"function"},{key:"addEventListener",type:"function"},{key:"removeEventListener",type:"function"}],bindWithStaticProperties=function(e,t){if("function"!=typeof t)return logging.warn("Non-function passed into bindWithStaticProperties()"),t;var n=t.bind(e);return Object.keys(t).forEach((function(e){n[e]=t[e]})),n},extendParentClass=function extendParentClass(ParentClass){try{var ChildClass=eval('\n      "use strict"; // Chrome<49 requires strict mode\n\n      const getOwnProperties = (target) => {\n        const properties = {};\n        Object.getOwnPropertyNames(target).forEach((key) => {\n          properties[key] = Object.getOwnPropertyDescriptor(target, key);\n        });\n        return properties;\n      };\n\n      class ChildClass extends ParentClass {\n        constructor(...args) {\n          super(...args);\n          try {\n            this.__proto__ = ChildClass.prototype;\n          } catch (e) {}\n        }\n      };\n\n      Object.defineProperties(ChildClass.prototype, getOwnProperties(ParentClass.prototype));\n      Object.keys(ParentClass)\n        .forEach((staticKey) => {\n          ChildClass[staticKey] = ParentClass[staticKey];\n        });\n\n      ChildClass; // Ensure the final statement is returned in FF\n    ');if(ChildClass&&ChildClass.prototype instanceof ParentClass)return ChildClass}catch(e){}return null},canUseES6Class=function(e){if(e=e.RTCPeerConnection||e.webkitRTCPeerConnection||e.mozRTCPeerConnection,e=extendParentClass(e))try{e.prototype.foo="bar";var t=new e({iceServers:[]}),n="bar"===t.foo;try{t.close()}catch(e){}return n}catch(e){}return!1},extendClass=function(e,t,n){return"function"!=typeof e?(logging.warn("Non-function passed into extendClass()"),e):n&&extendParentClass(e)||extendES5Native(e)},getCopyProperties=function(e){return function(t,n,r){r.forEach((function(r){var i=r.key,o=r.type,a=n[i];if(void 0!==a){switch(o){case"function":a=bindWithStaticProperties(n,a);break;case"class":a=extendClass(a,i,e);break;case"string":case"object":break;default:throw new Error("Invalid type of window key: ".concat(o))}t[i]=a}}))}},cloneWindow=function(e){var t={},n=getCopyProperties(canUseES6Class(e));return n(t,e,windowKeys),void 0!==e.navigator&&(t.navigator={},n(t.navigator,e.navigator,navigatorKeys),void 0!==e.navigator.mediaDevices&&(t.navigator.mediaDevices={},n(t.navigator.mediaDevices,e.navigator.mediaDevices,mediaDevicesKeys))),t};module.exports=function(e){return void 0!==e.adapter||env.isLegacyEdge||(e=cloneWindow(e),webrtcAdapter({window:e})),e}},function(e,t,n){"use strict";e.exports=function(){var e=null;this.transform=function(t){return e=null===e||e<=t?t:.3*t+.7*e,t=Math.log(e)/Math.LN10/1.5+1,Math.min(Math.max(t,0),1)}}},function(e,t,n){"use strict";function r(e){return Object.keys(e).map((function(t){return e[t]}))}var i=n(6),o=n(7);e.exports=function(e){function t(t,r){o(r,{parent:n}),r.appendTo(e.parent),a[t]=r,n[t]=r}var n=this,a={};e.parent&&(i(this),this.destroy=function(){n.off(),n.hideWhileLoading(),r(a).forEach((function(e){return e.destroy()}))},this.showAfterLoading=function(){r(a).forEach((function(e){return e.showAfterLoading()}))},this.hideWhileLoading=function(){r(a).forEach((function(e){return e.hideWhileLoading()}))},this.set=function(e,r){return"string"==typeof e&&r?t(e,r):Object.keys(e).forEach((function(n){t(n,e[n])})),n})}},function(e,t,n){"use strict";var r=n(3)(n(18));e.exports=function(){function e(e){(0,r.default)(this,"_analyser",null),(0,r.default)(this,"_timeDomainData",null),(0,r.default)(this,"_sourceNode",null),this._audioContext=e}var t=e.prototype;return t._initAudioAnalyser=function(e){this._analyser=this._audioContext.createAnalyser(),this._sourceNode=this._audioContext.createMediaStreamSource(e),this._sourceNode.connect(this._analyser),this._timeDomainData=new Uint8Array(this._analyser.frequencyBinCount)},t.webRTCStream=function(e){this._sourceNode&&this._sourceNode.disconnect(this._analyser),"suspended"===this._audioContext.state&&this._audioContext.resume(),this._initAudioAnalyser(e)},t.destroy=function(){this._sourceNode&&this._sourceNode.disconnect(this._analyser),this._timeDomainData=null},t.sample=function(e){if("function"==typeof e)throw new Error("sample no longer takes a callback");if(this._analyser&&this._timeDomainData){this._analyser.getByteTimeDomainData(this._timeDomainData);for(var t=0,n=this._timeDomainData.length-1;0<=n;--n)t=Math.max(t,Math.abs(this._timeDomainData[n]-128));return t/128}return null},e}()},function(e,t,n){"use strict";var r=n(558),i=n(26),o=n(6),a=n(22)();e.exports=new function(){var e=this;function t(){return r.isDomLoaded()&&!r.isDomUnloaded()}function n(){e.dispatchEvent(new a.EnvLoadedEvent(i.ENV_UNLOADED))}o(e),r.whenLoaded.then((function(){r.whenUnloaded.then(n),t()&&e.dispatchEvent(new a.EnvLoadedEvent(i.ENV_LOADED))})),this.onLoad=function(n,r){t()?n.call(r):e.on(i.ENV_LOADED,n,r)},this.onUnload=function(t,n){this.isUnloaded()?t.call(n):e.on(i.ENV_UNLOADED,t,n)},this.isUnloaded=function(){return r.isDomUnloaded()}}},function(e,t,n){var r=n(559);n=n(191)((function(e,t,n){r(e,t,n)})),e.exports=n},function(e,t,n){"use strict";var r=n(563);function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).Buffer&&"function"==typeof(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).Buffer.isBuffer?(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=n(564),s=Object.prototype.hasOwnProperty,c=Array.prototype.slice,u="foo"===function(){}.name;function d(e){return Object.prototype.toString.call(e)}function l(e){return!o(e)&&"function"==typeof(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var f=e.exports=b,p=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(a.isFunction(e))return u?e.name:(e=e.toString().match(p))&&e[1]}function v(e,t){return"string"!=typeof e||e.length<t?e:e.slice(0,t)}function m(e){return u||!a.isFunction(e)?a.inspect(e):"[Function"+((e=h(e))?": "+e:"")+"]"}function g(e,t,n,r,i){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function b(e,t){e||g(e,!0,t,"==",f.ok)}function y(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===_typeof(e)||null!==t&&"object"===_typeof(t)){if(l(e)&&l(t)&&d(e)===d(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);if(-1!==s&&s===r.expected.indexOf(t))return!0;r.actual.push(e),r.expected.push(t);var u=e,f=t,p=n,h=r;if(null==u||null==f)return!1;if(a.isPrimitive(u)||a.isPrimitive(f))return u===f;if(p&&Object.getPrototypeOf(u)!==Object.getPrototypeOf(f))return!1;if(s=_(u),r=_(f),s&&!r||!s&&r)return!1;if(s)return y(u=c.call(u),f=c.call(f),p);var v,m,g=S(u),b=S(f);if(g.length!==b.length)return!1;for(g.sort(),b.sort(),m=g.length-1;0<=m;m--)if(g[m]!==b[m])return!1;for(m=g.length-1;0<=m;m--)if(!y(u[v=g[m]],f[v],p,h))return!1;return!0}return n?e===t:e==t}function _(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(e,t){if(e&&t){if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return 1}catch(e){}return Error.isPrototypeOf(t)?void 0:!0===t.call({},e)}}function E(e,t,n,r){if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),t=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!t&&g(t,n,"Missing expected exception"+r);var i="string"==typeof r,o=!e&&t&&!n;if((!e&&a.isError(t)&&i&&w(t,n)||o)&&g(t,n,"Got unwanted exception"+r),e&&t&&n&&!w(t,n)||!e&&t)throw t}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=v(m((n=this).actual),128)+" "+n.operator+" "+v(m(n.expected),128),this.generatedMessage=!0);var t,n=e.stackStartFunction||g;Error.captureStackTrace?Error.captureStackTrace(this,n):(e=new Error).stack&&(e=e.stack,t=h(n),0<=(t=e.indexOf("\n"+t))&&(t=e.indexOf("\n",t+1),e=e.substring(t+1)),this.stack=e)},a.inherits(f.AssertionError,Error),f.fail=g,f.ok=b,f.equal=function(e,t,n){e!=t&&g(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){y(e,t,!1)||g(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){y(e,t,!0)||g(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){y(e,t,!1)&&g(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,n,r){y(t,n,!0)&&g(t,n,r,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){E(!0,e,t,n)},f.doesNotThrow=function(e,t,n){E(!1,e,t,n)},f.ifError=function(e){if(e)throw e},f.strict=r((function e(t,n){t||g(t,!0,n,"==",e)}),f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var S=Object.keys||function(e){var t,n=[];for(t in e)s.call(e,t)&&n.push(t);return n}},function(e,t,n){"use strict";var r=n(268),i=n(6),o=n(1)("StreamChannel"),a=n(150)();e.exports=function(e){this.id=e.id,this.type=e.type,this.active=r(e.active),this.orientation=e.orientation||a.ROTATED_NORMAL,e.frameRate&&(this.frameRate=parseFloat(e.frameRate)),e.preferredFrameRate&&(this.preferredFrameRate=parseFloat(e.preferredFrameRate)),e.preferredWidth&&(this.preferredWidth=parseInt(e.preferredWidth,10)),e.preferredHeight&&(this.preferredHeight=parseInt(e.preferredHeight,10)),this.width=parseInt(e.width,10),this.height=parseInt(e.height,10),this.source=e.source||"camera",this.fitMode=e.fitMode||"cover",i(this),this.update=function(e){var t,n={},i={};for(t in e)if(e.hasOwnProperty(t)){var a=this[t];switch(t){case"active":this.active=r(e[t]);break;case"disableWarning":this.disableWarning=r(e[t]);break;case"frameRate":this.frameRate=parseFloat(e[t],10);break;case"width":case"height":this[t]=parseInt(e[t],10),n[t]=this[t],i[t]=a;break;case"orientation":this[t]=e[t],n[t]=this[t],i[t]=a;break;case"fitMode":case"source":this[t]=e[t];break;default:return o.warn("Tried to update unknown key ".concat(t," on ").concat(this.type," channel ").concat(this.id)),!1}this.trigger("update",this,t,a,this[t])}return Object.keys(n).length&&this.trigger("update",this,"videoDimensions",i,n),!0}}},function(e,t,n){"use strict";e.exports=function(){return{ROTATED_NORMAL:0,ROTATED_LEFT:270,ROTATED_RIGHT:90,ROTATED_UPSIDE_DOWN:180}}},function(e,t,n){"use strict";var r=n(579),i=n(1)("StylableComponent"),o=n(580),a=n(581);e.exports=function(e,t,n,s){if(!e.trigger)throw new Error("OT.StylableComponent is dependent on the eventing mixin. Ensure that this is included in the object before StylableComponent.");s=s||function(){};var c=!1,u=(!1===n&&(t={buttonDisplayMode:"off",nameDisplayMode:"off",audioLevelDisplayMode:"off",videoDisabledDisplayMode:"off",audioBlockedDisplayMode:"off"},s({showControls:!(c=!0)})),new o(t,(function(t,n,r){r?e.trigger("styleValueChanged",t,n,r):e.trigger("styleValueChanged",t,n)})));e.getStyle=function(e){return u.get(e)},e.setStyle=function(e,t,n){return c?i.warn("Calling setStyle() has no effect because theshowControls option was set to false"):("string"!=typeof e?o=e:(o={})[e]=t,o.backgroundImageURI&&(o.backgroundImageURI=r(o.backgroundImageURI)),u.setAll(o,n),s(a(o))),this;var o}}},function(e,t,n){"use strict";var r=n(49),i=n(44)(),o=n(27),a=n(72),s=n(146),c=n(60).once,u=n(584),d=n(5),l=n(1)("systemRequirements"),f=n(585),p=n(586),h=i.onlyLocal(),v=new o,m=r((function(){v.logEvent({action:"checkSystemRequirements",variation:"notHasRequirements",partnerId:a.value,payload:{userAgent:d.env.userAgent}})})),g=!1;e.exports={check:function(){l.debug("OT.checkSystemRequirements()");var e=Number(u&&c());return e||m(),e},upgrade:function(e){var t,n=void 0===(t=(e=void 0===e?{}:e).isSupportedButOld)?d.env.name.toLowerCase()in h.minimumVersion:t,r=void 0===(t=e.userAgent)?navigator.userAgent:t;s.onLoad((function(){var e,t;g||(e=new p(f),g=!0,e.on("close",(function(){g=!1})),e.open(),t=r.match(/(iPad|iPhone|iPod|android|webOS)/i)?"".concat(n?"supported-":"","mobile-browser"):"".concat(n?"upgrade":"normal","-install"),e.el("#section-".concat(t)).style.display="block")}))}}},function(e,t,n){"use strict";(function(t){var r=(i=n(3))(n(59)),i=i(n(587)),o=n(591),a=function(e){function t(t){return(t=e.call(this,t)||this).name="TimeoutError",t}return(0,r.default)(t,e),t}((0,i.default)(Error));e.exports=function(e,n,r){return new t((function(t,i){if("number"!=typeof n||n<0)throw new TypeError("Expected `ms` to be a positive number");var s=setTimeout((function(){if("function"==typeof r)try{t(r())}catch(s){i(s)}else{var o="string"==typeof r?r:"Promise timed out after ".concat(n," milliseconds"),s=r instanceof Error?r:new a(o);"function"==typeof e.cancel&&e.cancel(),i(s)}}),n);o(e.then(t,i),(function(){clearTimeout(s)}))}))},e.exports.TimeoutError=a}).call(this,n(0))},function(e,t,n){"use strict";e.exports=function(){var e=[];return{add:function(t){e.push(t)},remove:function(t){0<=(t=e.indexOf(t))&&e.splice(t,1)},releaseAll:function(){for(var t=[];0<e.length;){var n=e.pop();try{n()}catch(n){t.push(n)}}var r=t.length;if(0<r)throw new Error("Failed to complete ".concat(r," cleanup job").concat(1===r?"":"s",": ").concat(t.map((function(e){return"<".concat(e,">")})).join(", ")))}}}},function(e,t,n){"use strict";var r=n(1)("applySdpTransform");e.exports=function(e,t,n,i,o){e=e[t][n];var a="".concat(t," ").concat(n);return a="sdpTransforms (".concat("local offer"===a||"remote answer"===a?"publisher":"subscriber","): ").concat(t," ").concat(n),n="local"===t?"created":"received",(r.debug("".concat(a,": ").concat(n,":\n").concat(o)),t=e(i,o)).local===o?r.debug("".concat(a,": not modified")):r.debug("".concat(a,": modified to:\n").concat(t.local)),t}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";e.exports=function(e){if(!(e=void 0===e?{}:e))return 0;var t=void 0===(t=e.currentStatFrames)?0:t,n=void 0===(n=e.prevStatFrames)?0:n,r=void 0===(r=e.currentTimestamp)?0:r;return e=void 0===(e=e.prevTimestamp)?0:e,n<=t&&e<r?Math.round((t-n)/((r-e)/1e3)*100)/100:0}},function(e,t,n){"use strict";var r;e.exports=function(e){var t=(e=void 0===e?{}:e).AudioContext||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).AudioContext||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).webkitAudioContext;return function(){if(null==(r=r||t&&new t))throw new Error("AudioContext could not be created, hardware limit reached.");return r}}},function(e,t,n){"use strict";var r=n(3);n=(0,(t.__esModule=!0,t.default=void 0,r=r(n(56))).default)(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global,"navigator.getDisplayMedia",(0,r.default)(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global,"navigator.mediaDevices.getDisplayMedia")),t.default="function"==typeof n},function(e,t,n){"use strict";var r=n(36);e.exports=function(){return function(e,t,n){var i=t.slice(),o=r(n);return function(t){var n=e,r=null;function a(e,i){t({message:e,newState:i,currentState:n,previousState:r})}this.current=n,this.set=function(e){(function(e){if(-1===i.indexOf(e))a("'".concat(e,"' is not a valid state"),e);else{var t,r;if(r=e,o[t=n]&&-1!==o[t].indexOf(r))return 1;a("'".concat(n,"' cannot transition to '").concat(e,"'"),e)}})(e)&&(r=n,this.current=e,n=e)}}}}},function(e,t,n){"use strict";(function(t){var r=n(61);e.exports=function(e){function i(){var e=r(Object.keys(p.extensionClasses).sort((function(e){return"electron"===e?-1:1})),(function(e){return p.extensionClasses[e].isSupportedInThisBrowser}));return void 0===e?{}:{name:e,proto:p.extensionClasses[e],instance:p.extensionByKind[e]}}function o(){}var a=(e=void 0===e?{}:e).chromeExtensionHelper||n(280)(),s=e.electronExtensionHelper||n(627)(),c=e.Errors||n(4),u=e.firefoxExtensionHelper||n(629),d=e.getDisplayMediaExtensionHelper||n(287),l=e.otError||n(11)(),f=e.OTHelpers||n(5),p={extensionByKind:{},extensionClasses:{},registerExtensionHelper:function(e,t){(p.extensionClasses[e]=t).autoRegisters&&t.isSupportedInThisBrowser&&p.registerExtension(e)},registerExtension:function(e){if(null==p.extensionClasses[e])throw new Error("Unsupported kind passed to OT.registerScreenSharingExtension");for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=(i=p.extensionClasses[e]).register.apply(i,n);p.extensionByKind[e]=i}};return p.pickHelper=i,p.checkCapability=function(e){var t={supported:!1,extensionRequired:void 0,extensionRegistered:void 0,extensionInstalled:void 0,supportedSources:{}},n=i();if(void 0===n.name)setTimeout(e.bind(null,t));else{if(t.supported=!0,t.extensionRequired=n.proto.extensionRequired?n.name:void 0,t.supportedSources={screen:n.proto.sources.screen,application:n.proto.sources.application,window:n.proto.sources.window,browser:n.proto.sources.browser},!n.instance)return t.extensionRegistered=!1,t.extensionRequired&&(t.extensionInstalled=!1),void setTimeout(e.bind(null,t));t.extensionRegistered=!!t.extensionRequired||void 0,n.instance.isInstalled((function(n){t.extensionInstalled=t.extensionRequired||"Firefox"===f.env.name?n:void 0,e(t)}))}},p.registerExtensionHelper("electron",s),p.registerExtensionHelper("getDisplayMedia",d),p.registerExtensionHelper("chrome",a),p.registerExtensionHelper("firefox",u),p.getConstraints=function(e){var n,r=void 0===(n=e.onAccessDialogOpened)?o:n,i=void 0===(n=e.onAccessDialogClosed)?o:n,a=e.videoSource,s=e.constraints;return new t((function(e,t){p.checkCapability((function(n){var o;n.supported?!1===n.extensionRegistered?t(l(c.SCREEN_SHARING_EXTENSION_NOT_REGISTERED,new Error("Screen Sharing support in this browser requires an extension, but one has not been registered."))):n.extensionRequired&&!1===n.extensionInstalled?t(l(c.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Screen Sharing support in this browser requires an extension, but the extension is not installed."))):((o=p.pickHelper()).proto.getConstraintsShowsPermissionUI&&r(),o.instance.getConstraints(a,s,(function(n,r){o.proto.getConstraintsShowsPermissionUI&&i(),n?t(n):e(r)}))):(n="Screen Sharing is not supported in this browser",f.env.isElectron?n="Set the webPreferences.contextIsolation option of the Electron BrowserWindow to false or use a preload script to access the desktop capturer. For more information, see https://tokbox.com/developer/guides/screen-sharing/js/.":"Chrome"===f.env.name&&73<f.env.version&&"https:"!==(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).location.protocol&&(n="https:// is required for screen sharing"),t(l(c.SCREEN_SHARING_NOT_SUPPORTED,new Error(n))))}))}))},p}}).call(this,n(0))},function(e,t,n){"use strict";e.exports=function(e){var t=(e=void 0===e?{}:e).Errors||n(4),r=e.ExceptionCodes||n(8),i=e.otError||n(11)(),o={ICEWorkflow:t.ICE_WORKFLOW_FAILED,NewPeerConnection:t.CREATE_PEER_CONNECTION_FAILED,SetRemoteDescription:t.SET_REMOTE_DESCRIPTION_FAILED,Subscribe:_defineProperty3({404:t.STREAM_NOT_FOUND},r.STREAM_LIMIT_EXCEEDED,t.STREAM_LIMIT_EXCEEDED)};return function(e,n,a,s,c){if(s="".concat((a?"".concat(a,": "):"")+c," PeerConnection with connection ").concat(s," failed: ").concat(n),n="string"==typeof(n=o[a]||{})?n:n[e],e="Publisher"===c?r.UNABLE_TO_PUBLISH:r.UNABLE_TO_SUBSCRIBE,!n)return(u=new Error(s)).code=e,u;var u="ICEWorkflow"===a?"Publisher"===c?r.PUBLISHER_ICE_WORKFLOW_FAILED:r.SUBSCRIBER_ICE_WORKFLOW_FAILED:n===t.STREAM_LIMIT_EXCEEDED?r.STREAM_LIMIT_EXCEEDED:e;return i(n,new Error(s),u)}}},function(e,t,n){"use strict";e.exports=function(e){var t=(e=void 0===e?{}:e).OTHelpers||n(5),r=(e.global||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global)).RTCPeerConnection;return function(e,n){"Firefox"===t.env.name&&r&&r.generateCertificate?r.generateCertificate({name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])}).catch((function(e){n(e)})).then((function(t){e.certificates=[t],n(void 0,e)})):setTimeout((function(){n(void 0,e)}))}}},function(e,t,n){"use strict";var r,i=(r=n(3))(n(12)),o=r(n(13)),a=r(n(45)),s=r(n(18)),c=n(6),u=n(643),d=n(1)("WidgetView"),l=n(5),f=n(644),p=n(2),h=(r=n(165)).default,v=r.CancellationError,m=n(166),g=n(646),b=n(647),y=n(648),_=n(649),w=n(650),E=n(62),S=n(107);S(),e.exports=function(e){var t=void 0===(C=(e=void 0===e?{}:e).logging)?d:C,n=void 0===(C=e.OTHelpers)?l:C,r=void 0===(C=e.versionGreaterThan)?f:C,C=void 0===(C=e.VideoElementFacade)?S():C,T=void 0===(e=e.env)?p:e,O=u({window:void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global});return(e=function(){function e(e,i){var o,a,u=this,d=void 0===(d=(i=void 0===i?{}:i).insertDefaultUI)||d,l=void 0===(l=i.width)?264:l,f=void 0===(f=i.height)?198:f,p=void 0===(p=i.fitMode)?"cover":p,h=void 0!==(h=i.mirror)&&h,v=i.insertMode,m=i.classNames,g=i.style,b=(i=i.widgetType,(0,s.default)(this,"_videoElementFacade",void 0),(0,s.default)(this,"_container",void 0),(0,s.default)(this,"_posterContainer",document.createElement("div")),(0,s.default)(this,"_widgetContainer",document.createElement("div")),(0,s.default)(this,"_loading",!0),(0,s.default)(this,"_audioOnly",!1),(0,s.default)(this,"_showPoster",void 0),(0,s.default)(this,"_poster",void 0),(0,s.default)(this,"_cancelBind",void 0),c(this),!1===/^(contain|cover)$/.test(p)&&t.warn('Invalid fit value "'.concat(p,'" passed. Only "contain" and "cover" can be used.')),this._widgetType=i,this._fitMode=p,this._insertDefaultUI=d,E(this._widgetContainer));((b.on("click",this.userGesture.bind(this)),b.on("touchstart",this.userGesture.bind(this),!!O&&{passive:!0}),this.once("destroy",(function(){return b.removeAll()})),this._widgetContainer.classList.add("OT_widget-container"),this._widgetContainer.style.width="100%",!(this._widgetContainer.style.height="100%")!==d&&(this._container=_(e,v),T.isSafari&&T.isiOS&&T.iOSVersion&&r("11.2",T.iOSVersion)&&this._container.classList.add("OT_ForceContain"),this._container.style.width=w(l),this._container.style.height=w(f),this._container.style.overflow="hidden",y(this._container),h&&n.addClass(this._container,"OT_mirrored"),m&&m.trim().split(/\s+/).forEach((function(e){return u._container.classList.add(e)})),this._container.classList.add("OT_loading"),this._container.classList.add("OT_fit-mode-".concat(p)),this._container.appendChild(this._widgetContainer),o=n(this._container).observeSize((function(){return y(u._container)}))[0],a=n.observeNodeOrChildNodeRemoval(this._container,(function(e){u._videoElementFacade&&e.some((function(e){return e===u._widgetContainer||e===u._videoElementFacade.domElement()}))&&u.destroyVideo()})),this.once("destroy",(function(){t.debug("disconnecting observers"),o.disconnect(),a.disconnect()}))),this._posterContainer.classList.add("OT_video-poster"),this._widgetContainer.appendChild(this._posterContainer),i=document.createElement("div")).classList.add("OT_video-loading"),d=document.createElement("div")).classList.add("OT_video-loading-spinner"),i.appendChild(d),this._widgetContainer.appendChild(i),g&&g.backgroundImageURI&&this.setBackgroundImageURI(g.backgroundImageURI)}var u=e.prototype;return u.addError=function(e,t,r){this._container&&(this._container.innerHTML="<p>".concat(e).concat(t?' <span class="ot-help-message">'.concat(t,"</span>"):"","</p>"),n.addClass(this._container,r||"OT_subscriber_error"),this._container.querySelector("p").offsetHeight>this._container.offsetHeight&&(this._container.querySelector("span").style.display="none"))},u.destroy=function(){this.emit("destroy"),this.destroyVideo(),this._container&&(n.removeElement(this._container),this._container=null)},u.setBackgroundImageURI=function(e){n.css(this._posterContainer,"backgroundImage","url(".concat(e,")")),n.css(this._posterContainer,"backgroundSize","contain"),n.css(this._posterContainer,"opacity","1.0")},u.isAudioBlocked=function(){return Boolean(this._videoElementFacade&&this._videoElementFacade.isAudioBlocked())},u.unblockAudio=function(){return this._videoElementFacade.unblockAudio()},u.userGesture=function(){this.isAudioBlocked()&&m().then((function(){return t.debug("Successfully unblocked audio")}),(function(e){return t.error("Error retrying audio on user interaction:",e)}))},u.setAudioBlockedUi=function(e){this._container&&(e?this._container.classList.add("OT_container-audio-blocked"):this._container.classList.remove("OT_container-audio-blocked"))},u.rebindSrcObject=function(){this._videoElementFacade&&this._videoElementFacade._rebindSrcObject()},u.pauseAndPlayVideoElement=function(){this._videoElementFacade&&this._videoElementFacade._pauseAndPlay()},u.bindVideo=function(){var r=(0,o.default)(i.default.mark((function r(o,a){var s,c,u,d,l,f,p,m;return i.default.wrap((function(r){for(var i=this;;)switch(r.prev=r.next){case 0:if(s=a.audioVolume,c=a.muted,p=a.fallbackText,u=a._inject,t.debug("bindVideo ",{webRTCStream:o}),d=this._videoElementFacade,l=document.createElement("div"),this._cancelBind&&(t.debug("Cancelling last bindVideo request"),this._cancelBind.cancel()),this._cancelBind=new h,f=this._cancelBind,this.once("destroy",(function(){return f.cancel()})),this._videoElementFacade=new e.VideoElementFacade({defaultAudioVolume:parseFloat(s,100),fallbackText:p,fitMode:this._fitMode,_inject:u,muted:c,widgetType:this._widgetType}),p=E(this._videoElementFacade),this._videoFacadeEvents&&(t.debug("Remove event listeners from old video facade"),this._videoFacadeEvents.removeAll()),(this._videoFacadeEvents=p).on("error",(function(){i.trigger("error")})),p.on("videoDimensionsChanged",(function(e,t){i.trigger("videoDimensionsChanged",e,t)})),p.on("mediaStopped",(function(e){i.trigger("mediaStopped",e)})),p.on("audioBlocked",(function(){return i.trigger("audioBlocked")})),p.on("audioUnblocked",(function(){return i.trigger("audioUnblocked")})),void 0!==s)try{this._videoElementFacade.setAudioVolume(s)}catch(r){t.warn("bindVideo ".concat(r))}return this._videoElementFacade.audioChannelType("telephony"),d?this._videoElementFacade.appendTo(l):(t.debug("Appending the video facade"),this._videoElementFacade.appendTo(this._widgetContainer)),r.prev=20,r.next=23,this._videoElementFacade.bindToStream(o);case 23:r.next=34;break;case 25:if(r.prev=25,r.t0=r.catch(20),f.isCanceled())throw t.debug("Refusing to destroyVideo as bindVideo was cancelled"),new v("CANCEL");r.next=32;break;case 32:throw this.destroyVideo(),r.t0;case 34:if(d||(this._videoElementFacade.domElement()&&this.trigger("videoElementCreated",this._videoElementFacade.domElement()),p.on("videoElementCreated",(function(e){i.trigger("videoElementCreated",e)}))),f.isCanceled())throw t.debug("bindVideo bailing due to cancellation"),new v("CANCEL");r.next=38;break;case 38:if(m=b(this._videoElementFacade,5e3),(!this.audioOnly()||"subscriber"!==this._widgetType)&&0<o.getVideoTracks().length)return t.debug("Waiting for correct resolution"),r.next=44,g(this._videoElementFacade,5e3);r.next=45;break;case 44:t.debug("Resolution: ".concat(this._videoElementFacade.videoWidth(),"x").concat(this._videoElementFacade.videoHeight()));case 45:return t.debug("Waiting for video to be playing"),r.next=48,m;case 48:if(t.debug("Video is playing"),f.isCanceled())throw t.debug("bindVideo bailing due to cancellation"),new v("CANCEL");r.next=52;break;case 52:d&&(this._videoElementFacade.domElement()&&this.trigger("videoElementCreated",this._videoElementFacade.domElement()),p.on("videoElementCreated",(function(e){i.trigger("videoElementCreated",e)})),t.debug("Destroy the old video facade"),d.destroy(),t.debug("Insert the new video facade"),this._videoElementFacade.appendTo(this._widgetContainer)),!1!==this._insertDefaultUI&&n.addClass(this._videoElementFacade.domElement(),"OT_video-element");case 54:case"end":return r.stop()}}),r,this,[[20,25]])})));return function(e,t){return r.apply(this,arguments)}}(),u.bindAudioTrackOnly=function(){this._videoElementFacade&&this._videoElementFacade.bindAudioTrackOnly()},u.destroyVideo=function(){this._videoElementFacade&&(this._videoElementFacade.destroy(),this._videoElementFacade=null)},u.video=function(){return this._videoElementFacade},u.showPoster=function(e){return void 0===e?!n.isDisplayNone(this._posterContainer):(this._showPoster=e,n[e?"show":"hide"](this._posterContainer),this.showPoster())},u.poster=function(e){return void 0===e?n.css(this._posterContainer,"backgroundImage"):(this._poster=e,n.css(this._posterContainer,"backgroundImage","url(".concat(e,")")),this.poster())},u.loading=function(e){return void 0===e?this._loading:(this._loading=Boolean(e),this._container&&this._container.classList[e?"add":"remove"]("OT_loading"),this.loading())},u.audioOnly=function(e){return void 0===e?this._audioOnly:(this._audioOnly=e,this._container&&this._container.classList[e?"add":"remove"]("OT_audio-only"),this.audioOnly())},u.domId=function(){return this._container&&this._container.getAttribute("id")},u.setSinkId=function(e){if(this._videoElementFacade)return this._videoElementFacade.setSinkId(e)},(0,a.default)(e,[{key:"domElement",get:function(){return this._container}},{key:"videoElement",get:function(){return this._videoElementFacade&&this._videoElementFacade.domElement()||void 0}},{key:"width",get:function(){return this.videoElement&&this.videoElement.offsetWidth}},{key:"height",get:function(){return this.videoElement&&this.videoElement.offsetHeight}}]),e}()).VideoElementFacade=C,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationError=t.default=void 0;var r=i(n(645));function i(e){return e&&e.__esModule?e:{default:e}}n=i(n(298)),t.default=r.default,t.CancellationError=n.default},function(e,t,n){"use strict";(function(t){var r=n(20);e.exports=function(){return t.all(r.subscribers.where().map((function(e){if(e.isAudioBlocked())return e._.unblockAudio()})))}}).call(this,n(0))},function(e,t,n){"use strict";e.exports=function(e){return"P2P"===e?"RELAYED":"ROUTED"}},function(e,t,n){"use strict";(function(t){var r,i=(r=n(3))(n(12)),o=r(n(13)),a=r(n(25)),s=n(56),c=n(148),u=n(7),d=n(55),l=n(61),f=n(275),p=n(47),h=n(49),v=n(664),m=n(19),g=n(258),b=n(194),y=(r=n(165)).CancellationError,_=r.default,w=n(2),E=n(674),S=n(307),C=n(75),T=n(26),O=n(6),x=n(106),I=n(126),A=n(27),k=n(74),R=n(154),D=n(675),N=n(164)(),P=n(676),M=n(677),L=n(166),j=n(23)().getInputMediaDevices,U=n(678),F=n(269),B=n(306),V=n(679),z=n(680),W=(r=n(290)).setVideoContentHint,H=r.getVideoContentHint,G=n(167);e.exports=function(e){e=e=void 0===e?{}:e;var r=(0,a.default)({},e),q=(["processPubOptions"].forEach((function(e){c(r[e],"".concat(e," dependency must be injected into Publisher"))})),r.AnalyticsHelper||A),Y=r.calculateCapableSimulcastStreams||n(252),K=r.createChromeMixin||n(281)(),Q=r.deviceHelpers||n(23)(),X=r.EnvironmentLoader||n(146),Z=r.Errors||n(4),J=r.Events||n(22)(),$=r.ExceptionCodes||n(8),ee=r.interpretPeerConnectionError||n(162)(),te=r.IntervalRunner||k,ne=r.logging||n(1)("Publisher"),re=r.Microphone||n(291)(),ie=r.otError||n(11)(),oe=r.OTErrorClass||n(21),ae=r.OTHelpers||n(5),se=r.parseIceServers||n(100).parseIceServers,ce=r.PUBLISH_MAX_DELAY||n(267),ue=r.PublisherPeerConnection||n(295)(),de=r.PublishingState||n(297)(),le=r.StreamChannel||n(149),fe=r.systemRequirements||n(152),pe=r.VideoOrientation||n(150)(),he=r.WidgetView||N,ve=r.global||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global),me=r.createSendMethod||n(304),ge=r.setEncodersActiveState||E,be=r.processPubOptions;return function(e){var n,r,c,E,A,k,N,ye,_e,we,Ee,Se,Ce,Te,Oe,xe,Ie,Ae,ke=this,Re=this,De=(void 0===e&&(e={}),O({})),Ne=new b,Pe=function(e){return Ne.get(e)},Me=(O(this),R()),Le=new q,je=(fe.check()||fe.upgrade(),!1),Ue={},Fe={},Be=function(){return ke.session||Ae||{isConnected:function(){return!1}}},Ve=[];function ze(){return{connectionId:Be().isConnected()?Be().connection.connectionId:null,streamId:r,widgetType:"Publisher"}}function We(e){throw(e.name===Z.USER_MEDIA_ACCESS_DENIED||e.name===Z.NOT_SUPPORTED&&e.originalMessage.match(/Only secure origins/)?Ke:be.isScreenSharing?Ye:qe)(e),e}function He(){wt("accessDialog","Opened"),ke.dispatchEvent(new I(T.ACCESS_DIALOG_OPENED,!0))}function Ge(){wt("accessDialog","Closed"),ke.dispatchEvent(new I(T.ACCESS_DIALOG_CLOSED,!1))}this.once("publishComplete",(function(e){e||(je=!0,Ce=null!=(e=ke.session)&&e.sessionInfo.p2pEnabled?"P2P":"MANTIS")})),this.on("sourceStreamIdChanged",(function(e){Ce=e})),this.on("audioAcquisitionProblem",(function(e){e=e.method,wt("publisher:audioAcquisitionProblem","Event",{didPublishComplete:je,method:e})}));var qe=function(e){var t=Object.keys(Z).map((function(e){return Z[e]}));t=ie(-1<t.indexOf(e.name)?e.name:Z.MEDIA_ERR_ABORTED,e,$.UNABLE_TO_PUBLISH),ne.error("onStreamAvailableError ".concat(t.name,": ").concat(t.message)),k.set("Failed"),n&&(n.destroy(),n=null),e={failureReason:"GetUserMedia",failureCode:$.UNABLE_TO_PUBLISH,failureMessage:"OT.Publisher failed to access camera/mic: ".concat(t.message)},Et("Failure",{},e),oe.handleJsException({error:t,errorMsg:e.failureReason,code:e.failureCode,target:ke,analytics:Le}),ke.trigger("publishComplete",t)},Ye=function(e){(e=d(e)).code=$.UNABLE_TO_PUBLISH,ne.error("OT.Publisher.onScreenSharingError ".concat(e.message)),k.set("Failed"),e.message="Screensharing: ".concat(e.message),ke.trigger("publishComplete",e),Et("Failure",{},{failureReason:"ScreenSharing",failureMessage:e.message}),n&&(n.destroy(),n=null)},Ke=function(e){var t;e=d(e);try{t=window.self!==window.top}catch(e){}"https:"!==(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).location.protocol&&(tt?e.message+=" Note: https:// is required for screen sharing.":F()&&"localhost"!==ae.env.hostName&&(e.message+=" Note: ".concat(ae.env.name," requires HTTPS for camera and microphone access."))),t&&!tt&&(e.message+=" Note: Check that the iframe has the allow attribute for camera and microphone"),ne.error(e.message),k.set("Failed"),e.message="OT.Publisher Access Denied: Permission Denied: ".concat(e.message),e.code=$.UNABLE_TO_PUBLISH,n&&(n.destroy(),n=null),Et("Cancel",{reason:"AccessDenied"}),ke.trigger("publishComplete",e),ke.dispatchEvent(new I(T.ACCESS_DENIED))},Qe=m(),Xe={},Ze=!1,Je={},$e=!1,et=be(e,"OT.Publisher",(function(){return k&&k.isDestroyed()})),tt=(et.on({accessDialogOpened:He,accessDialogClosed:Ge}),gn=et).isScreenSharing,nt=gn.isCustomAudioTrack,rt=gn.isCustomVideoTrack,it=gn.shouldAllowAudio,ot=gn.properties,at=gn.getUserMedia;function st(e){e.forEach((function(e){return e()}))}function ct(e,t,n){return e.addEventListener?(e.addEventListener(t,n),function(){return e.removeEventListener(t,n)}):function(){}}function ut(e,t){Ct("RelayedToRoutedTransition",e,t=void 0===t?{}:t)}function dt(e){function t(e,t){var n;return e.forEach((function(e){var r;e.deviceId?n=e.deviceId.toString():e.label&&t&&(r=l(t,(function(t){return t.label===e.label})))&&(n=r.deviceId)})),n}ne.debug("OT.Publisher.onStreamAvailable"),k.set("BindingMedia"),void 0!==ot.videoContentHint&&W(e,ot.videoContentHint),At(),c=e,De.emit("streamChange"),Rt(),kt(),Ee=t(c.getVideoTracks(),we),Se=t(c.getAudioTracks(),_e),A=new re(c,!ot.publishAudio),an(),rn(),ke.accessAllowed=!0,ke.dispatchEvent(new I(T.ACCESS_ALLOWED,!1))}function lt(e){(e=ie(Z.MEDIA_ERR_DECODE,e,$.UNABLE_TO_PUBLISH)).message="OT.Publisher while playing stream: ".concat(e.message),ne.error("OT.Publisher.onVideoError:",e),wt("stream",null,{reason:e.message});var t=k.isAttemptingToPublish();k.set("Failed"),t?ke.trigger("publishComplete",e):ke.trigger("error",e.message),oe.handleJsException({error:e,target:ke,analytics:Le})}function ft(n){var r=n.peerConnectionId,i=n.send,o=n.log,a=n.logQoS,s=n.sourceStreamId;if(Vt(r))return t.reject(new Error("PeerConnection already exists"));var u=Y({isChromiumEdge:ae.env.isChromiumEdge,browserName:ae.env.name,isScreenSharing:tt,isCustomVideoTrack:rt,sessionInfo:ke.session.sessionInfo,constraints:ot.constraints,videoDimensions:It()});return Xe[r]=t.all([ke.session._.getIceConfig(),ke.session._.getVideoCodecsCompatible(c)]).then((function(n){var r=n[0],d=(n=n[1],c),l=(n||(n=(d=c.clone()).getVideoTracks()[0])&&(n.stop(),d.removeTrack(n)),new ue({iceConfig:r,sendMessage:function(e,t){"offer"===e&&ke.trigger("connected"),i(e,t)},webRTCStream:d,channels:ot.channels,capableSimulcastStreams:u,overrideSimulcastEnabled:e._enableSimulcast,logAnalyticsEvent:o,offerOverrides:{enableDtx:ot.enableDtx,enableStereo:ot.enableStereo,audioBitrate:ot.audioBitrate,priorityVideoCodec:ot._priorityVideoCodec||ke.session.sessionInfo.priorityVideoCodec,codecFlags:ot._codecFlags||ke.session._.getCodecFlags()},answerOverrides:ke.session.sessionInfo.p2pEnabled?void 0:{audioBitrate:ot.audioBitrate},sourceStreamId:s,isP2pEnabled:ke.session.sessionInfo.p2pEnabled}));return l.on({disconnected:function(){return Nt(l)},error:function(e){var t=e.reason;return e=e.prefix,Pt(l,{reason:t,prefix:e})},qos:a,iceRestartSuccess:function(){return Mt(l)},iceRestartFailure:function(){return Lt(l)},iceConnectionStateChange:function(e){return jt(e,l)},audioAcquisitionProblem:function(){$e=!0,ke.trigger("audioAcquisitionProblem",{method:"getStats"})}}),l.once("connected",(function(){return Ut(l)})),new t((function(e,t){function n(e){t(e)}l.once("error",n),l.init(N,(function(r){if(r)return t(r);l.off("error",n),e(l)}))}))})),Vt(r)}function pt(){ke.off("publishComplete",Kt),Gt&&Gt.reset(),Me.releaseAll(),ke.disconnect(),A=null,At(),c=null,n&&(n.destroy(),n=null),ke.session&&ke._.unpublishFromSession(ke.session,"reset"),ke.id=null,ke.stream=null,Ze=!1,ke.session=null,k.isDestroyed()||k.set("NotPublishing")}function ht(e,t){ke.session._.streamCreate(ot.name||"",ke.streamId,ot.audioFallbackEnabled,Ve,ot.minVideoBitrate,e,t)}Object.defineProperty(this,"loudness",{writable:!1,value:void 0,configurable:!0}),function(){var e=this,t=[];De.on("streamDestroy",(function(){return st(t)})),De.on("streamChange",(function(){st(t);var n=c.getAudioTracks().map((function(t){return ct(t,"ended",(function(){$e=!0,e.trigger("audioAcquisitionProblem",{method:"trackEndedEvent"})}))}));t.splice.apply(t,[0,t.length].concat(_toConsumableArray(n)))}))}.call(this),vt=[],De.on("streamDestroy",(function(){return st(vt)})),De.on("streamChange",(function(){st(vt),_t()||c.getTracks().forEach((function(e){e.addEventListener&&(vt.push(ct(e,"mute",(function(){Kt()}))),vt.push(ct(e,"unmute",(function(){Kt()}))))}))}));var vt,mt,gt,bt,yt,_t=function(){if(tt)return!0;var e=["text","detail"].includes(ot.videoContentHint);return rt&&e},wt=e.logAnalyticsEvent||function(e,t,n,r,i){e=u({action:e,variation:t,payload:n},ze(),r),"Failure"===t&&(e=u(Je,e)),Je=p(e,"sessionId","connectionId","partnerId"),Le.logEvent(e,i)},Et=function(e,t,n){void 0===t&&(t={}),"Non-fatal"!==(n=void 0===n?{}:n).failureReason&&("Attempt"===e&&(ye=(new Date).getTime(),Ie&&(Ie.stop(),ne.error("_connectivityAttemptPinger should have been cleaned up")),Ie=new te((function(){wt("Publish","Attempting",t,(0,a.default)({},ze(),n))}),.2,6)),"Failure"===e||"Success"===e||"Cancel"===e?(Ie?(Ie.stop(),Ie=void 0):ne.warn('Received connectivity event: "'.concat(e,'" without "Attempt"')),wt("Publish",e,(0,a.default)({videoInputDevices:we,audioInputDevices:_e,videoInputDeviceCount:we?we.length:void 0,audioInputDeviceCount:_e?_e.length:void 0,selectedVideoInputDeviceId:Ee,selectedAudioInputDeviceId:Se},t),(0,a.default)({attemptDuration:(new Date).getTime()-ye},n))):wt("Publish",e,t,n))},St=function(e,t){wt("ICERestart",e,t)},Ct=function(e,t,n){"Attempt"===t?(Ue[e]=(new Date).getTime(),wt(e,t,n)):"Failure"!==t&&"Success"!==t||wt(e,t,n,{attemptDuration:(new Date).getTime()-Ue[e]})},Tt=function(e,t){Ct("RoutedToRelayedTransition",e,t=void 0===t?{}:t)},Ot=h((function(){wt("GetStats","Called")})),xt=h((function(){wt("GetRtcStatsReport","Called")})),It=function(){var e,t=n&&n.video();return t=ot.videoDimensions?(e=Math.min(ot.videoDimensions.width,t&&t.videoWidth()||640),Math.min(ot.videoDimensions.height,t&&t.videoHeight()||480)):(e=t&&t.videoWidth()||640,t&&t.videoHeight()||480),{width:e,height:t}},At=function(){c&&(De.emit("streamDestroy"),ve.MediaStreamTrack&&ve.MediaStreamTrack.prototype.stop?c.getTracks().forEach((function(e){return e.stop()})):c.stop())},kt=function(){var e=w.isiOS&&15<=w.iOSVersion,t=c.getVideoTracks()[0];e&&t&&document.addEventListener("visibilitychange",(function(){!document.hidden&&n&&n.rebindSrcObject()}))},Rt=function(){var e=w.isiOS&&13.3<=w.iOSVersion,t=c.getAudioTracks()[0];e&&t&&(t.onmute=function(){return hn(t)},t.onunmute=function(){return vn(t)})},Dt=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={muted:!0},n){e.next=3;break}throw new Error("Cannot bind video after widget view has been destroyed");case 3:return e.abrupt("return",n.bindVideo(c,t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=(this._removePeerConnection=function(e){var t=Pe(e).peerConnectionId;delete Xe[t],e.destroy()},this._removeSubscriber=function(e){ke.session.sessionInfo.isAdaptiveEnabled&&"P2P"===Ce&&ke._.startRelayedToRoutedTransition(),Bt(e).then((function(e){e.forEach((function(e){return ke._removePeerConnection(e)}))}))},function(e){var t=(e=Pe(e)).remoteSubscriberId;e=e.peerConnectionId,ne.debug("Subscriber has been disconnected from the Publisher's PeerConnection"),wt("disconnect","PeerConnection",{subscriberConnection:e}),ke._removeSubscriber(t)}),Pt=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o,a,s,c,u,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.reason,o=n.prefix,a=Re.session&&Re.session.sessionInfo,"ICEWorkflow"===o&&a&&a.reconnection&&Ze)return ne.debug("Ignoring peer connection failure due to possibility of reconnection."),e.abrupt("return");e.next=5;break;case 5:return a=Pe(t)||{},c=void 0===(c=a.remoteConnectionId)?"(not found)":c,s=a.peerConnectionId,c=ee(void 0,r,o,c,"Publisher"),u={hasRelayCandidates:t&&t.hasRelayCandidates()},d={failureReason:o||"PeerConnectionError",failureCode:c.code,failureMessage:c.message},k.isPublishing()?d.reason="Non-fatal":Re.trigger("publishComplete",c),Et("Failure",u,d),oe.handleJsException({errorMsg:"OT.Publisher PeerConnection Error: ".concat(r),code:c.code,target:Re,analytics:Le}),e.next=14,Xe[s];case 14:e.sent.destroy(),delete Xe[s];case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Mt=function(e){e=Pe(e).remoteConnectionId,St("Success",{remoteConnectionId:e})},Lt=function(e){e=Pe(e).remoteConnectionId,St("Failure",{reason:"ICEWorkflow",message:"OT.Publisher PeerConnection Error: The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall.",remoteConnectionId:e})},jt=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o,a,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Re.session.sessionInfo.isAdaptiveEnabled,o=n.getSourceStreamId(),"disconnected"===(Fe[o]=t)&&setTimeout((function(){var e=Re.session._.isSocketReconnecting;e=Re.session._.getSocket().is("connected")&&!e(),"disconnected"===Fe[o]&&e&&(e=Pe(n).remoteConnectionId,St("Attempt",{remoteConnectionId:e}),n.iceRestart())}),2e3),"connected"!==t){e.next=14;break}if(clearTimeout(xe),r)return e.next=9,Wt();e.next=14;break;case 9:return a=e.sent.iceConnectionStateIsConnected(),e.next=12,Ht();case 12:s=e.sent.iceConnectionStateIsConnected(),a&&s&&Xt();case 14:if("failed"!==t){e.next=21;break}if(s=Re.session._.isSocketReconnecting,Re.session._.getSocket().is("connected")&&!s()){e.next=20;break}return e.abrupt("return");case 20:r&&o===Ce&&"P2P"===o?Re._.startRelayedToRoutedTransition():xe=setTimeout((function(){Re.session._.streamDestroy(Re.streamId,o)}),5e3);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ut=function(e){(function(e){return ke.session.sessionInfo.isAdaptiveEnabled&&"P2P"===e.getSourceStreamId()})(e)&&Tt("Success")},Ft=function(){return t.all(Object.keys(Xe).map(Vt))},Bt=function(e){return Ft().then((function(t){return t.filter((function(t){return Pe(t).remoteSubscriberId===e}))}))},Vt=function(e){return Xe[e]},zt=function(e){var t=Object.keys(Xe).find((function(t){return t.endsWith("~".concat(e))}));return Xe[t]},Wt=function(){return zt("MANTIS")},Ht=function(){return zt("P2P")},Gt=K(this,{name:ot.name,publishAudio:ot.publishAudio,publishVideo:ot.publishVideo,audioSource:ot.audioSource,showControls:ot.showControls,shouldAllowAudio:it,logAnalyticsEvent:wt}),qt=function(){return!(!c||0===c.getVideoTracks().length)&&c.getVideoTracks().reduce((function(e,t){return e&&!t.muted&&t.enabled&&"ended"!==t.readyState}),ot.publishVideo)},Yt=function(){return!(!c||0===c.getAudioTracks().length)&&0<c.getAudioTracks().length&&c.getAudioTracks().reduce((function(e,t){return e&&!t.muted&&t.enabled&&"ended"!==t.readyState}),ot.publishAudio)},Kt=function e(t){n&&(n.audioOnly(!qt()),n.showPoster(!qt())),Gt&&Gt.setAudioOnly(!qt()&&Yt()),ke.stream?(ke.stream.setChannelActiveState("audio",Yt(),t),ke.stream.setChannelActiveState("video",qt(),t)):ke.once("publishComplete",e)},Qt=function(e,n){var r=!1;if("function"==typeof e?n=e:r="rtcStatsReport"===e,(r?xt:Ot)(),r&&!B)return e=$.GET_RTC_STATS_REPORT_NOT_SUPPORTED,void n(ie(Z.GET_RTC_STATS_REPORT_NOT_SUPPORTED,new Error(oe.getTitleByCode(e)),e));Ft().then((function(e){var t;if(0===e.length)throw t=$.PEER_CONNECTION_NOT_CONNECTED,ie(Z.PEER_CONNECTION_NOT_CONNECTED,new Error(oe.getTitleByCode(t)),t);return e})).then((function(e){return ke.session.sessionInfo.isAdaptiveEnabled?e.filter((function(e){return e.getSourceStreamId()===Ce})):e})).then((function(e){return t.all(e.map((function(e){return S((r?e.getRtcStatsReport:e.getStats).bind(e))().then((function(t){return{pc:e,stats:t}}))})))})).then((function(e){var t=E?E.getTime():Date.now();e=e.map((function(e){var n=e.pc,i=(e=e.stats,(n=Pe(n)).remoteConnectionId);return n=n.remoteSubscriberId,u(i.match(/^symphony\./)?{}:{subscriberId:n,connectionId:i},r?{rtcStatsReport:e}:{stats:C.normalizeStats(e,!1,t)})})),n(null,e)})).catch(n)},Xt=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oe=!1,e.next=3,Wt();case 3:if(t=e.sent)return Re.trigger("sourceStreamIdChanged","P2P"),e.next=8,x(3e3);e.next=16;break;case 8:if(Oe)return ne.debug("Cancelling stop sending RTP to MANTIS."),e.abrupt("return");e.next=11;break;case 11:return e.next=13,t.changeMediaDirectionToInactive();case 13:if(ae.env.isFirefox&&ae.env.version<96)return e.next=16,Jt();e.next=16;break;case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Zt=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oe=!0,e.next=3,Wt();case 3:if(t=e.sent)return e.next=7,t.changeMediaDirectionToRecvOnly();e.next=9;break;case 7:Te&&clearTimeout(Te),Re.trigger("sourceStreamIdChanged","MANTIS");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Jt=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt();case 2:(t=e.sent)&&(Te=setTimeout((0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("P2P"===Ce)return e.next=3,t.changeMediaDirectionToRecvOnly();e.next=9;break;case 3:return e.next=5,x(3e3);case 5:return e.next=7,t.changeMediaDirectionToInactive();case 7:return e.next=9,Jt();case 9:case"end":return e.stop()}}),e)}))),3e4));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$t=(this.publish=function(e){return ne.debug("OT.Publisher: publish"),(k.isAttemptingToPublish()||k.isPublishing())&&pt(),k.set("GetUserMedia"),ot.style&&ke.setStyle(ot.style,null,!0),ot.classNames="OT_root OT_publisher",X.onLoad((function(){ne.debug("OT.Publisher: publish: environment loaded"),n=new he(e,(0,a.default)({},ot,{widgetType:"publisher"})),it&&P({publisher:ke,widgetView:n}),n.on("error",lt),ke.id=n.domId(),ke.element=n.domElement,ke.element&&Gt&&Gt.init(n),n.on("videoDimensionsChanged",(function(e,t){ke.stream&&ke.stream.setVideoDimensions(t.width,t.height),ke.dispatchEvent(new J.VideoDimensionsChangedEvent(ke,e,t))})),n.on("mediaStopped",(function(e){var t=new J.MediaStoppedEvent(ke,e);ke.dispatchEvent(t),t.isDefaultPrevented()||(e?"audio"===(t=String(e.kind).toLowerCase())?rn():"video"===t?an():ne.warn("Track with invalid kind has ended: ".concat(e.kind)):ke.session?ke._.unpublishFromSession(ke.session,"mediaStopped"):ke.destroy("mediaStopped"))})),n.on("videoElementCreated",(function(e){e=new J.VideoElementCreatedEvent(e),ke.dispatchEvent(e)})),at().catch(We).then((function(e){return _e=et.audioDevices,we=et.videoDevices,dt(e),ot.publishVideo||ke._toggleVideo(ot.publishVideo),tt||rt||(gt=V(e,we)),Dt().catch((function(e){if(!(e instanceof y))throw e})).then((function(){k.isDestroyed()?n&&n.destroyVideo():(ne.debug("OT.Publisher.onLoaded; resolution:","".concat(ke.videoWidth(),"x").concat(ke.videoHeight())),k.set("MediaBound"),L().catch(ne.error),n.loading(!!ke.session&&!ke.stream),Ze=!0),k.isDestroyed()||(ke.trigger("initSuccess"),ke.trigger("loaded",ke))}),(function(e){ne.error("OT.Publisher.publish failed to bind video: ".concat(e)),(e=ie(Z.CONNECT_FAILED,e,$.P2P_CONNECTION_FAILED)).message="OT.Publisher PeerConnection Error: ".concat(e.message),Et("Failure",{},{failureReason:"PeerConnectionError",failureCode:e.code,failureMessage:e.message}),k.set("Failed"),ke.trigger("publishComplete",e),oe.handleJsException({error:e,target:ke,analytics:Le})}))}))})),ke},this._setScalableValues=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft().then((function(e){return e[0].getSenders().filter((function(e){return"video"===e.track.kind}))}));case 2:return r=(r=e.sent)[0],(o=r.getParameters()).encodings.forEach((function(e,r){e[t]=n[r]})),e.next=8,r.setParameters(o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this._setScalableFramerates=function(){var e=(0,o.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=tn(t))&&$t(n))return e.next=4,Re._setScalableValues("maxFramerate",n);e.next=4;break;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._setScalableVideoLayers=function(){var e=(0,o.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=tn(t))&&en(n))return e.next=4,Re._setScalableValues("scaleResolutionDownBy",n);e.next=4;break;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(e){var t=0;return e.every((function(e){return!(15!==e&&30!==e||e<t||(t=e,0))}))}),en=function(e){var t=17;return e.every((function(e){return!(e<1||t<=e||(t=e,0))}))},tn=function(e){var t;return"string"!=typeof e||0===(e=e.split(":")).length||3<e.length||!e.every((function(e){return!isNaN(e)}))?t:e.map((function(e){return parseInt(e,10)})).reverse()},nn=function(e){return c&&0<c["get".concat(g(e),"Tracks")]().length&&c["get".concat(g(e),"Tracks")]().every((function(e){return"ended"!==e.readyState}))},rn=function(e){var t=nn("audio")&&ot.publishAudio;Gt&&Gt.setMuted(!t),A&&A.muted(!t),Kt(e)},on=!(this.publishAudio=function(e){wt("publishAudio","Attempt",{publishAudio:e}),ot.publishAudio=e;try{rn(),wt("publishAudio","Success",{publishAudio:e})}catch(e){wt("publishAudio","Failure",{message:e.message})}return ke}),an=function(){var e=nn("video")&&ot.publishVideo;"Chrome"===w.name&&69<=w.version&&(0,o.default)(i.default.mark((function t(){var n,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return mt&&mt.cancel(),mt=new _,n=mt,t.next=5,Ft();case 5:r=t.sent,n.isCanceled()||r.forEach((function(t){ge(t,e)}));case 7:case"end":return t.stop()}}),t)})))(),c&&c.getVideoTracks().forEach((function(t){t.enabled=e,t.isCreatedCanvas&&(t.enabled=!1)})),Kt()},sn=(this._toggleVideo=M(function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tt||rt||on)return e.abrupt("return");e.next=2;break;case 2:if(n=ln()){e.next=5;break}throw ie(Z.NOT_SUPPORTED,new Error("Publisher._toggleVideo cannot toggleVideo when you have no video source."));case 5:if("ended"===n.readyState)return on=!0,e.abrupt("return");e.next=8;break;case 8:r=void 0===(r=ot.videoDimensions)?It():r,e.prev=9,r=U(r),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(9),e.abrupt("return");case 16:return e.next=18,fn();case 18:if(o=e.sent,t&&ae.env.isAndroid&&ae.env.isChrome&&n&&n.stop&&n.stop(),(gt=t?gt:o.find((function(e){return e.label===n.label})).deviceId)&&-1===o.findIndex((function(e){return e.deviceId===gt})))throw ie(Z.NO_DEVICES_FOUND,new Error("Previous device no longer available - deviceId not found"));e.next=23;break;case 23:if(De.emit("streamDestroy"),t)return e.next=27,dn(gt);e.next=30;break;case 27:e.t1=e.sent,e.next=31;break;case 30:e.t1=r;case 31:return o=e.t1,e.next=34,un(n,o);case 34:case"end":return e.stop()}}),e,null,[[9,13]])})));return function(t){return e.apply(this,arguments)}}()),this.publishVideo=function(e){wt("publishVideo","Attempt",{publishVideo:e}),ot.publishVideo=e;try{ke._toggleVideo(ot.publishVideo),an(),wt("publishVideo","Success",{publishVideo:e})}catch(e){wt("publishVideo","Failure",{message:e.message})}return ke},this.setVideoContentHint=function(e){return W(c,e)},this.getVideoContentHint=function(){return H(c)},this.destroy=function(e,t){return k.isAttemptingToPublish()&&this.session&&Et("Cancel",{reason:"destroy"}),k.isDestroyed()||(k.set("Destroyed"),pt(),et&&(et.off(),et=null),Gt&&(Gt.destroy(),Gt=null),De&&(De.off(),De=null),!0!==t&&this.dispatchEvent(new J.DestroyedEvent(T.PUBLISHER_DESTROYED,this,e)),this.off()),this},this.disconnect=function(){Object.keys(Xe).forEach((function(e){var t=Vt(e);delete Xe[e],t.then((function(e){return ke._removePeerConnection(e)}))}))},this.processMessage=function(t,i,o){var d=s(o,"params.subscriber",i).replace(/^INVALID-STREAM$/,i),l=s(o,"content.peerId"),p=s(o,"content.sourceStreamId","MANTIS"),h="".concat(d,"~").concat(l,"~").concat(p),m=(ne.debug("OT.Publisher.processMessage: Received ".concat(t," from ").concat(i," for ").concat(h)),ne.debug(o),Vt(h)),g=ke.session.sessionInfo.isAdaptiveEnabled;if("unsubscribe"===t)ke._removeSubscriber(d);else if(m)m.then((function(e){return e.processMessage(t,o)}));else{if(g&&Ht())return;!function(){var s=me({socket:ke.session._.getSocket(),uri:o.uri,content:{peerId:l,sourceStreamId:p}});ft({peerConnectionId:h,send:s,log:function(e,t,n,r,i){return void 0===r&&(r={}),r=(0,a.default)({peerId:l,sourceStreamId:G(p)},r),wt(e,t,n,r,i)},logQoS:function(t){var o,s,d,h;p===Ce&&(o=(t=(0,a.default)({},t,{peerId:l,remoteConnectionId:i,sourceStreamId:p})).parsedStats,s=t.simulcastEnabled,d=t.remoteConnectionId,h=t.peerId,t=t.sourceStreamId,h={peerId:h,widgetType:"Publisher",connectionId:ke.session&&ke.session.isConnected()?ke.session.connection.connectionId:null,streamId:r,width:n.width,height:n.height,audioTrack:c&&0<c.getAudioTracks().length,hasAudio:Yt(),publishAudio:ot.publishAudio,videoTrack:c&&0<c.getVideoTracks().length,hasVideo:qt(),publishVideo:ot.publishVideo,audioSource:nt?"Custom":void 0,duration:E?Math.round(((new Date).getTime()-E.getTime())/1e3):0,remoteConnectionId:d,scalableVideo:s,sourceStreamId:G(t)},d=(tt&&rt?"Screen":tt&&e.videoSource)||rt&&"Custom"||ot.constraints.video&&"Camera"||null,f(d)&&(d=v(d)),h.videoSource=d,s={videoWidth:ke.videoWidth(),videoHeight:ke.videoHeight()},t=u(h,o),d=u(t,s),Le.logQOS(t),ke.trigger("qos",d))},sourceStreamId:p}).then((function(e){var n;return n={remoteConnectionId:i,remoteSubscriberId:d,peerId:l,sourceStreamId:p,peerConnectionId:h},Ne.set(e,n),e.processMessage(t,o),null})).catch((function(e){ne.error("OT.Publisher failed to create a peerConnection",e)}))}()}},this.getImgData=function(){if(!Ze)return ne.error("OT.Publisher.getImgData: Cannot getImgData before the Publisher is publishing."),null;var e=n&&n.video();return e?e.imgData():null},function(e){e.getSenders().forEach((function(e){return"audio"===e.track.kind&&c.getAudioTracks().length?e.replaceTrack(c.getAudioTracks()[0]):"video"===e.track.kind&&c.getVideoTracks().length?e.replaceTrack(c.getVideoTracks()[0]):void 0}))}),cn=0,un=(this.cycleVideo=M((0,o.default)(i.default.mark((function e(){var t,n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae.env.isLegacyEdge||!ve.RTCRtpSender||"function"!=typeof ve.RTCRtpSender.prototype.replaceTrack)throw ie(Z.UNSUPPORTED_BROWSER,new Error("Publisher#cycleVideo is not supported in your browser."),$.UNABLE_TO_PUBLISH);e.next=2;break;case 2:if(rt||tt)throw ie(Z.NOT_SUPPORTED,new Error("Publisher#cycleVideo: The publisher is not using a camera video source"));e.next=4;break;case 4:if(t=ln()){e.next=7;break}throw ie(Z.NOT_SUPPORTED,new Error("Publisher#cycleVideo cannot cycleVideo when you have no video source."));case 7:return cn+=1,e.next=10,fn();case 10:if(0<(n=e.sent).filter((function(e){return e.label!==t.label})).length)for(;n[cn%n.length].label===t.label;)cn+=1;return De.emit("streamDestroy"),r=(r=n[cn%n.length]).deviceId,e.next=18,bn(r);case 18:return e.abrupt("return",{deviceId:gt});case 19:case"end":return e.stop()}}),e)})))),function(){var e=(0,o.default)(i.default.mark((function e(r,o){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft();case 2:return a=e.sent,e.next=5,t.all(a.map((function(e){return e.findAndReplaceTrack(r,o)})));case 5:c.addTrack(o),c.removeTrack(r),r&&r.stop&&r.stop(),"Firefox"!==ae.env.name&&"Safari"!==ae.env.name||(Re.videoElement().srcObject=null,Re.videoElement().srcObject=c),(a=n&&n.video())&&a.refreshTracks(),De.emit("streamChange"),an();case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),dn=function(){var t=(0,o.default)(i.default.mark((function t(n){var r,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=d(e)).audioSource=null,r.videoSource=n,(et=be(r,"OT.Publisher.getTrackFromDeviceId",(function(){return k&&k.isDestroyed()}))).on({accessDialogOpened:He,accessDialogClosed:Ge}),r=et.getUserMedia,t.prev=6,t.next=9,r();case 9:o=t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),ne.error(t.t0);case 15:return t.abrupt("return",o&&o.getVideoTracks()[0]);case 16:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e){return t.apply(this,arguments)}}(),ln=function(){return c.getVideoTracks()[0]},fn=function(){var e=(0,o.default)(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.shouldAskForDevices();case 2:if(t=e.sent,n=t.videoDevices,t.video&&n&&n.length){e.next=6;break}throw ie(Z.NO_DEVICES_FOUND,new Error("No video devices available"),$.UNABLE_TO_PUBLISH);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pn=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getSettings().deviceId,e.prev=1,e.next=4,Re.setAudioSource(n);case 4:(r=c.getAudioTracks()[0])&&(r.onmute=function(){return hn(r)},r.onunmute=function(){return vn(r)}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ne.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),hn=function(e){var t=!1,n=(ot.publishVideo&&document.hidden&&(t=!0,ke.publishVideo(!1)),function(){var r=(0,o.default)(i.default.mark((function r(){return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(document.hidden){r.next=5;break}return r.next=3,pn(e);case 3:t&&Re.publishVideo(!0),document.removeEventListener("visibilitychange",n);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}());document.addEventListener("visibilitychange",n)},vn=function(e){Yt()&&(qt()?ke.videoElement().pause():pn(e)),ke.session.trigger("gsmCallEnded")},mn=function(){var r=(0,o.default)(i.default.mark((function r(o){var a,s,u,l,f,p,h,v,m,g;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a="Operation did not succeed due to a new request.",bt&&bt.cancel(),bt=new _,s=bt,u=function(e){if(s.isCanceled())throw e.getTracks((function(e){return e.stop()})),ie(Z.CANCEL,new Error(a));return mn(e.getAudioTracks()[0])},ae.env.isLegacyEdge||!ve.RTCRtpSender||"function"!=typeof ve.RTCRtpSender.prototype.replaceTrack)throw ie(Z.UNSUPPORTED_BROWSER,new Error("Publisher#setAudioSource is not supported in your browser."));r.next=7;break;case 7:if(l=Re.getAudioSource()){r.next=10;break}throw ie(Z.NOT_SUPPORTED,new Error("Publisher#setAudioSource cannot add an audio source when you started without one."));case 10:if(o instanceof MediaStreamTrack)return r.next=13,Ft();r.next=21;break;case 13:if(f=r.sent,s.isCanceled())throw ie(Z.CANCEL,new Error(a));r.next=16;break;case 16:return r.next=18,t.all(f.map((function(e){return e.findAndReplaceTrack(l,o)})));case 18:return r.abrupt("return",(i=l,y=void 0,(b=o)&&c.addTrack(b),i&&c.removeTrack(i),(y=n&&n.video())&&y.refreshTracks(),Gt&&(b&&!i&&Gt.addAudioTrack(),i&&!b&&Gt.removeAudioTrack()),i&&i.stop&&i.stop(),b&&(rn(),A=new re(c,!ot.publishAudio)),De.emit("streamChange"),void Kt()));case 21:if("string"==typeof o)return(h=d(e)).audioSource=o,h.videoSource=null,(et=be(h,"OT.Publisher.setAudioSource",(function(){return s.isCanceled()||k&&k.isDestroyed()}))).on({accessDialogOpened:He,accessDialogClosed:Ge}),p=l.label,h=l.getConstraints&&l.getSettings().deviceId||void 0,l&&l.stop(),g=et.getUserMedia,r.prev=31,r.t0=u,r.next=35,g();r.next=68;break;case 35:return r.t1=r.sent,r.next=38,(0,r.t0)(r.t1);case 38:return r.abrupt("return",r.sent);case 41:if(r.prev=41,r.t2=r.catch(31),s.isCanceled())throw ie(Z.CANCEL,new Error(a));r.next=45;break;case 45:if((v=d(e)).videoSource=null,v.audioSource=h,!v.audioSource&&p)return r.next=51,j();r.next=55;break;case 51:if(m=r.sent.find((function(e){return e.label===p})),s.isCanceled())throw ie(Z.CANCEL,new Error(a));r.next=54;break;case 54:m&&(v.audioSource=m.deviceId);case 55:if(v.audioSource){r.next=58;break}throw r.t2.message+=" (could not determine previous audio device)",ie(Z.NOT_FOUND,r.t2);case 58:return et=be(v,"OT.Publisher.setAudioSource",(function(){return s.isCanceled()||k&&k.isDestroyed()})),r.next=61,et.getUserMedia().catch((function(e){throw e.message+=" (could not obtain previous audio device)",e}));case 61:return g=r.sent,r.next=64,u(g);case 64:throw r.t2.message+=" (reverted to previous audio device)",r.t2;case 66:r.next=69;break;case 68:throw ie(Z.INVALID_PARAMETER,new Error("Invalid parameter passed to OT.Publisher.setAudioSource(). Expected string or MediaStreamTrack."));case 69:case"end":return r.stop()}var i,b,y}),r,null,[[31,41]])})));return function(e){return r.apply(this,arguments)}}(),gn=(this.setAudioSource=mn,this.getAudioSource=function(){return c&&0<c.getAudioTracks().length?c.getAudioTracks()[0]:null},function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ie(Z.INVALID_VIDEO_SOURCE,new Error("Invalid video source. Video source must be a valid video input deviceId"),1041),r=ie(Z.SET_VIDEO_SOURCE_FAILURE,new Error("You cannot reset the video source on a publisher that does not currently use a camera source."),1040),ae.env.isLegacyEdge||!ve.RTCRtpSender||"function"!=typeof ve.RTCRtpSender.prototype.replaceTrack)throw ie(Z.UNSUPPORTED_BROWSER,new Error("setVideoSource is not supported in your browser."),$.UNABLE_TO_PUBLISH);e.next=4;break;case 4:if("string"!=typeof t)throw n;e.next=6;break;case 6:if(o=!c||0===c.getVideoTracks().length,rt||tt||o)throw r;e.next=9;break;case 9:return e.next=11,j();case 11:if((o=e.sent).find((function(e){return"videoInput"===e.kind&&e.deviceId===t}))){e.next=15;break}throw n;case 15:return e.next=17,bn(t);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),bn=(this.setVideoSource=gn,function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=gt,gt=t,ot.publishVideo){e.next=4;break}return e.abrupt("return");case 4:return r=ln(),ot.publishVideo&&ae.env.isAndroid&&(ae.env.isChrome||ae.env.isFirefox)&&r&&r.stop&&r.stop(),e.prev=6,e.next=9,dn(t);case 9:o=e.sent,e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(6),gt=n,ne.error(e.t0),e.abrupt("return");case 17:return e.next=19,un(r,o);case 19:ot.publishVideo&&(on=!1);case 20:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}());this.getVideoSource=function(){var e={},t=!c||0===c.getVideoTracks().length;return e.track=c&&ot.publishVideo&&c.getVideoTracks()[0]||null,e.deviceId=tt||rt||!gt?null:gt,e.type=rt?"custom":tt?"screen":t?null:"camera",e},this._={publishToSession:function(e,i){i&&(Le=i),Ae=e,ke.session=e;var o=m(),a=(r=o,ke.streamId=o,Et("Attempt",{dataChannels:ot.channels,properties:D(ot)}),i=new t((function(e,t){Ze?e():(ke.once("initSuccess",e),ke.once("destroyed",(function(e){var n="";(e=e.reason)&&(n=" Reason: ".concat(e)),t(new Error("Publisher destroyed before it finished loading.".concat(n)))})))})),ne.debug("publishToSession: waiting for publishComplete, which is triggered by stream#created from rumor"),new t((function(e,t){ke.once("publishComplete",(function(n){n?t(n):(ke._setScalableFramerates(ot.scalableFramerates),ke._setScalableVideoLayers(ot.scalableVideoLayers),ne.debug("publishToSession: got publishComplete"),e())}))})));return ne.debug("publishToSession: waiting for loaded"),i=i.then((function(){return e._.getVideoCodecsCompatible(c)})).then((function(r){var i,o,a;if(ne.debug("publishToSession: loaded"),ke.session)return i=setTimeout((function(){var t,n,r,i;t=e,ne.error("OT.Publisher.onPublishingTimeout"),r=$e?(n=Z.CHROME_MICROPHONE_ACQUISITION_ERROR,"Unable to publish because your browser failed to get access to your microphone. You may need to fully quit and restart your browser to get it to work. See https://bugs.chromium.org/p/webrtc/issues/detail?id=4799 for more details."):(n=Z.TIMEOUT,"Could not publish in a reasonable amount of time"),i={failureReason:"ICEWorkflow",failureCode:$.UNABLE_TO_PUBLISH,failureMessage:"OT.Publisher failed to publish in a reasonable amount of time (timeout)"},Et("Failure",{},i),oe.handleJsException({errorMsg:i.failureReason,code:i.failureCode,target:ke,analytics:Le}),t.isConnected()&&ke.streamId&&t._.streamDestroy(ke.streamId),ke.disconnect(),ke.session=null,k.isDestroyed()||k.set("MediaBound"),ke.trigger("publishComplete",ie(n,new Error(r),$.UNABLE_TO_PUBLISH))}),ce),ke.once("publishComplete",(function(){clearTimeout(i)})),k.set("PublishingToSession"),r=r&&n&&n.video(),a=0<c.getVideoTracks().length,o=null!==ot.videoSource&&!1!==ot.videoSource,r&&a&&o&&Ve.push(new le({id:"video1",type:"video",active:ot.publishVideo,orientation:pe.ROTATED_NORMAL,frameRate:ot.frameRate,width:r.videoWidth(),height:r.videoHeight(),source:tt?"screen":rt?"custom":"camera",fitMode:ot.fitMode})),a=0<c.getAudioTracks().length,null!==ot.audioSource&&!1!==ot.audioSource&&a&&Ve.push(new le({id:"audio1",type:"audio",active:ot.publishAudio})),ne.debug("publishToSession: creating rumor stream id"),new t((function(e,t){ht(null,(function(n,r,i){n?t(function(e){var t=z(e);throw Et("Failure",{},{failureReason:"Publish",failureCode:t.code,failureMessage:t.message}),k.isAttemptingToPublish()&&ke.trigger("publishComplete",t),oe.handleJsException({errorMsg:e.message,code:t.code,target:ke,error:e,analytics:Le}),t}(n)):e({streamId:r,message:i})}))}))})).then((function(e){if(void 0!==e){var t=e.streamId;if(e=e.message,ne.debug("publishToSession: rumor stream id created:",t,"(this is different from stream#created, which requires media to actually be flowing for mantis sessions)"),t!==o)throw new Error("streamId response does not match request");ke.streamId=t,N=se(e)}})).catch((function(e){throw ke.trigger("publishComplete",e),e})),t.all([i,a])},unpublishFromSession:function(e,t){var n;return ke.session&&e.id===ke.session.id?(e.isConnected()&&(ke.stream||k.isAttemptingToPublish())&&e._.streamDestroy(ke.streamId),Me.releaseAll(),ke.disconnect(),k.isAttemptingToPublish()&&(Et("Cancel",{reason:"unpublish"}),n=new Error(function(){switch(t){case"mediaStopped":return"The video element fired the ended event, indicating there is an issue with the media";case"unpublished":return"The publisher was unpublished before it could be published";case"reset":return"The publisher was reset";default:return"The publisher was destroyed due to ".concat(t)}}()),ke.trigger("publishComplete",ie("mediaStopped"===t?Z.MEDIA_ENDED:Z.CANCEL,n))),ke.session=null,wt("unpublish","Success"),ke._.streamDestroyed(t)):"unpublished"===t&&(n=ke.session&&ke.session.id||"no session",ne.warn("The publisher ".concat(Qe," is trying to unpublish from a session ").concat(e.id," it is not ")+"attached to (it is attached to ".concat(n,")"))),ke},unpublishStreamFromSession:function(e,t,n){return r&&e.id===r?ke._.unpublishFromSession(t,n):(ne.warn("The publisher ".concat(Qe," is trying to destroy a stream ").concat(e.id," that is not attached to it (it has ").concat(r||"no stream"," attached to it)")),ke)},streamDestroyed:function(e){["reset"].indexOf(e)<0&&(k.isDestroyed()||k.set("MediaBound")),e=new J.StreamEvent("streamDestroyed",ke.stream,e,!0),ke.dispatchEvent(e),e.isDefaultPrevented()||ke.destroy()},archivingStatus:function(e){return Gt&&Gt.setArchivingStatus(e),e},webRtcStream:function(){return c},switchTracks:function(){return(0,o.default)(i.default.mark((function e(){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,at().catch(We);case 3:n=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),ne.error("OT.Publisher.switchTracks failed to getUserMedia: ".concat(e.t0)),e.t0;case 10:r=n,At(),c=r,De.emit("streamChange"),A=new re(c,!ot.publishAudio),e.prev=11,Dt(),e.next=21;break;case 15:if(e.prev=15,e.t1=e.catch(11),e.t1 instanceof y)return e.abrupt("return");e.next=19;break;case 19:throw ne.error("Error while binding video",e.t1),e.t1;case 21:e.prev=21,function(e){void 0===e&&(e=sn),Ft().then((function(n){return n.map(e),t.all([])}))}(),e.next=29;break;case 25:throw e.prev=25,e.t2=e.catch(21),ne.error("Error replacing tracks",e.t2),e.t2;case 29:case"end":return e.stop()}var r}),e,null,[[0,6],[11,15],[21,25]])})))()},getDataChannel:function(e,t,n){var r=Vt(Object.keys(Xe)[0]);r?r.then((function(r){r.getDataChannel(e,t,n)})):n(new ae.Error("Cannot create a DataChannel before there is a subscriber."))},iceRestart:function(){Ft().then((function(e){e.forEach((function(e){var t=Pe(e).remoteConnectionId;St("Attempt",{remoteConnectionId:t}),ne.debug("Publisher: ice restart attempt"),e.iceRestart()}))}))},getState:function(){return k},demoOnlyCycleVideo:this.cycleVideo,testOnlyGetFramesEncoded:function(){return(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft();case 2:if((t=e.sent).length){e.next=5;break}throw new Error("No established PeerConnections yet");case 5:return e.abrupt("return",t[0]._testOnlyGetFramesEncoded());case 6:case"end":return e.stop()}}),e)})))()},onStreamAvailable:dt,startRoutedToRelayedTransition:function(){var e;Tt("Attempt"),ke.session?(e=setTimeout((function(){Tt("Failure",{reason:"Timeout"})}),ce),ke.once("streamCreateForP2PComplete",(function(){clearTimeout(e)})),ne.debug("streamCreateWithSource: send a message to RUMOR for "+"creating the stream with the sourceStreaId P2P and stream ".concat(ke.streamId)),ht("P2P",(function(e){e?(e=z(e=e),ke.trigger("streamCreateForP2PComplete",e),Tt("Failure",{reason:e.message})):ke.trigger("streamCreateForP2PComplete")}))):Tt("Failure",{reason:"Not connected to the session."})},startRelayedToRoutedTransition:(yt=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ut("Attempt"),Re.session){e.next=4;break}return ut("Failure",{reason:"Not connected to the session."}),e.abrupt("return");case 4:if(Re.streamId){e.next=7;break}return ut("Failure",{reason:"No streamId available"}),e.abrupt("return");case 7:if(Ht()){e.next=10;break}return ut("Failure",{reason:"There is no Relayed Peer connection created."}),e.abrupt("return");case 10:return Re.session._.streamDestroy(Re.streamId,"P2P"),e.t0=Re,e.next=14,Ht();case 14:return e.t1=e.sent,e.t0._removePeerConnection.call(e.t0,e.t1),e.next=18,Zt();case 18:ut("Success"),Re.trigger("streamDestroyForP2PComplete");case 20:case"end":return e.stop()}}),e)}))),function(){return yt.apply(this,arguments)}),forceMuteAudio:function(){wt("publishAudio","Attempt",{publishAudio:!1}),ot.publishAudio=!1;try{rn("auto"),this.dispatchEvent(new J.MuteForcedEvent),wt("publishAudio","Success",{publishAudio:!1})}catch(e){wt("publishAudio","Failure",{message:e.message})}}.bind(this)},this.detectDevices=function(){ne.warn("Publisher.detectDevices() is not implemented.")},this.detectMicActivity=function(){ne.warn("Publisher.detectMicActivity() is not implemented.")},this.getEchoCancellationMode=function(){return ne.warn("Publisher.getEchoCancellationMode() is not implemented."),"fullDuplex"},this.setMicrophoneGain=function(){ne.warn("Publisher.setMicrophoneGain() is not implemented.")},this.getMicrophoneGain=function(){return ne.warn("Publisher.getMicrophoneGain() is not implemented."),.5},this.setCamera=function(){ne.warn("Publisher.setCamera() is not implemented.")},this.setMicrophone=function(){ne.warn("Publisher.setMicrophone() is not implemented.")},this.guid=function(){return Qe},this.videoElement=function(){var e=n&&n.video();return e?e.domElement():null},this.setStream=function(e){if("PublishingToSession"!==k.current)throw new Error("assignStream called when publisher is not successfully publishing");Me.releaseAll(),ke.stream=e,ke.stream.on("destroyed",ke.disconnect,ke),Me.add((function(){ke.stream&&ke.stream.off("destroyed",ke.disconnect,ke)})),k.set("Publishing"),n.loading(!Ze),E=new Date,ke.dispatchEvent(new J.StreamEvent("streamCreated",e,null,!1)),Et("Success"),ke.trigger("publishComplete",null,ke)},this.isWebRTC=!0,this.isLoading=function(){return n&&n.loading()},this.videoWidth=function(){var e=n&&n.video();return e?e.videoWidth():void 0},this.videoHeight=function(){var e=n&&n.video();return e?e.videoHeight():void 0},this.getStats=function(e){Qt((function(t,n){t?e(t):e(null,n)}))},this.getRtcStatsReport=function(){return new t((function(e,t){Qt("rtcStatsReport",(function(n,r){n?t(n):e(r)}))}))},k=new de((function(e){ne.error("OT.Publisher State Change Failed: ",e.message),ne.debug(e)})),this.accessAllowed=!1}}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(60).once;e.exports=function(e){var t=this;this.publish=-1!==e.indexOf("publish")?1:0,this.subscribe=-1!==e.indexOf("subscribe")?1:0,this.forceUnpublish=-1!==e.indexOf("forceunpublish")?1:0,this.forceDisconnect=-1!==e.indexOf("forcedisconnect")?1:0,this.forceMute=-1!==e.indexOf("forcemute")?1:0,this.supportsWebRTC=r()?1:0,this.permittedTo=function(e){return Object.prototype.hasOwnProperty.call(t,e)&&1===t[e]}}},function(e,t,n){"use strict";var r=n(1)("Stream"),i=n(5),o=n(20),a=n(6),s=n(22)(),c=["name","archiving"];e.exports=function(e,t,n,u,d,l){function f(e,t,n,r){var i=t;switch(i){case"active":i="audio"===e.type?"hasAudio":"hasVideo",v[i]=r;break;case"disableWarning":if(i="audio"===e.type?"audioDisableWarning":"videoDisableWarning",v[i]=r,v["audio"===e.type?"hasAudio":"hasVideo"])break;return;case"fitMode":v[i="defaultFitMode"]=r;break;case"source":i="audio"===e.type?"audioType":"videoType",v[i]=r;break;case"videoDimensions":v.videoDimensions=r;break;case"orientation":case"width":case"height":return}"screen"===v.videoType&&"hasVideo"===i&&!1===r||v.dispatchEvent(new s.StreamUpdatedEvent(v,i,n,r))}function p(){return!v.publisher}var h,v=this,m=(this.id=e,this.streamId=e,this.name=t,this.creationTime=Number(n),this.connection=u,this.channel=l,this.publisher=o.publishers.find({streamId:this.id}),a(this),function(){return v.publisher||o.subscribers.find((function(e){return e.stream&&e.stream.id===v.id&&e.session.id===d.id}))}),g=(this.getChannelsOfType=function(e){return v.channel.filter((function(t){return t.type===e}))},this.getChannel=function(e){for(var t=0;t<v.channel.length;++t)if(v.channel[t].id===e)return v.channel[t];return null},e=this.getChannelsOfType("audio")[0],t=this.getChannelsOfType("video")[0],this.hasAudio=null!=e&&e.active,this.hasVideo=null!=t&&t.active,this.videoType=t&&t.source,this.defaultFitMode=t&&t.fitMode,this.videoDimensions={},t&&(this.videoDimensions.width=t.width,this.videoDimensions.height=t.height,this.videoDimensions.orientation=t.orientation,t.on("update",f),this.frameRate=t.frameRate),e&&e.on("update",f),this.setChannelActiveState=function(e,t,n){t={active:t},n&&(t.activeReason=n),g(e,t)},this.setVideoDimensions=function(e,t){g("video",{width:e,height:t,orientation:0})},this.setRestrictFrameRate=function(e){g("video",{restrictFrameRate:e})},this.setPreferredResolution=function(e){if(p()){if(d.sessionInfo.p2pEnabled)r.warn("Stream.setPreferredResolution will not work in a P2P Session");else if(!e||void 0!==e.width||void 0!==e.height){var t=v.getChannelsOfType("video")[0];if(t){if(e&&e.width){if(isNaN(parseInt(e.width,10)))throw new i.Error("stream preferred width must be an integer","Subscriber");t.preferredWidth=parseInt(e.width,10)}else t.preferredWidth=void 0;if(e&&e.height){if(isNaN(parseInt(e.height,10)))throw new i.Error("stream preferred height must be an integer","Subscriber");t.preferredHeight=parseInt(e.height,10)}else t.preferredHeight=void 0;d._.subscriberChannelUpdate(v,m(),t,{preferredWidth:t.preferredWidth||0,preferredHeight:t.preferredHeight||0})}}}else r.warn("setPreferredResolution has no affect when called by a publisher")},this.getPreferredResolution=function(){var e=v.getChannelsOfType("video")[0];if(e&&(e.preferredWidth||e.preferredHeight))return{width:e.preferredWidth,height:e.preferredHeight}},this.setPreferredFrameRate=function(e){if(p())if(d.sessionInfo.p2pEnabled)r.warn("Stream.setPreferredFrameRate will not work in a P2P Session");else{if(e&&isNaN(parseFloat(e)))throw new i.Error("stream preferred frameRate must be a number","Subscriber");var t=v.getChannelsOfType("video")[0];t&&(t.preferredFrameRate=e?parseFloat(e):null,d._.subscriberChannelUpdate(v,m(),t,{preferredFrameRate:t.preferredFrameRate||0}))}else r.warn("setPreferredFrameRate has no affect when called by a publisher")},this.getPreferredFrameRate=function(){var e=v.getChannelsOfType("video")[0];return e?e.preferredFrameRate:null},function(e,t){var n,r;r=v.publisher?function(e){return d._.streamChannelUpdate(v,e,t)}:(n=m(),function(e){return d._.subscriberChannelUpdate(v,n,e,t)}),v.getChannelsOfType(e).forEach(r)});this.destroyed=!1,this.destroyedReason=void 0,this.destroy=function(e,t){h=e=void 0===e?"clientDisconnected":e,v.destroyed=!0,v.destroyedReason=h,!0!==t&&v.dispatchEvent(new s.DestroyedEvent("destroyed",v,h))},this._={},this._.updateProperty=function(e,t){if(-1===c.indexOf(e))r.warn('Unknown stream property "'.concat(e,'" was modified to "').concat(t,'".'));else{var n=v[e],i=t;switch(e){case"name":v[e]=i;break;case"archiving":var o=m();v.publisher&&o&&o._.archivingStatus(i),v[e]=i}t=new s.StreamUpdatedEvent(v,e,n,i),v.dispatchEvent(t)}},this._.update=function(e){for(var t in e)e.hasOwnProperty(t)&&v._.updateProperty(t,e[t])},this._.forceMute=function(e){e.hasOwnProperty("channels")&&e.channels.includes("audio")&&v.publisher&&v.publisher._.forceMuteAudio()},this._.updateChannel=function(e,t){(e=v.getChannel(e))&&e.update(t)}}},function(e,t,n){"use strict";t.__esModule=!0,t.STATUS=t.PONG=t.PING=t.DISCONNECT=t.CONNECT=t.MESSAGE=t.UNSUBSCRIBE=t.SUBSCRIBE=void 0,t.SUBSCRIBE=0,t.UNSUBSCRIBE=1,t.MESSAGE=2,t.CONNECT=3,t.DISCONNECT=4,t.PING=7,t.PONG=8,t.STATUS=9},function(e,t,n){"use strict";var r=n(7),i=n(169),o=n(6),a=n(22)(),s=n(710);function c(e,t,n,r,c){var u,d=this;this.id=e,this.connectionId=e,this.creationTime=t?Number(t):null,this.data=n,this.capabilities=s(r),this.permissions=new i(c),this.quality=null,o(this),this.destroy=function(e,t){u=e||"clientDisconnected",!0!==t&&d.dispatchEvent(new a.DestroyedEvent("destroyed",d,u))},this.destroyed=function(){return void 0!==u},this.destroyedReason=function(){return u}}c.fromHash=function(e){var t=e.id,n=e.creationTime,i=e.data,o=e.capablities;return e=e.permissions,new c(t,n,i,r(o||{},{supportsWebRTC:!0}),e||[])},e.exports=c},function(e,t){var n="object"==_typeof(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global)&&(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global)&&(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).Object===Object&&(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global);e.exports=n},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(37);n=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),e.exports=n},function(e,t,n){var r=n(39),i=n(30);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(369),i=n(64),o=n(10),a=n(65),s=n(66),c=n(85),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n,d=o(e),l=!d&&i(e),f=!d&&!l&&a(e),p=!d&&!l&&!f&&c(e),h=d||l||f||p,v=h?r(e.length,String):[],m=v.length;for(n in e)!t&&!u.call(e,n)||h&&("length"==n||f&&("offset"==n||"parent"==n)||p&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||s(n,m))||v.push(n);return v}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){(function(e){var r,i=n(14),o=t&&!t.nodeType&&t,a=(r=(r=o&&"object"==_typeof(e)&&e&&!e.nodeType&&e)&&r.exports===o?i.Buffer:void 0)?r.allocUnsafe:void 0;e.exports=function(e,t){return t?e.slice():(t=e.length,t=a?a(t):new e.constructor(t),e.copy(t),t)}}).call(this,n(84)(e))},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(116),i=n(117),o=n(115),a=(n=n(180),Object.getOwnPropertySymbols);e.exports=a?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:n},function(e,t,n){var r=n(183),i=n(115),o=n(30);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(116),i=n(10);e.exports=function(e,t,n){return t=t(e),i(e)?t:r(t,n(e))}},function(e,t,n){var r=n(183),i=n(181),o=n(52);e.exports=function(e){return r(e,o,i)}},function(e,t,n){n=n(37)(n(14),"Set"),e.exports=n},function(e,t,n){n=n(37)(n(14),"WeakMap"),e.exports=n},function(e,t,n){n=n(14).Uint8Array,e.exports=n},function(e,t,n){var r=n(118);e.exports=function(e,t){return t=t?r(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)}},function(e,t,n){var r=n(86),i=n(117),o=n(68);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){var r=n(110);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;return o.has(i)?o.get(i):(r=e.apply(this,r),n.cache=o.set(i,r)||o,r)}return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(87),i=n(122);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=1<o?n[o-1]:void 0,s=2<o?n[2]:void 0;for(a=3<e.length&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,a)}return t}))}},function(e,t,n){var r=n(120),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(c),r(e,this,u)}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,0<o){if(800<=++t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){"use strict";e.exports=n(397)()?WeakMap:n(398)},function(e,t,n){"use strict";var r=Object.create,i=Object.getPrototypeOf,o={};e.exports=function(){var e=Object.setPrototypeOf;return"function"==typeof e&&i(e((arguments[0]||r)(null),o))===o}},function(e,t,n){"use strict";var r,i,o=n(197),a=n(31),s=Object.prototype.isPrototypeOf,c=Object.defineProperty,u={configurable:!0,enumerable:!1,writable:!0,value:void 0},d=function(e,t){if(a(e),null===t||o(t))return e;throw new TypeError("Prototype must be null or an object")};e.exports=(e=function(){var e,t=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{(e=r.set).call(t,n)}catch(e){}if(Object.getPrototypeOf(t)===n)return{set:e,level:2}}return t.__proto__=n,Object.getPrototypeOf(t)===n?{level:2}:((t={}).__proto__=n,Object.getPrototypeOf(t)===n&&{level:1})}())?(r=2===e.level?e.set?(i=e.set,function(e,t){return i.call(d(e,t),t),e}):function(e,t){return d(e,t).__proto__=t,e}:function e(t,n){var r;return d(t,n),(r=s.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,t.__proto__=n=null===n?e.nullPolyfill:n,r&&c(e.nullPolyfill,"__proto__",u),t},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null,n(400)},function(e,t,n){"use strict";var r=n(42),i={function:!0,object:!0};e.exports=function(e){return r(e)&&i[_typeof(e)]||!1}},function(e,t,n){"use strict";var r=n(403),i=/^\s*class[\s{/}]/,o=Function.prototype.toString;e.exports=function(e){return!!r(e)&&!i.test(o.call(e))}},function(e,t,n){"use strict";var r=n(42),i=Array.prototype.forEach,o=Object.create;e.exports=function(e){var t=o(null);return i.call(arguments,(function(e){if(r(e)){var n,i=Object(e),o=t;for(n in i)o[n]=i[n]}})),t}},function(e,t,n){"use strict";e.exports=n(410)()?String.prototype.contains:n(411)},function(e,t,n){"use strict";var r=n(89),i=n(90),o=n(412),a=n(441),s=n(442),c=n(43).iterator;e.exports=function(e){return"function"==typeof s(e)[c]?e[c]():new(!r(e)&&i(e)?a:o)(e)}},function(e,t,n){"use strict";var r=n(417);e.exports=function(e){if(r(e))return e;throw new TypeError(e+" is not a symbol")}},function(e,t,n){"use strict";var r,i=n(421),o=n(125),a=n(70),s=n(31),c=n(32),u=n(422),d=n(43),l=Object.defineProperty,f=Object.defineProperties;e.exports=r=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");f(this,{__list__:c("w",s(e)),__context__:c("w",t),__nextIndex__:c("w",0)}),t&&(a(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete r.prototype.constructor,f(r.prototype,o({_next:c((function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:c((function(){return this._createResult(this._next())})),_createResult:c((function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}})),_resolve:c((function(e){return this.__list__[e]})),_unBind:c((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),toString:c((function(){return"[object "+(this[d.toStringTag]||"Object")+"]"}))},u({_onAdd:c((function(e){e>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(t,n){e<=t&&(this.__redo__[n]=++t)}),this),this.__redo__.push(e)):l(this,"__redo__",c("c",[e])))})),_onDelete:c((function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(t=this.__redo__.indexOf(e))&&this.__redo__.splice(t,1),this.__redo__.forEach((function(t,n){e<t&&(this.__redo__[n]=--t)}),this)))})),_onClear:c((function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0}))}))),l(r.prototype,d.iterator,c((function(){return this})))},function(e,t,n){"use strict";function r(e,t){return e.replace("%v",s(t))}var i=n(54),o=n(124),a=n(424),s=n(425);e.exports=function(e,t,n){if(!o(n))throw new TypeError(r(t,e));if(!i(e)){if("default"in n)return n.default;if(n.isOptional)return null}throw n=a(n.errorMessage),i(n)||(n=t),new TypeError(r(n,e))}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t,n){e.exports=n(453)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(17);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){return t?((n=n?n(t):r.isURLSearchParams(t)?t.toString():(o=[],r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),o.join("&")))&&(-1!==(t=e.indexOf("#"))&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n),e):e;var o}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(17),i=n(458),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:s="undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?n(211):s,transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(o)})),e.exports=c}).call(this,n(69))},function(e,t,n){"use strict";(function(t){var r=n(17),i=n(459),o=n(461),a=n(208),s=n(462),c=n(465),u=n(466),d=n(212);e.exports=function(e){return new t((function(t,n){var l,f=e.data,p=e.headers,h=(r.isFormData(f)&&delete p["Content-Type"],new XMLHttpRequest),v=(e.auth&&(v=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"",p.Authorization="Basic "+btoa(v+":"+l)),s(e.baseURL,e.url));if(h.open(e.method.toUpperCase(),a(v,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){var r;h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&(r="getAllResponseHeaders"in h?c(h.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h},i(t,n,r),h=null)},h.onabort=function(){h&&(n(d("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){n(d("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(d(t,e,"ECONNABORTED",h)),h=null},!r.isStandardBrowserEnv()||(l=(e.withCredentials||u(v))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0)&&(p[e.xsrfHeaderName]=l),"setRequestHeader"in h&&r.forEach(p,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete p[t]:h.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(l){if("json"!==e.responseType)throw l}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),n(e),h=null)})),f=f||null,h.send(f)}))}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(460);e.exports=function(e,t,n,i,o){return e=new Error(e),r(e,t,n,i,o)}},function(e,t,n){"use strict";var r=n(17);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(o,u),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var d=i.concat(o).concat(a).concat(s);return i=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===d.indexOf(e)})),r.forEach(i,u),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){var r=n(471),i=n(473);e.exports=function(e,t,n){return r(i,e,t,n)}},function(e,t,n){var r=n(88),i=n(217);e.exports=i?function(e,t){return i.set(e,t),e}:r},function(e,t,n){n=(n=n(186))&&new n,e.exports=n},function(e,t,n){var r=n(219),i=n(220),o=n(477),a=n(95),s=n(221),c=n(227),u=n(486),d=n(134),l=n(14);e.exports=function e(t,n,f,p,h,v,m,g,b,y){var _=128&n,w=1&n,E=2&n,S=24&n,C=512&n,T=E?void 0:a(t);return function O(){for(var x=arguments.length,I=Array(x),A=x;A--;)I[A]=arguments[A];if(S&&(k=c(O),R=o(I,k)),p&&(I=r(I,p,h,S)),v&&(I=i(I,v,m,S)),x-=R,S&&x<y)return R=d(I,k),s(t,n,e,O.placeholder,f,I,R,g,b,y-x);var k=w?f:this,R=E?k[t]:t;return x=I.length,g?I=u(I,g):C&&1<x&&I.reverse(),_&&b<x&&(I.length=b),(R=this&&this!==l&&this instanceof O?T||a(R):R).apply(k,I)}}},function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=r.length,c=-1,u=t.length,d=n(a-s,0),l=Array(u+d),f=!i;++c<u;)l[c]=t[c];for(;++o<s;)(f||o<a)&&(l[r[o]]=e[o]);for(;d--;)l[c++]=e[o++];return l}},function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=-1,c=r.length,u=-1,d=t.length,l=n(a-c,0),f=Array(l+d),p=!i;++o<l;)f[o]=e[o];for(var h=o;++u<d;)f[h+u]=t[u];for(;++s<c;)(p||o<a)&&(f[h+r[s]]=e[o++]);return f}},function(e,t,n){var r=n(478),i=n(225),o=n(226);e.exports=function(e,t,n,a,s,c,u,d,l,f){var p=8&t;return 4&(t=(t|(p?32:64))&~(p?64:32))||(t&=-4),s=[e,t,s,p?c:void 0,p?u:void 0,p?void 0:c,p?void 0:u,d,l,f],c=n.apply(void 0,s),r(e)&&i(c,s),c.placeholder=a,o(c,e,t)}},function(e,t,n){var r=n(217);n=n(223),e.exports=r?function(e){return r.get(e)}:n},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(86);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}n=n(133),i.prototype=r(n.prototype),e.exports=i.prototype.constructor=i},function(e,t,n){var r=n(216);n=n(193)(r),e.exports=n},function(e,t,n){var r=n(483),i=n(484),o=n(121),a=n(485);e.exports=function(e,t,n){return o(e,i(t+="",a(r(t),n)))}},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,n){var r=n(490),i=n(9),o=n(71),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=i(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=r(e);var t=s.test(e);return t||c.test(e)?u(e.slice(2),t?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(498),i=n(16);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},function(e,t,n){var r=n(92),i=n(231),o=n(94);e.exports=function(e,t,n,a,s,c){var u=1&n,d=e.length;if(d!=(l=t.length)&&!(u&&d<l))return!1;var l=c.get(e),f=c.get(t);if(l&&f)return l==t&&f==e;var p=-1,h=!0,v=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<d;){var m,g=e[p],b=t[p];if(void 0!==(m=a?u?a(b,g,p,t,e,c):a(g,b,p,e,t,c):m)){if(m)continue;h=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(g===e||s(g,e,n,a,c)))return v.push(t)}))){h=!1;break}}else if(g!==b&&!s(g,b,n,a,c)){h=!1;break}}return c.delete(e),c.delete(t),h}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t,n){var r=n(9);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){n=n(503);var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g;n=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t})),e.exports=n},function(e,t,n){var r=n(505),i=n(506);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t,n){var r=n(116),i=n(512);e.exports=function e(t,n,o,a,s){var c=-1,u=t.length;for(o=o||i,s=s||[];++c<u;){var d=t[c];0<n&&o(d)?1<n?e(d,n-1,o,a,s):r(s,d):a||(s[s.length]=d)}return s}},function(e,t,n){n=n(519)(),e.exports=n},function(e,t,n){"use strict";var r=n(520),i=n(521);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=b(e)),e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=(t=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),["'"].concat(t)),d=["%","/","?",";","#"].concat(u),l=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=n(522);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+_typeof(e));var o=-1!==(o=e.indexOf("?"))&&o<e.indexOf("#")?"?":"#",s=e.split(o);s[0]=s[0].replace(/\\/g,"/");var b,y=(y=e=s.join(o)).trim();if(!n&&1===e.split("#").length&&(s=c.exec(y)))return this.path=y,this.href=y,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this;if((o=a.exec(y))&&(b=(o=o[0]).toLowerCase(),this.protocol=b,y=y.substr(o.length)),!(n||o||y.match(/^\/\/[^@\/]+@[^@\/]+/))||!(N="//"===y.substr(0,2))||o&&v[o]||(y=y.substr(2),this.slashes=!0),!v[o]&&(N||o&&!m[o])){for(var _=-1,w=0;w<l.length;w++)-1!==(E=y.indexOf(l[w]))&&(-1===_||E<_)&&(_=E);var E;for(-1!==(e=-1===_?y.lastIndexOf("@"):y.lastIndexOf("@",_))&&(s=y.slice(0,e),y=y.slice(e+1),this.auth=decodeURIComponent(s)),_=-1,w=0;w<d.length;w++)-1!==(E=y.indexOf(d[w]))&&(-1===_||E<_)&&(_=E);if(-1===_&&(_=y.length),this.host=y.slice(0,_),y=y.slice(_),this.parseHost(),this.hostname=this.hostname||"",!(n="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1]))for(var S=this.hostname.split(/\./),C=(w=0,S.length);w<C;w++){var T=S[w];if(T&&!T.match(f)){for(var O="",x=0,I=T.length;x<I;x++)127<T.charCodeAt(x)?O+="x":O+=T[x];if(!O.match(f)){var A=S.slice(0,w),k=S.slice(w+1),R=T.match(p);R&&(A.push(R[1]),k.unshift(R[2])),k.length&&(y="/"+k.join(".")+y),this.hostname=A.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),n||(this.hostname=r.toASCII(this.hostname));var D=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+D,this.href+=this.host,n&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!h[b])for(w=0,C=u.length;w<C;w++){var P,M=u[w];-1!==y.indexOf(M)&&((P=encodeURIComponent(M))===M&&(P=escape(M)),y=y.split(M).join(P))}return-1!==(o=y.indexOf("#"))&&(this.hash=y.substr(o),y=y.slice(0,o)),-1!==(e=y.indexOf("?"))?(this.search=y.substr(e),this.query=y.substr(e+1),t&&(this.query=g.parse(this.query)),y=y.slice(0,e)):t&&(this.search="",this.query={}),y&&(this.pathname=y),m[b]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(D=this.pathname||"",s=this.search||"",this.path=D+s),this.href=this.format(),this},o.prototype.format=function(){var e=((a=this.auth||"")&&(a=(a=encodeURIComponent(a)).replace(/%3A/i,":"),a+="@"),this.protocol||""),t=this.pathname||"",n=this.hash||"",r=!1,o="",a=(this.host?r=a+this.host:this.hostname&&(r=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=g.stringify(this.query)),this.search||o&&"?"+o||"");return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==r?(r="//"+(r||""),t&&"/"!==t.charAt(0)&&(t="/"+t)):r=r||"",n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+r+(t=t.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){i.isString(e)&&((g=new o).parse(e,!1,!0),e=g);for(var t=new o,n=Object.keys(this),r=0;r<n.length;r++){var a=n[r];t[a]=this[a]}if(t.hash=e.hash,""===e.href)return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var u=s[c];"protocol"!==u&&(t[u]=e[u])}return m[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!m[e.protocol]){for(var d=Object.keys(e),l=0;l<d.length;l++){var f=d[l];t[f]=e[f]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||v[e.protocol])t.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),t.pathname=p.join("/")}return t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(t.pathname||t.search)&&(g=t.pathname||"",E=t.search||"",t.path=g+E),t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var h,g=t.pathname&&"/"===t.pathname.charAt(0),b=g=(E=e.host||e.pathname&&"/"===e.pathname.charAt(0))||g||t.host&&e.pathname,y=t.pathname&&t.pathname.split("/")||[],_=(p=e.pathname&&e.pathname.split("/")||[],t.protocol&&!m[t.protocol]);if(_&&(t.hostname="",t.port=null,t.host&&(""===y[0]?y[0]=t.host:y.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),g=g&&(""===p[0]||""===y[0])),E)t.host=(e.host||""===e.host?e:t).host,t.hostname=(e.hostname||""===e.hostname?e:t).hostname,t.search=e.search,t.query=e.query,y=p;else if(p.length)(y=y||[]).pop(),y=y.concat(p),t.search=e.search,t.query=e.query;else if(!i.isNullOrUndefined(e.search))return _&&(t.hostname=t.host=y.shift(),(h=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=h.shift(),t.host=t.hostname=h.shift())),t.search=e.search,t.query=e.query,i.isNull(t.pathname)&&i.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.href=t.format(),t;if(!y.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var w=y.slice(-1)[0],E=(t.host||e.host||1<y.length)&&("."===w||".."===w)||""===w,S=0,C=y.length;0<=C;C--)"."===(w=y[C])?y.splice(C,1):".."===w?(y.splice(C,1),S++):S&&(y.splice(C,1),S--);if(!g&&!b)for(;S--;)y.unshift("..");return!g||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),E&&"/"!==y.join("/").substr(-1)&&y.push(""),b=""===y[0]||y[0]&&"/"===y[0].charAt(0),_&&(t.hostname=t.host=!b&&y.length?y.shift():"",(h=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=h.shift(),t.host=t.hostname=h.shift())),(g=g||t.host&&y.length)&&!b&&y.unshift(""),y.length?t.pathname=y.join("/"):(t.pathname=null,t.path=null),i.isNull(t.pathname)&&i.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";var r,i,o=n(15),a=n(19),s=n(1)("guidStorage");n={},e.exports=n,n.override=function(e){if(!o((t=e).get)||!o(t.set))throw new Error("The storageInterface argument does not seem to be valid, it must implement get and set methods");var t;r!==e&&(r=e,i&&r.set(i,(function(e){e&&s.error("Failed to send initial Guid value (".concat(i,") to the newly assigned Guid Storage. The error was: ").concat(e))})))},n.get=function(e){var t;t=function(t,n){t?e(t):(n?i=i||n:(n=a(),r.set(n,(function(t){t?e(t):i=n}))),e(null,i))},i?t(null,i):r.get(t)},n.override({get:function(e){var t;try{t=(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).localStorage.getItem("opentok_client_id")}catch(e){t=t||a()}e(null,t)},set:function(e,t){try{(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).localStorage.setItem("opentok_client_id",e)}catch(e){}t(null)}}),n.set=function(e){i=e}},function(e,t){var n,r,i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);i?(n=new Uint8Array(16),e.exports=function(){return i(n),n}):(r=new Array(16),e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r})},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){t=t||0;var r=n;return[r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],r[e[+t]]].join("")}},function(e,t,n){"use strict";var r=n(7),i=n(1)("analytics"),o=n(527),a=n(19),s=n(244),c=n(138).prependProxyToUrlIfNeeded,u=n(139).getProxyUrl,d=a(),l=new o;e.exports=function(e){var t,n=this,o=this,a=e.loggingUrl,f=void 0===(t=e.queue)?l:t,p=void 0===(t=e.ajax)?s:t,h=(this.loggingUrl=a,this.updateEndPoints=function(){var e;n.proxyUrl||(n.proxyUrl=u(),e=c(n.loggingUrl,n.proxyUrl),n.loggingUrl=e),n.endPoint="".concat(n.loggingUrl,"/logging/ClientEvent"),n.endPointQos="".concat(n.loggingUrl,"/logging/ClientQos")},this.updateEndPoints(),{});this.logError=function(e,t,n,i,a){void 0===i&&(i=null);var s=(a=void 0===a?{}:a).partnerId;!function(e,t,n){return!!n&&(n=[n,t,e].join("_"),100<=(h[n]||0))}(e,t,s)&&(s=[s,t,e].join("_"),i=i,h[s]=void 0!==h[s]?h[s]+1:1,o.logEvent(r(a,{action:"".concat(t,".").concat(e),payload:i}),!1))},this.logEvent=function(e,t,n,r){if(void 0===t&&(t=!1),void 0===r&&(r=function(){}),o.updateEndPoints(),e.clientInstanceId=d,n&&!isNaN(n)&&Math.random()>n)i.debug("skipping sending analytics due to throttle:",e);else{var a,s,c,u;i.debug("queueing analytics:",o.loggingUrl,e);try{a=JSON.stringify(e)}catch(e){return void r(e)}s=a,u=t,void 0===(c=r)&&(c=function(){}),f.add((function(e){i.debug("sending analytics:",o.loggingUrl,s),p.post(u?o.endPointQos:o.endPoint,{body:s,overrideMimeType:"text/plain",headers:{Accept:"text/plain","Content-Type":"application/json"}},(function(t){t&&i.debug("Failed to send ClientEvent, moving on to the next item."),c(t||void 0),e()}))}))}},this.logQOS=function(e){return n.logEvent(e,!0)}}},function(e,t,n){"use strict";var r=n(245),i=n(2),o=n(247),a=n(7),s={};e.exports=s,"Node"!==i.name&&(s.request=function(e,t,n){var i=new((void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).XMLHttpRequest),o=t||{};if(o.method){for(var a in t.overrideMimeType&&(i.overrideMimeType&&i.overrideMimeType(t.overrideMimeType),delete t.overrideMimeType),n&&(r(i).on("load",(function(e){var t=e.target.status;200<=t&&(t<300||304===t)?n(null,e):n(e)})),r(i).on("error",n)),i.open(t.method,e,!0),o.headers||(o.headers={}),o.headers)Object.prototype.hasOwnProperty.call(o.headers,a)&&i.setRequestHeader(a,o.headers[a]);i.send(t.body&&function(e){if("string"==typeof e)return e;var t=[];return Object.keys(e).forEach((function(n){t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])))})),t.join("&").replace(/\+/g,"%20")}(t.body))}else n(new Error("No HTTP method specified in options"))},s.get=function(e,t,n){t=a(t||{},{method:"GET"}),s.request(e,t,n)},s.post=function(e,t,n){t=a(t||{},{method:"POST"}),s.request(e,t,n)},s.getJSON=function(e,t,n){var r=a({Accept:"application/json"},(t=t||{}).headers||{});s.get(e,a(t||{},{headers:r}),(function(e,t){if(e)n(e,t&&t.target&&t.target.responseText);else{var r;try{r=JSON.parse(t.target.responseText)}catch(e){return void n(e,t&&t.target&&t.target.responseText)}n(null,r,t)}}))},o(s))},function(e,t,n){"use strict";var r=n(246);e.exports=function(e,t){return new r(e,t)}},function(e,t,n){"use strict";function r(e,t){n=t;var n,r,i,o=void 0===(e=e)?[]:("string"==typeof e?(r=[],i=a.exec(e),n=n||document,i&&i[1]?(i=n.getElementById(i[1]))&&r.push(i):r=n.querySelectorAll(e)):e&&(e.nodeType||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).XMLHttpRequest&&e instanceof(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).XMLHttpRequest||e===(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global))?(r=[e],n=e):Array.isArray(e)?(r=e.slice(),n=null):r=s(r),r);this.context=t,this.toArray=function(){return o},this.length=o.length,this.first=o[0],this.last=o[o.length-1],this.get=function(e){return void 0===e?o:o[e]}}function i(e){return 0!==e.offsetWidth&&0!==e.offsetHeight||"none"!==new r(e).css("display")?e.parentNode&&e.parentNode.style?i(e.parentNode):null:e}var o=n(15),a=(n={attributes:n(528),css:n(529),classNames:n(533),observers:n(535)},/^#([\w-]*)$/),s=function(e){return Array.prototype.slice.call(e)};((e.exports=r)._attachToOTHelpers={}).removeElement=function(e){return new r(e).remove()},r.prototype.getAsArray=function(){var e=this.get();return o(e.forEach)?e:s(e)},r.prototype.some=function(e,t){return this.getAsArray().some(e,t)},r.prototype.forEach=function(e,t){return this.getAsArray().forEach(e,t),this},r.prototype.map=function(e,t){return new r(this.getAsArray().map(e,t),this.context)},r.prototype.filter=function(e,t){return new r(this.getAsArray().filter(e,t),this.context)},r.prototype.find=function(e){return new r(e,this.first)},r.prototype.on=function(e,t){return this.forEach((function(n){n.addEventListener(e,t,!1)}))},r.prototype.off=function(e,t){return this.forEach((function(n){n.removeEventListener(e,t,!1)}))},r.prototype.once=function(e,t){var n=function(){this.off(e,n),t.apply(void 0,arguments)}.bind(this);return this.on(e,n)},r.prototype.appendTo=function(e){if(e)return this.forEach((function(t){e.appendChild(t)}));throw new Error("appendTo requires a DOMElement to append to.")},r.prototype.append=function(){var e=this.first;return e&&Array.prototype.forEach.call(arguments,(function(t){e.appendChild(t)})),this},r.prototype.prepend=function(){if(0===arguments.length)return this;var e,t=this.first;return t&&(e=Array.prototype.slice.call(arguments),t.firstElementChild||t.appendChild(e.shift()),e.forEach((function(e){t.insertBefore(e,t.firstElementChild)}))),this},r.prototype.after=function(e){if(e)return this.forEach((function(t){t.parentElement&&(e!==t.parentNode.lastChild?t.parentElement.insertBefore(t,e):t.parentElement.appendChild(t))}));throw new Error("after requires a DOMElement to insert after")},r.prototype.before=function(e){if(e)return this.forEach((function(t){t.parentElement&&t.parentElement.insertBefore(t,e)}));throw new Error("before requires a DOMElement to insert before")},r.prototype.remove=function(){return this.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},r.prototype.empty=function(){return this.forEach((function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}))},r.prototype.isDisplayNone=function(){return this.some((function(e){return(0===e.offsetWidth||0===e.offsetHeight)&&"none"===new r(e).css("display")||!(!e.parentNode||!e.parentNode.style)&&new r(e.parentNode).isDisplayNone()}))},r._attachToOTHelpers.emptyElement=function(e){return new r(e).empty()},r._attachToOTHelpers._findElementWithDisplayNone=i,n.css(r,i),n.attributes(r),n.classNames(r),n.observers(r),["on","off","isDisplayNone","show","hide","css","makeVisibleAndYield","addClass","removeClass"].forEach((function(e){r._attachToOTHelpers[e]=function(){var t=Array.prototype.slice.apply(arguments),n=new r(n=t.shift());return r.prototype[e].apply(n,t)}}))},function(e,t,n){"use strict";e.exports=function(e){var t={};Object.keys(e).forEach((function(n){t[n]=e[n]})),e._attachToOTHelpers=t}},function(e,t,n){"use strict";var r=n(15),i=n(6),o=n(1)("Collection");e.exports=function(e){function t(e,t){return r(e[t])?e[t]():e[t]}var n=[],a={},s=e||"id",c=(i(this),function(e){this.trigger("update",e),this.trigger("update:".concat(e.target.id),e)}.bind(this)),u=function(e){this.remove(e.target,e.reason)}.bind(this);this.reset=function(){n.forEach((function(e){e.off("updated",c,this),e.off("destroyed",u,this)}),this),n=[],a={}},this.destroy=function(e){n.forEach((function(t){t&&"function"==typeof t.destroy&&t.destroy(e,!0)})),this.reset(),this.off()},this.get=function(e){return e&&void 0!==a[e]?n[a[e]]:void 0},this.has=function(e){return e&&void 0!==a[e]},this.toString=function(){return n.toString()},this.where=function(e,i){return r(e)?n.filter(e,i):n.filter((function(n){for(var r in e)if(e.hasOwnProperty(r)&&t(n,r)!==e[r])return!1;return!0}))},this.find=function(e,i){var o=r(e)?e:function(n){for(var r in e)if(e.hasOwnProperty(r)&&t(n,r)!==e[r])return!1;return!0};o=o.bind(i);for(var a=0;a<n.length;++a)if(!0===o(n[a]))return n[a];return null},this.forEach=function(e,t){return n.forEach(e,t),this},this.map=function(e){return n.map(e)},this.add=function(e){var r=t(e,s);return this.has(r)?o.warn("Model ".concat(r," is already in the collection"),n):(a[r]=n.push(e)-1,e.on("updated",c,this),e.on("destroyed",u,this),this.trigger("add",e),this.trigger("add:".concat(r),e)),this},this.remove=function(e,r){var i=t(e,s);n.splice(a[i],1);for(var o=a[i];o<n.length;++o)a[t(n[o],s)]=o;return delete a[i],e.off("updated",c,this),e.off("destroyed",u,this),this.trigger("remove",e,r),this.trigger("remove:".concat(i),e,r),this},this._triggerAddEvents=function(){this.where.apply(this,arguments).forEach((function(e){this.trigger("add",e),this.trigger("add:".concat(t(e,s)),e)}),this)},this.length=function(){return n.length}}},function(e,t,n){"use strict";var r=n(1)("deprecation");e.exports=function(e,t,n){var i=(n=void 0===n?{}:n).value,o=void 0===(u=n.name)?"".concat(t):u,a=void 0===(u=n.getWarning)?"":u,s=void 0===(u=n.setWarning)?"":u,c=void 0!==(u=n.canSet)&&u,u=n.warnOnSet,d=i,l=!1,f=!(void 0!==u&&u);Object.defineProperty(e,t,{get:function(){return l||(l=!0,r.warn("".concat(o," is deprecated, and will be removed in the future. ").concat(a).trim())),d},set:function(e){c&&(d=e),f||(f=!0,c?r.warn("".concat(o," is deprecated. ").concat(s).trim()):r.warn("".concat(o," is deprecated, and will be removed in the future. ").concat(s).trim()))}})}},function(e,t,n){"use strict";function r(e,t,n){switch(arguments.length){case 1:a(e)&&(n=e,e=t=void 0);break;case 2:a(t)&&(n=t,t=void 0)}if(n instanceof Error)for(var r=0,i=s.length;r<i;++r)this[s[r]]=n[s[r]];else if(a(n))for(var o in n)n.hasOwnProperty(o)&&(this[o]=n[o]);var u;this.fileName&&this.lineNumber&&this.columnNumber&&this.stack||(u=c(),!this.fileName&&u.fileName&&(this.fileName=u.fileName),!this.lineNumber&&u.lineNumber&&(this.lineNumber=u.lineNumber),!this.columnNumber&&u.columnNumber&&(this.columnNumber=u.columnNumber),!this.stack&&u.stack&&(this.stack=u.stack)),!this.message&&e&&(this.message=e),this.name&&"Error"!==this.name||!t||(this.name=t)}function i(e,t){return t.slice(2).map((function(e){var t={fileName:e.getFileName(),linenumber:e.getLineNumber(),columnNumber:e.getColumnNumber()};return e.getFunctionName()&&(t.functionName=e.getFunctionName()),e.getMethodName()&&(t.methodName=e.getMethodName()),e.getThis()&&(t.self=e.getThis()),t}))}var o=n(2),a=n(9),s=["description","fileName","lineNumber","message","name","number","stack"],c=(((e.exports=r).prototype=Object.create(Error.prototype)).valueOf=r.prototype.toString=function(){var e="";return this.fileName&&(e+=" ".concat(this.fileName)),this.lineNumber&&(e+=" ".concat(this.lineNumber),this.columnNumber&&(e+=":".concat(this.columnNumber))),"<".concat(this.name?"".concat(this.name," "):"").concat(this.message).concat(e,">")},function(){var e,t={};switch(o.name){case"Firefox":case"Safari":try{(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).call.js.is.explody()}catch(t){e=t}(n=(e.stack||"").split("\n")).shift(),n.shift(),t.stack=n,(n=/@(.+?):([0-9]+)(:([0-9]+))?$/.exec(n[0]))&&(t.fileName=n[1],t.lineNumber=parseInt(n[2],10),3<n.length&&(t.columnNumber=parseInt(n[4],10)));break;case"Chrome":case"Node":case"Opera":var n=Error.prepareStackTrace;Error.prepareStackTrace=i,e=new Error,t.stack=e.stack,Error.prepareStackTrace=n,n=t.stack[0],t.lineNumber=n.lineNumber,t.columnNumber=n.columnNumber,t.fileName=n.fileName,n.functionName&&(t.functionName=n.functionName),n.methodName&&(t.methodName=n.methodName),n.self&&(t.self=n.self);break;default:(e=new Error).stack&&(t.stack=e.stack.split("\n"))}return e.message&&(t.message=e.message),t})},function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(0<t?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){return(e=r.splitSections(e))&&e[0]},r.getMediaSections=function(e){return(e=r.splitSections(e)).shift(),e},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){for(var t=(0===e.indexOf("a=candidate:")?e.substring(12):e.substring(10)).split(" "),n={foundation:t[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[],n=(t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port),e.type);return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){e=e.substr(9).split(" ");var t={payloadType:parseInt(e.shift(),10)};return e=e[0].split("/"),t.name=e[0],t.clockRate=parseInt(e[1],10),t.channels=3===e.length?parseInt(e[2],10):1,t.numChannels=t.channels,t},r.writeRtpMap=function(e){var t=e.payloadType,n=(void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType),e.channels||e.numChannels||1);return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){return e=e.substr(9).split(" "),{id:parseInt(e[0],10),direction:0<e[0].indexOf("/")?e[0].split("/")[1]:"sendrecv",uri:e[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t,n="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length&&(t=[],Object.keys(e.parameters).forEach((function(n){e.parameters[n]?t.push(n+"="+e.parameters[n]):t.push(n)})),n+="a=fmtp:"+r+" "+t.join(";")+"\r\n"),n},r.parseRtcpFb=function(e){return{type:(e=e.substr(e.indexOf(" ")+1).split(" ")).shift(),parameter:e.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return-1<r?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){return{semantics:(e=e.substr(13).split(" ")).shift(),ssrcs:e.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){if(e=r.matchPrefix(e,"a=mid:")[0])return e.substr(6)},r.parseFingerprint=function(e){return{algorithm:(e=e.substr(14).split(" "))[0].toLowerCase(),value:e[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.parseCryptoLine=function(e){return e=e.substr(9).split(" "),{tag:parseInt(e[0],10),cryptoSuite:e[1],keyParams:e[2],sessionParams:e.slice(3)}},r.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===_typeof(e.keyParams)?r.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(e){return 0!==e.indexOf("inline:")?null:{keyMethod:"inline",keySalt:(e=e.substr(7).split("|"))[0],lifeTime:e[1],mkiValue:e[2]?e[2].split(":")[0]:void 0,mkiLength:e[2]?e[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},r.getCryptoParameters=function(e,t){return r.matchPrefix(e+t,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(e,t){var n=r.matchPrefix(e+t,"a=ice-ufrag:")[0];return e=r.matchPrefix(e+t,"a=ice-pwd:")[0],n&&e?{usernameFragment:n.substr(12),password:e.substr(10)}:null},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var o=n[i];if(s=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0]){var a=r.parseRtpMap(s),s=r.matchPrefix(e,"a=fmtp:"+o+" ");switch(a.parameters=s.length?r.parseFmtp(s[0]):{},a.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),t.codecs.push(a),a.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(a.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="",i=(n=(n=(n=(n+="m="+e+" ")+(0<t.codecs.length?"9":"0")+" UDP/TLS/RTP/SAVPF ")+t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n")+"c=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n=(n=(n+=r.writeRtpMap(e))+r.writeFmtp(e))+r.writeRtcpFb(e)})),0);return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),0<i&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n,i=[],o=r.parseRtpParameters(e),a=-1!==o.fecMechanisms.indexOf("RED"),s=-1!==o.fecMechanisms.indexOf("ULPFEC"),c=0<(n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))).length&&n[0].ssrc,u=(0<(n=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}))).length&&1<n[0].length&&n[0][0]===c&&(t=n[0][1]),o.codecs.forEach((function(e){"RTX"===e.name.toUpperCase()&&e.parameters.apt&&(e={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)},c&&t&&(e.rtx={ssrc:t}),i.push(e),a&&((e=JSON.parse(JSON.stringify(e))).fec={ssrc:c,mechanism:s?"red+ulpfec":"red"},i.push(e)))})),0===i.length&&c&&i.push({ssrc:c}),r.matchPrefix(e,"b="));return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,i.forEach((function(e){e.maxBitrate=u}))),i},r.parseRtcpParameters=function(e){var t={},n=((n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0])&&(t.cname=n.value,t.ssrc=n.ssrc),r.matchPrefix(e,"a=rtcp-rsize"));return t.reducedSize=0<n.length,t.compound=0===n.length,n=r.matchPrefix(e,"a=rtcp-mux"),t.mux=0<n.length,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");return 1===n.length?{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]}:0<(n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}))).length?{stream:(t=n[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n,i=r.parseMLine(e);return 0<(0<(n=r.matchPrefix(e,"a=max-message-size:")).length&&(t=parseInt(n[0].substr(19),10)),isNaN(t)&&(t=65536),n=r.matchPrefix(e,"a=sctp-port:")).length?{port:parseInt(n[0].substr(12),10),protocol:i.fmt,maxMessageSize:t}:0<r.matchPrefix(e,"a=sctpmap:").length?(n=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" "),{port:parseInt(n[0],10),protocol:n[1],maxMessageSize:t}):void 0},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){return t=void 0!==t?t:2,"v=0\r\no="+(n||"thisisadapterortc")+" "+(e=e||r.generateSessionId())+" "+t+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){return t=r.writeRtpDescription(e.kind,t),t=(t=(t+=r.writeIceParameters(e.iceGatherer.getLocalParameters()))+r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"))+"a=mid:"+e.mid+"\r\n",e.direction?t+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?t+="a=sendrecv\r\n":e.rtpSender?t+="a=sendonly\r\n":e.rtpReceiver?t+="a=recvonly\r\n":t+="a=inactive\r\n",e.rtpSender&&(t=t+"a="+(n="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n")+"a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+n,e.sendEncodingParameters[0].rtx&&(t=(t+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+n)+"a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")),t+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(t+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),t},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){return{kind:(e=r.splitLines(e)[0].substr(2).split(" "))[0],port:parseInt(e[1],10),protocol:e[2],fmt:e.slice(3).join(" ")}},r.parseOLine=function(e){return{username:(e=r.matchPrefix(e,"o=")[0].substr(2).split(" "))[0],sessionId:e[1],sessionVersion:parseInt(e[2],10),netType:e[3],addressType:e[4],address:e[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return-1===["Chrome","Safari","Edge","Opera"].indexOf(e.browserName)||"Edge"===e.browserName&&!e.isChromiumEdge||e.isScreenSharing||e.sessionInfo.p2pEnabled||!e.constraints.video&&!e.isCustomVideoTrack?1:640<e.videoDimensions.width&&480<e.videoDimensions.height?3:2}},function(e,t,n){"use strict";var r=n(3)(n(18)),i=n(48);e.exports=function(){function e(e,t){var n=void 0===(t=(void 0===t?{}:t).requestAnimationFrame)?(n=window).requestAnimationFrame.bind(n):t;(0,r.default)(this,"_lastCalled",i()),(0,r.default)(this,"_audioLevel",void 0),(0,r.default)(this,"_running",!1),this._requestAnimationFrame=n,this._getAudioLevel=e,this._startLoop()}var t=e.prototype;return t._startLoop=function(){this._running||(this._running=!0,this._requestAnimationFrame(this._loop.bind(this)))},t._loop=function(){var e=this;this._getAudioLevel((function(t,n){var r=null;if(!t){for(var o=0;o<n.length;o+=1){var a,s=n[o],c=null;void 0!==s.audioOutputLevel?(a=parseFloat(s.audioOutputLevel)/32768,isNaN(a)||(c=a)):void 0!==s.audioLevel&&(c=s.audioLevel),null!==c&&(null===r||r<c)&&(r=c)}e._audioLevel=r,e._running&&i()-e._lastCalled<1e4?e._requestAnimationFrame(e._loop.bind(e)):e._running=!1}}))},t.destroy=function(){this._running=!1},t.sample=function(e){if("function"==typeof e)throw new Error("sample no longer takes a callback");return this._startLoop(),this._lastCalled=i(),this._audioLevel},e}()},function(e,t,n){"use strict";var r=n(147),i=n(562),o=n(264);function a(e,t,n){return!(!e.publish&&t)&&("boolean"==typeof e.source?e.source:n?{mandatory:{sourceId:e.source}}:o(e.source)?{}:{deviceId:{exact:e.source}})}function s(e){var t=a(e.audio,e.enableRenegotiation,e.usingOptionalMandatoryStyle);if(!1===t)return!1;function n(e){"object"===_typeof(t)&&(i?(r(t,{optional:[]}),t.optional.push(e)):r(t,e))}var i=e.usingOptionalMandatoryStyle,o=e.enableStereo,s=e.echoCancellation,c=e.noiseSuppression,u=e.autoGainControl,d=e.disableAudioProcessing;return!o&&!d&&s&&c&&u||!0!==t||(t={}),o&&n({channelCount:2}),["echoCancellation","autoGainControl","noiseSuppression"].forEach((function(t){n(_defineProperty3({},t,!d&&e[t]))})),t}function c(e){return{audio:s(e),video:function(e){var t=a(e.video,e.enableRenegotiation,e.usingOptionalMandatoryStyle);if(!1===t)return!1;var n,i=e.videoDimensions,o=e.frameRate,s=e.maxResolution,c=e.facingMode;return e=e.usingOptionalMandatoryStyle,(i||o||s||c)&&!0===t&&(t={}),i&&(n=i.width,i=i.height,e?(r(t,{optional:[]}),t.optional.push({minWidth:n},{maxWidth:n},{minHeight:i},{maxHeight:i})):r(t,{width:{ideal:n},height:{ideal:i}})),o&&(e?(r(t,{optional:[]}),t.optional.push({minFrameRate:o},{maxFrameRate:o})):r(t,{frameRate:{ideal:o}})),s&&r(t,e?{mandatory:{maxWidth:s.width,maxHeight:s.height}}:{width:{max:s.width},height:{max:s.height}}),c&&(e?(r(t,{optional:[]}),t.optional.push({facingMode:c})):r(t,{facingMode:{ideal:c}})),t}(e)}}e.exports=function(e){return{constraints:c(e=i(e)),publishAudio:e.audio.publish,publishVideo:e.video.publish,frameRate:e.frameRate,videoDimensions:e.videoDimensions,audioDeviceId:"string"==typeof e.audio.source?e.audio.source:void 0,videoDeviceId:"string"==typeof e.video.source?e.video.source:void 0}}},function(e,t,n){var r=n(63),i=n(51);e.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){"use strict";var r=(n=n(2)).name,i=n.version;n=n.isChromiumEdge,e.exports=n||"Chrome"===r&&72<=i||"Firefox"===r&&66<=i||"Opera"===r&&60<=i||"Safari"===r},function(e,t,n){var r=n(58),i=n(259);e.exports=function(e){return i(r(e).toLowerCase())}},function(e,t,n){n=n(567)("toUpperCase"),e.exports=n},function(e,t){e.exports=function(e,t,n){for(var r=-1,i=e.length,o=((n=i<n?i:n)<0&&(n+=i),i=n<(t=t<0?i<-t?0:i+t:t)?0:n-t>>>0,t>>>=0,Array(i));++r<i;)o[r]=e[r+t];return o}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t,n){var r=n(569),i=n(261),o=n(570);e.exports=function(e){return(i(e)?o:r)(e)}},function(e,t,n){"use strict";n=n(2),e.exports=Boolean(n.isChrome&&74<=n.version||n.isEdge&&79<=n.version)},function(e,t,n){"use strict";var r=n(571),i=n(265),o=n(2);e.exports=function(e){return o.isElectron?"screen"===e||i(e):-1<r.indexOf(e)}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e){return!!r.isElectron&&e instanceof MediaStreamTrack&&"Screen"===e.label}},function(e,t,n){var r=n(99);n=n(576)(r),e.exports=n},function(e,t,n){"use strict";e.exports=15e3},function(e,t,n){"use strict";e.exports=function(e,t){return void 0===t&&(t=!1),void 0===e?t:"true"===e||!0===e}},function(e,t,n){"use strict";var r=n(2);e.exports=function(){return!r.isNode&&!r.isElectron&&((r.isChrome||r.isOpera||r.isChromiumEdge)&&74<=r.version||r.isFirefox&&68<=r.version||r.isSafari&&11<=r.version)}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){var r=n(33),i=n(77),o=n(592),a=n(57),s=n(39),c=n(595),u=n(137),d=n(184);n=u((function(e,t){var n={};if(null==e)return n;for(var u=!1,l=(t=r(t,(function(t){return t=a(t,e),u=u||1<t.length,t})),s(e,d(e),n),u&&(n=i(n,7,c)),t.length);l--;)o(n,t[l]);return n})),e.exports=n},function(e,t,n){var r=n(205),i=n(34),o=n(96),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;return s?((n=null==n?0:o(n))<0&&(n=a(s+n,0)),r(e,i(t,3),n)):-1}},function(e,t,n){var r=n(597);e.exports=function(e){return e&&e.length?r(e):[]}},function(e,t,n){"use strict";var r=n(605),i=n(277),o=n(102)();e.exports=function(e,t){i(e,(function(e,n){var i=[];o?"function"==typeof n.values?i=r(n.values()):"function"!=typeof n.forEach?i=Object.keys(n).map((function(e){return n[e]})):n.forEach((function(e){i.push(e)})):n.result().forEach((function(e){var t={};e.names().forEach((function(n){t[n]=e.stat(n)})),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,i.push(t)})),t(null,i)}))}},function(e,t,n){var r=n(29),i=n(10),o=n(16);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},function(e,t,n){var r=n(607),i=n(30);e.exports=function(e){return null==e?[]:r(e,i(e))}},function(e,t,n){"use strict";function r(e,t){e.getStats(null).then((function(e){return t(null,e)})).catch(t)}function i(e,t){e.getStats((function(e){t(null,e)}),t)}var o=n(102)();e.exports=function(e,t){(o?r:i)(e,t)}},function(e,t,n){"use strict";var r=n(3),i=(t.__esModule=!0,t.default=void 0,r(n(156))),o=r(n(59)),a=r(n(18)),s=n(41),c=r(n(36)),u=r(n(617)),d=r(n(619)),l=r(n(48)),f=(0,r(n(1)).default)("QoS");(r=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,(0,a.default)((0,i.default)(t),"_peerConnection",void 0),(0,a.default)((0,i.default)(t),"_isPublisher",void 0),(0,a.default)((0,i.default)(t),"timeoutId",void 0),(0,a.default)((0,i.default)(t),"_creationTime",(0,l.default)()),(0,a.default)((0,i.default)(t),"offerMessagesReceived",0),(0,a.default)((0,i.default)(t),"prevStats",{timeStamp:(0,l.default)()}),(0,a.default)((0,i.default)(t),"changeCounters",{videoCodec:new d.default,audioCodec:new d.default}),t}(0,o.default)(t,e);var n=t.prototype;return n.startCollecting=function(e,n){var r,i=this;e&&e.getStats&&(this._isPublisher=n,n=Boolean(this._peerConnection),this._peerConnection=e,n||(r=function e(n){var r={timeStamp:r=(0,l.default)(),duration:Math.round((r-i._creationTime)/1e3),period:Math.round((r-i.prevStats.timeStamp)/1e3)};(0,u.default)(i._peerConnection,i.prevStats,r,i._isPublisher,(function(r,o){r?f.error("Failed to Parse QOS Stats:",r):(i.handleParsedStats(o),clearTimeout(i.timeoutId),i.timeoutId=setTimeout((function(){return e(t.INTERVAL)}),n))}))},this.timeoutId=setTimeout((function(){return r(t.INTERVAL-t.INITIAL_INTERVAL)}),t.INITIAL_INTERVAL)))},n.stopCollecting=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this._peerConnection=null},n.handleOfferMessageReceived=function(){this.offerMessagesReceived+=1},n.handleParsedStats=function(e){var t,n,r=this,i=(Object.keys(this.changeCounters).forEach((function(t){r.changeCounters[t].onValue(e[t]),e["".concat(t,"ChangeCount")]=r.changeCounters[t].changeCount})),e.offerMessagesReceived=this.offerMessagesReceived,(0,c.default)(e));["audioSentBytes","audioSentPackets","audioSentPacketsLost","videoSentBytes","videoSentPackets","videoSentPacketsLost","audioRecvBytes","audioRecvPackets","audioRecvPacketsLost","videoRecvBytes","videoRecvPackets","videoRecvPacketsLost"].forEach((function(t){i[t]=r.prevStats&&r.prevStats[t]?e[t]-r.prevStats[t]:e[t]})),this.prevStats&&this.prevStats.videoFramesReceived&&(t=e.videoFramesReceived-this.prevStats.videoFramesReceived,n=e.period,i.videoFrameRateReceived=Math.round(t/n)),this.prevStats=e,delete i.framesDecoded,delete i.framesEncoded,this.emit("stats",i)},t}(s.EventEmitter)).INITIAL_INTERVAL=1e3,r.INTERVAL=3e4,t.default=r},function(e,t,n){"use strict";e.exports=function(e){switch(e>>24){case 0:return"TURN/TLS";case 1:return"TURN/TCP";case 2:return"TURN/UDP";default:return""}}},function(e,t,n){"use strict";var r=n(19),i=n(159).default,o=n(4),a=n(11);e.exports=function(e){var t,n=void 0===(n=(e=void 0===e?{}:e).haveGetDisplayMedia)?i:n,s=void 0===(t=e.global)?void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global:t,c=void 0===(t=e.Errors)?o:t,u=void 0===(t=e.otError)?a():t,d=!n&&!!s.navigator.webkitGetUserMedia&&!s.navigator.userAgent.match(/android/i)&&void 0!==s.chrome;return{isSupportedInThisBrowser:d,autoRegisters:!1,extensionRequired:!0,getConstraintsShowsPermissionUI:!0,sources:{screen:!0,application:!1,window:!0,browser:!0},register:function(e,t){return 2===t?this.registerVersion2(e):this.registerVersion1(e)},registerVersion1:function(e){if(!e)throw new Error("initChromeScreenSharingExtensionHelper: extensionID is required.");function t(e,t){return(t={payload:t,from:"jsapi"})[f]=e,t}function n(e,t){var n,i=r();return a[i]=function(){clearTimeout(n),n=null,e.apply(void 0,arguments)},t&&(n=setTimeout((function(){delete a[i],e(u(c.TIMEOUT,new Error("Timeout waiting for response to screensharing request.")))}),t)),i}function i(e){if(!e)throw new Error("isAvailable: callback is required.");var r;o?void 0!==l?setTimeout(e.bind(null,l)):(r=t("isExtensionInstalled",{requestId:r=n((function(t){e(l=!0!==l?"extensionLoaded"===t:l)}),2e3)}),s.postMessage(r,"*")):setTimeout(e.bind(null,!1))}var o=d,a={},l=void 0,f="com.tokbox.screenSharing.".concat(e);return s.addEventListener("message",(function(e){var t,n;e.origin===s.location.origin&&null!=e.data&&"object"===_typeof(e.data)&&"extension"===e.data.from&&(t=e.data[f],(e=e.data.payload)&&e.requestId&&(n=a[e.requestId],delete a[e.requestId],n&&n(t,e)),"extensionLoaded"===t&&(l=!0))})),{extensionAPIVersion:1,extensionID:e,isInstalled:i,getConstraints:function(e,r,o){if(!o)throw new Error("getSourceId: callback is required");i((function(i){if(!i)return o(u(c.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Extension is not installed")));i=n((function(e,t){"object"===_typeof(e)&&e.name&&e.stack?o(e):"permissionDenied"===e?o(u(c.USER_MEDIA_ACCESS_DENIED,new Error("User denied access to screensharing"))):(r.video||(r.video={}),r.video.mandatory||(r.video.mandatory={}),r.video.mandatory.chromeMediaSource="desktop",r.video.mandatory.chromeMediaSourceId=t.sourceId,o(void 0,r))})),s.postMessage(t("getSourceId",{requestId:i,source:e}),"*")}))}}},registerVersion2:function(e){function t(t){if(!t)throw new Error("isAvailable: callback is required.");n?s.chrome.runtime.sendMessage(e,{type:"isInstalled"},null,(function(e){setTimeout(t.bind(null,!!e))})):setTimeout(t.bind(null,!1))}var n=d&&void 0!==s.chrome.runtime;return{extensionAPIVersion:2,extensionID:e,isInstalled:t,getConstraints:function(n,r,i){if(!i)throw new Error("getSourceId: callback is required");t((function(t){if(!t)return i(u(c.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Extension is not installed")));s.chrome.runtime.sendMessage(e,{type:"getSourceId",source:n},null,(function(e){"permissionDenied"===e.error?i(u(c.USER_MEDIA_ACCESS_DENIED,new Error("User denied access to screensharing"))):e.error?i(new Error("UnexpectError: ".concat(e.error))):(r.video||(r.video={}),r.video.mandatory||(r.video.mandatory={}),r.video.mandatory.chromeMediaSource="desktop",r.video.mandatory.chromeMediaSourceId=e.sourceId,i(void 0,r))}))}))}}}}}},function(e,t,n){"use strict";(function(t){var r=n(154),i=n(103);e.exports=function(e){var o=(e=void 0===e?{}:e).Archiving||n(623),a=e.AudioLevelMeter||n(282),s=e.AudioLevelTransformer||n(143),c=e.BackingBar||n(283),u=e.Chrome||n(144),d=e.MuteButton||n(284)(),l=e.NamePanel||n(285),f=e.StylableComponent||n(151),p=e.logging||n(1)("createChromeMixin");return function(e,n){function h(t){return!1===t?"off":!1===(t=e.getStyle("buttonDisplayMode"))?"on":t}function v(e,t){I.then((function(){switch(e){case"nameDisplayMode":g.name.setDisplayMode(t),g.backingBar.setNameMode(t);break;case"showArchiveStatus":T("showArchiveStatus","styleChange",{mode:t?"on":"off"}),g.archive.setShowArchiveStatus(Boolean(t));break;case"archiveStatusDisplayMode":g.archive.setShowArchiveStatus("off"!==t);break;case"buttonDisplayMode":g.muteButton.setDisplayMode(t),g.backingBar.setMuteMode(t);break;case"audioLevelDisplayMode":g.audioLevel.setDisplayMode(t);break;case"backgroundImageURI":b.setBackgroundImageURI(t)}}))}var m,g,b,y=(n=void 0===n?{}:n).name,_=n.publishAudio,w=n.publishVideo,E=n.audioSource,S=n.showControls,C=n.shouldAllowAudio,T=n.logAnalyticsEvent,O={},x=r(),I=new t((function(t,n){O.init=function(n){e.getStyle("showArchiveStatus")||T("showArchiveStatus","createChrome",{mode:"off"});var r={backingBar:new c({nameMode:y?e.getStyle("nameDisplayMode"):"off",muteMode:h(e.getStyle("buttonDisplayMode"))}),name:new l({name:y,mode:e.getStyle("nameDisplayMode")}),archive:new o({show:Boolean(e.getStyle("showArchiveStatus"))&&"off"!==e.getStyle("archiveStatusDisplayMode"),archiving:!1}),muteButton:new d({muted:!1===_,mode:h.call(null,e.getStyle("buttonDisplayMode"))})},f=(m=new a({mode:e.getStyle("audioLevelDisplayMode")}),new s),p=new i((function(){var t=_?f.transform(e.loudness):0;m.setValue(t)}));m.watchVisibilityChanged((function(e){e?p.start():p.stop()})),m.audioOnly(!w&&_),r.audioLevel=m,n&&n.domElement&&(g=new u({parent:(b=n).domElement}).set(r).on({muted:function(){return e.publishAudio(!1)},unmuted:function(){return e.publishAudio(!0)}}),null!==E&&!1!==E||O.removeAudioTrack(),t())},O.reset=function(){n(new Error("Chrome still being created")),g&&(g.destroy(),g=null)},O.destroy=function(){O.reset(),x.releaseAll(),I=null}}));return I.catch((function(e){e&&"Chrome still being created"===e.message||p.error("createChromeMixin failed to setup UI",e)})),O.setAudioOnly=function(e){m&&m.audioOnly(e)},O.setArchivingStatus=function(e){g&&g.archive.setArchiving(e)},O.setMuted=function(e){g&&g.muteButton&&g.muteButton.muted(e)},O.removeAudioTrack=function(){g&&g.muteButton&&g.muteButton.remove()},O.addAudioTrack=function(){g&&g.muteButton&&g.muteButton.add()},f(e,{showArchiveStatus:!0,nameDisplayMode:"auto",buttonDisplayMode:"auto",audioLevelDisplayMode:C?"auto":"off",archiveStatusDisplayMode:"auto",backgroundImageURI:null},S,(function(e){T("SetStyle","Publisher",e,null,.1)})),e.on("styleValueChanged",v),x.add((function(){return e.off("styleValueChanged",v)})),O}}}).call(this,n(0))},function(e,t,n){"use strict";(function(t){var r=n(104),i=n(35),o=n(5),a=n(41);e.exports=function(e){var n,s,c,u=this,d=new a,l=!0,f=!1,p="auto",h=e.maxValue||1,v=e.minValue||0;function m(){var e=(f&&"auto"===p||"on"===p)&&l;c!==e&&(c=e,d.emit("visibilityChanged",e))}r(u,{audioOnly:{get:function(){return f},set:function(e){f=e,m()}}}),u.setValue=function(e){e=(e-v)/(h-v),s.style.transform="scale(".concat(Math.sqrt(e),")")},u.watchVisibilityChanged=function(e){return d.on("visibilityChanged",e),t.resolve().then((function(){e(c)})),function(){d.removeListener("visibilityChanged",e)}},e={mode:e?e.mode:"auto",nodeName:"div",htmlAttributes:{className:"OT_audio-level-meter"},onCreate:function(){s=o.createElement("div",{className:"OT_audio-level-meter__value"},""),n=o.createElement("div",{className:"OT_audio-level-meter__audio-only-img"},"");var e=u.domElement;e.appendChild(n),e.appendChild(s),u.watchVisibilityChanged((function(e){e?o.removeClass(u.domElement,"OT_hide-forced"):o.addClass(u.domElement,"OT_hide-forced")}))},onDestroy:function(){d.removeAllListeners("visibilityChanged")}},i(this,e),u.setDisplayMode=function(e){p=e,m()},u.getDisplayMode=function(){return p},u.showAfterLoading=function(){l=!0,m()},u.hideWhileLoading=function(){l=!1,m()},m()}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(35);e.exports=function(e){var t=e.nameMode,n=e.muteMode;function i(){return"on"===t||"on"===n?"on":"mini"===t||"mini"===n?"mini":"mini-auto"===t||"mini-auto"===n?"mini-auto":"auto"===t||"auto"===n?"auto":"off"}r(this,{mode:i(),nodeName:"div",htmlContent:"",htmlAttributes:{className:"OT_bar OT_edge-bar-item"}}),this.setNameMode=function(e){t=e,this.setDisplayMode(i())},this.setMuteMode=function(e){n=e,this.setDisplayMode(i())}}},function(e,t,n){"use strict";var r=n(5),i=n(35),o=n(104);e.exports=function(e){var t=(e=void 0===e?{}:e).OTHelpers||r,n=e.Widget||i;return function(e){var r,i=this,a=e.muted||!1,s=function(){a?t.addClass(i.domElement,"OT_active"):t.removeClass(i.domElement,"OT_active ")},c=function(){return a=!a,s(),a?i.parent.trigger("muted",i):i.parent.trigger("unmuted",i),!1},u=(o(this,{muted:{get:function(){return a},set:function(e){a=e,s()}}}),a?"OT_edge-bar-item OT_mute OT_active":"OT_edge-bar-item OT_mute");n(this,{mode:e.mode,nodeName:"button",htmlContent:"Mute",htmlAttributes:{className:u,type:"button"},onCreate:function(e){t.on(e,"click",c)},onDestroy:function(e){t.off(e,"click",c)}}),this.remove=function(){i.domElement&&i.domElement.parentNode&&(r=i.domElement.parentNode,i.domElement.parentNode.removeChild(i.domElement))},this.add=function(){r&&i.domElement&&!i.domElement.parentNode&&r.appendChild(i.domElement)}}}},function(e,t,n){"use strict";function r(e){var t=document.createElement("div");return t.textContent=e,t.innerHTML}var i=n(35);e.exports=function(e){var t=e.name;t&&""!==t.trim().length||(t=null,e.mode="off"),this.setName=function(e){t||this.setDisplayMode("auto"),t=r(e),this.domElement.innerHTML=t}.bind(this),t=r(t),i(this,{mode:e.mode,nodeName:"h1",htmlContent:t,htmlAttributes:{className:"OT_name OT_edge-bar-item"}})}},function(e,t,n){"use strict";e.exports=function(e){var t=(e=void 0===e?{}:e).global||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global);return function(){var e;if(t.navigator.mediaDevices)return(e=t.navigator.mediaDevices).enumerateDevices&&e.enumerateDevices.bind(e)}}},function(e,t,n){"use strict";var r=n(2);n=n(159).default,e.exports={isSupportedInThisBrowser:!r.isLegacyEdge&&!r.isElectron&&n&&!r.isAndroid,autoRegisters:!0,extensionRequired:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!1,window:"Safari"!==r.name,browser:"Safari"!==r.name},register:function(){return{isInstalled:function(e){e(void 0)},getConstraints:function(e,t,n){n(void 0,{video:t.video,audio:t.audio})}}}}},function(e,t,n){"use strict";t.isMediaStreamTrack=function(e){return e&&"object"===_typeof(e)&&"string"==typeof e.kind&&"function"==typeof e.stop&&"boolean"==typeof e.enabled}},function(e,t,n){"use strict";n.r(t),function(e){var n=function(t,n,r,i){return new(r=r||e)((function(e,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(a,s)}c((i=i.apply(t,n||[])).next())}))},r=function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=r[2&c[0]?"return":c[0]?"throw":"next"])&&!(i=i.call(r,c[1])).done)return i;switch(r=0,(c=i?[0,i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(s){c=[6,s],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}};t.default=function(t,i,o){return void 0===o&&(o=10),function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return n(this,void 0,void 0,(function(){var n,s,c;return r(this,(function(u){switch(u.label){case 0:n=0,s=function(){var s,c,u;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,6]),s={},[4,t.apply(void 0,a)];case 1:return[2,(s.value=r.sent(),s)];case 2:if(c=r.sent(),!1===(u=i(c,n))||null==u||o<=n)throw c;return"number"!=typeof u?[3,4]:[4,new e((function(e){return("undefined"!=typeof window||void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).setTimeout(e,u)}))];case 3:return r.sent(),[3,5];case 4:if(!0!==u)throw new Error("onFailure must return boolean, or delay in ms");r.label=5;case 5:return[3,6];case 6:return[2]}}))},u.label=1;case 1:return(n+=1)?[5,s()]:[3,3];case 2:return"object"===_typeof(c=u.sent())?[2,c.value]:[3,1];case 3:return[2]}}))}))}}}.call(this,n(0))},function(e,t,n){"use strict";function r(e){return a.includes(e)}function i(e){return null==e||null==(e=e.getVideoTracks())?void 0:e[0]}var o=n(1)("videoContentHint"),a=["","text","motion","detail"];e.exports={isValidVideoContentHint:r,setVideoContentHint:function(e,t){r(t)?(e=i(e))?void 0===e.contentHint?o.warn("contentHint not supported by this browser"):e.contentHint=t:o.warn("Tried to set contentHint but no video track is present"):o.warn('Invalid content hint. Valid content hints are "text", "detail", "motion", or ""')},getVideoContentHint:function(e){return(null==(e=i(e))?void 0:e.contentHint)||""}}},function(e,t,n){"use strict";var r=n(104);e.exports=function(){return function(e,t){var n;r(this,{muted:{get:function(){return n},set:function(t){if(n!==t){n=t;for(var r=e.getAudioTracks(),i=0,o=r.length;i<o;++i)r[i].enabled=!n}}}}),void 0!==t?this.muted(!0===t):e.getAudioTracks().length?this.muted(!e.getAudioTracks()[0].enabled):this.muted(!1)}}},function(e,t,n){"use strict";e.exports=function(e){var t=(e=void 0===e?{}:e).Errors||n(4),r=e.otError||n(11)(),i={};return(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).MediaError&&(i[(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).MediaError.MEDIA_ERR_ABORTED]={name:t.MEDIA_ERR_ABORTED,message:"The fetching process for the media resource was aborted by the user agent at the user's request."},i[(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).MediaError.MEDIA_ERR_NETWORK]={name:t.MEDIA_ERR_NETWORK,message:"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable."},i[(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).MediaError.MEDIA_ERR_DECODE]={name:t.MEDIA_ERR_DECODE,message:"An error of some description occurred while decoding the media resource, after the resource was established to be usable."},i[(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED]={name:t.MEDIA_ERR_SRC_NOT_SUPPORTED,message:"The media resource indicated by the src attribute was not suitable."}),function(e){var t=i[e.code];return t?r(t.name,new Error("There was an unexpected problem with the Video Stream: ".concat(t.message))):new Error("An unknown error occurred".concat(e.message?": ".concat(e.message):"."))}}},function(e,t,n){"use strict";(function(t){var r=n(3),i=r(n(25)),o=r(n(12)),a=r(n(13)),s=r(n(18)),c=n(6),u=n(62),d=n(634),l=n(635),f=n(636),p=n(106),h=n(2),v=n(23)().hasAudioOutputApiSupport,m=n(294),g=n(105).getCurrentAudioOutputDeviceId;function b(e,t){var n=document.createElement("video");return l(n),n.autoplay=!0,n.playsinline=!0,n.innerHTML=e,n.setAttribute("autoplay",""),n.setAttribute("playsinline",""),!0===t&&(n.muted="true"),n}function y(){var e=b("");return e.setAttribute("style","display:none"),e}e.exports=function(e){var r=(e=void 0===e?{}:e).audioContext||n(158)(),l=e.canBeOrientatedMixin||n(637),_=e.document||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).document,w=e.listenForTracksEnded||n(638)(),E=e.logging||n(1),S=e.OTHelpers||n(5),C=e.videoElementErrorMap||n(292)(),T=e.WebaudioAudioLevelSampler||n(145),O=e.global||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global),x=1;return function(){function e(e,t){var n=this,r=this,i=void 0===(i=(d=void 0===(d=e._inject)?{}:d).createVideoElement)?b:i,d=void 0===(d=d.createAudioOnlyVideoElement)?y:d,f=e.muted,p=e.fallbackText,v=(e=e.widgetType,(0,s.default)(this,"_domElement",void 0),(0,s.default)(this,"_domAudioOnlyVideoElement",void 0),(0,s.default)(this,"_blockedVolume",void 0),(0,s.default)(this,"_mediaStoppedListener",void 0),(0,s.default)(this,"_audioLevelSampler",void 0),(0,s.default)(this,"_playInterrupts",0),(0,s.default)(this,"_isVideoLoadedMetaData",!1),(0,s.default)(this,"_audioOnlyVideoElementWatcher",void 0),this.logging=E("NativeVideoElementWrapper:".concat(x)),x+=1,c(this),this._defaultAudioVolume=t,this._widgetType=e,!1);this._domElement=i(p,f),this.trigger("videoElementCreated",this._domElement),this._domElementEvents=u(this._domElement),this._domElementEvents.on("loadstart",(function(){return n._onDomElementLoadStart()})),this._domElementEvents.on("timeupdate",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.trigger.apply(r,["timeupdate"].concat(t))})),this._domElementEvents.on("loadedmetadata",(0,a.default)(o.default.mark((function e(){var t,n,i,a,s=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r._isVideoLoadedMetaData=!0,t=s.length,n=new Array(t),i=0;i<t;i++)n[i]=s[i];if(r.trigger.apply(r,["loadedmetadata"].concat(_toConsumableArray(n))),!r._domAudioOnlyVideoElement){e.next=10;break}if(a=r._domAudioOnlyVideoElement.srcObject,r._removeAudioOnlyVideoElement(),a)return e.next=9,m();e.next=10;break;case 9:r.play();case 10:case"end":return e.stop()}}),e)})))),this._domElementEvents.on("error",(function(e){n.trigger("error",C(e.target.error))}),!1),this._domElementEvents.on("pause",(function(){v||(n.logging.warn("Video element paused, auto-resuming. If you intended to do this, use publishVideo(false) or subscribeToVideo(false) instead."),v=!0),n.play()})),this.on("destroyed",(function(){n._domElementEvents.removeAll(),n._domAudioOnlyVideoElementEvents&&n._domAudioOnlyVideoElementEvents.removeAll()})),l(this,(function(){return n._domElement})),"Safari"===h.name&&"subscriber"===this._widgetType&&(this._domAudioOnlyVideoElement=d(),this._bindAudioOnlyVideoElementEvents())}var n=e.prototype;return n._onDomElementLoadStart=function(){var e=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("subscriber"===this._widgetType&&v())return e.next=3,this._setActiveAudioOutputDevice();e.next=3;break;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._setActiveAudioOutputDevice=function(){var e=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(t=g())||"default"===t)return e.abrupt("return");e.next=3;break;case 3:return e.next=5,this.setSinkId(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._rebindSrcObject=function(){this._domElement&&(this._domElement.srcObject=this._domElement.srcObject)},n._pauseAndPlay=function(){this._domElement&&(this._domElement.pause(),this._domElement.play())},n._startAudioOnlyVideoElementWatcher=function(){var e=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(var n=this;;)switch(e.prev=e.next){case 0:return t=h.isiOS,this._audioOnlyVideoElementWatcher=setInterval((function(){n._domAudioOnlyVideoElement&&n._domAudioOnlyVideoElement.paused&&(n._domAudioOnlyVideoElement.srcObject=n._domAudioOnlyVideoElement.srcObject,t&&n._domAudioOnlyVideoElement.play())}),100),e.next=5,p(1e3);case 5:clearInterval(this._audioOnlyVideoElementWatcher),this._audioOnlyVideoElementWatcher=null;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._removeAudioOnlyVideoElement=function(){var e=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._domAudioOnlyVideoElement.srcObject=null,this._domAudioOnlyVideoElement.parentNode.removeChild(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll(),this._domAudioOnlyVideoElement=null;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.bindAudioTrackOnly=function(){var e=(0,a.default)(o.default.mark((function e(){var t,n,r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._stream.getVideoTracks(),t=this._stream.getAudioTracks(),n=void 0===(n=n[0])?{}:n,r=void 0===(r=t[0])?{}:r,e.next=6,m();case 6:i=!n.enabled&&r.enabled,!this._isVideoLoadedMetaData&&i&&this._domAudioOnlyVideoElement&&(this._domAudioOnlyVideoElement.srcObject=new O.MediaStream(t),this._startAudioOnlyVideoElementWatcher());case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._bindAudioOnlyVideoElementEvents=function(){var e=this,t=this;this._domAudioOnlyVideoElementEvents=u(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElementEvents.on("pause",(function(){return e.play()})),this._domAudioOnlyVideoElementEvents.on("timeupdate",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.trigger.apply(t,["timeupdate"].concat(n))})),this._domAudioOnlyVideoElementEvents.on("loadedmetadata",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.trigger.apply(t,["loadedmetadata"].concat(n))}))},n.whenTimeIncrements=function(e,t){var n=this;this.once("timeupdate",(function(){e.call(t,n)}))},n.domElement=function(){return this._domElement},n.videoWidth=function(){return this._domElement?Number(this._domElement["video".concat(this.isRotated()?"Height":"Width")]):0},n.videoHeight=function(){return this._domElement?Number(this._domElement["video".concat(this.isRotated()?"Width":"Height")]):0},n.aspectRatio=function(){return this.videoWidth()/this.videoHeight()},n.imgData=function(){var e=S.createElement("canvas",{width:this.videoWidth(),height:this.videoHeight(),style:{display:"none"}}),t=(_.body.appendChild(e),null);try{e.getContext("2d").drawImage(this._domElement,0,0,e.width,e.height),t=e.toDataURL("image/png")}catch(e){}return S.removeElement(e),null===t||"data:,"===t?(this.logging.warn("Cannot get image data yet"),null):t.replace("data:image/png;base64,","").trim()},n.appendTo=function(e){return e.appendChild(this._domElement),this._domAudioOnlyVideoElement&&e.appendChild(this._domAudioOnlyVideoElement),this},n.isAudioBlocked=function(){return void 0!==this._blockedVolume},n.unblockAudio=function(){var e=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAudioBlocked()){e.next=3;break}return this.logging.warn("Unexpected call to unblockAudio() without blocked audio"),e.abrupt("return");case 3:return t=this._blockedVolume,this._blockedVolume=void 0,this.setAudioVolume(t),e.prev=6,e.next=9,this.play();case 9:e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(6),this._blockedVolume=t,this._domElement.muted=!0,e.t0;case 16:this.trigger("audioUnblocked");case 17:case"end":return e.stop()}}),e,this,[[6,11]])})));return function(){return e.apply(this,arguments)}}(),n.rebind=function(){var e=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._domElement){e.next=2;break}throw new Error("Can't rebind because _domElement no longer exists");case 2:this._playInterrupts++,this._domElement.srcObject=this._domElement.srcObject,this._hasAudioOnlyVideoElement()&&(this._domAudioOnlyVideoElement.srcObject=this._domAudioOnlyVideoElement.srcObject);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._createAudioLevelSampler=function(){if(this._removeAudioLevelSampler(),0<this._stream.getAudioTracks().length){try{this._audioContext=r()}catch(e){this.logging.warn("Failed to get AudioContext(), audio level visualisation will not work",e)}this._audioContext&&(this._audioLevelSampler=new T(this._audioContext),this._audioLevelSampler.webRTCStream(this._stream))}},n._removeAudioLevelSampler=function(){this._audioContext&&(delete this._audioContext,delete this._audioLevelSampler)},n._toggleVideoTracks=function(){var e=(0,a.default)(o.default.mark((function e(){var t,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1<(t=this._domElement.srcObject.getTracks().filter((function(e){return e.enabled}))).length)return(n=t.filter((function(e){return"video"===e.kind}))).forEach((function(e){e.enabled=!1})),e.next=7,m();e.next=8;break;case 7:n.forEach((function(e){e.enabled=!0}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._hasAudioOnlyVideoElement=function(){return this._domAudioOnlyVideoElement&&this._domAudioOnlyVideoElement.srcObject},n.play=function(){var e=(0,a.default)(o.default.mark((function e(){var t,n,r,i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._playInterrupts,r="Safari"===h.name,n=this._hasAudioOnlyVideoElement()?this._domAudioOnlyVideoElement:this._domElement,r)return e.next=6,m();e.next=6;break;case 6:if(!h.isiOS||!h.isSafari){e.next=16;break}if("publisher"!==this._widgetType){e.next=15;break}if(r=14<=h.iOSVersion&&h.iOSVersion<=14.2,a=void 0===(a=(a=this._stream.getVideoTracks())[0])?{}:a,i=void 0===(i=(i=this._stream.getAudioTracks())[0])?{}:i,r&&!f(n)&&a.enabled)return e.abrupt("return");e.next=13;break;case 13:if(i.muted)return e.abrupt("return");e.next=15;break;case 15:this._toggleVideoTracks();case 16:return e.prev=16,e.next=19,n.play();case 19:return e.abrupt("return");case 22:if(e.prev=22,e.t0=e.catch(16),"AbortError"===(a=e.t0||{}).name&&this._playInterrupts++,this._playInterrupts>t)return e.next=30,this.play();e.next=31;break;case 30:return e.abrupt("return");case 31:throw e.t0;case 32:case"end":return e.stop()}}),e,this,[[16,22]])})));return function(){return e.apply(this,arguments)}}(),n._bindToStream=function(e){this._stream=e,this._domElement.srcObject=e,this._domAudioOnlyVideoElement&&this.bindAudioTrackOnly()},n.bindToStream=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,r,s,c=this;return o.default.wrap((function(e){for(var u=this;;)switch(e.prev=e.next){case 0:if(this._domElement){e.next=2;break}throw new Error("Can't bind because _domElement no longer exists");case 2:return this._bindToStream(t),(0,a.default)(o.default.mark((function e(){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.play();case 3:e.next=26;break;case 5:if(e.prev=5,e.t0=e.catch(0),n=!!t.getAudioTracks().length,c._hasAudioOnlyVideoElement()&&"NotAllowedError"===e.t0.name)return c._domAudioOnlyVideoElement.muted=!0,e.next=12,c.play();e.next=15;break;case 12:c._domAudioOnlyVideoElement.muted=!1,e.next=26;break;case 15:if(n)return c._blockedVolume=c.getAudioVolume(),c._domElement.muted=!0,e.next=20,c.play();e.next=23;break;case 20:c.trigger("audioBlocked"),e.next=26;break;case 23:return c._domElement.muted=!0,e.next=26,c.play();case 26:case"end":return e.stop()}}),e,null,[[0,5]])})))().catch((function(e){u.logging.debug(".play() failed: ",e)})),n={width:this._domElement.videoWidth,height:this._domElement.videoHeight},this.trigger("videoDimensionsChanged",(0,i.default)({},n),(0,i.default)({},n)),this._domElementEvents.on("resize",(function(){var e=(t=u._domElement).videoWidth,t=t.videoHeight,r=e!==n.width,o=t!==n.height;(r||o)&&(u.trigger("videoDimensionsChanged",(0,i.default)({},n),{width:e,height:t}),n.width=e,n.height=t)})),r=function(){u._mediaStoppedListener.stop(),u._domElement&&(u._domElement.onended=null),u.trigger("mediaStopped")},s=function(e){u.trigger("mediaStopped",e)},this._domElement.onended=r,this._mediaStoppedListener=w(t,r,s),this._createAudioLevelSampler(),e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.unbindStream=function(){return this._domElement&&(this._domElement.srcObject=null),this._domAudioOnlyVideoElement&&(this._domAudioOnlyVideoElement.srcObject=null),this._removeAudioLevelSampler(),this},n.setAudioVolume=function(e){var t;this.isAudioBlocked()?this._blockedVolume=e:(t=parseFloat(e)/100,e=[this.domElement()],this._domAudioOnlyVideoElement&&e.push(this._domAudioOnlyVideoElement),e.forEach((function(e){e&&(e.volume=t,e.muted=0==t)})))},n.getAudioVolume=function(){if(this.isAudioBlocked())return this._blockedVolume;var e=this.domElement();return e?e.muted?0:100*e.volume:this._defaultAudioVolume},n.audioChannelType=function(e){var t=this.domElement();return void 0!==e&&(t.mozAudioChannelType=e),"mozAudioChannelType"in this._domElement?t.mozAudioChannelType:"unknown"},n.getAudioInputLevel=function(){return this._audioLevelSampler.sample()},n.refreshTracks=function(){this._mediaStoppedListener&&this._mediaStoppedListener.refresh(),this._createAudioLevelSampler()},n.destroy=function(){this._mediaStoppedListener&&this._mediaStoppedListener.stop(),this.logging.debug("removing domElementEvents"),this._domElementEvents.removeAll(),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll(),this._audioOnlyVideoElementWatcher&&clearInterval(this._audioOnlyVideoElementWatcher),this.unbindStream(),this._domElement&&(S.removeElement(this._domElement),this._domElement=null),this._domAudioOnlyVideoElement&&(S.removeElement(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElement=null),this.trigger("destroyed"),d("NativeVideoElementWrapper",this)},n.setSinkId=function(e){var n=[this._domElement,this._domAudioOnlyVideoElement].map((function(t){if(t)return t.setSinkId(e)}));return t.all(n)},e}()}}).call(this,n(0))},function(e,t,n){"use strict";(function(t){e.exports=function(){return new t((function(e){return setTimeout(e)}))}}).call(this,n(0))},function(e,t,n){"use strict";(function(t){var r=n(7),i=n(47),o=n(61),a=n(6);e.exports=function(e){var s=(e=void 0===e?{}:e).getStatsHelpers||n(75),c=e.OTHelpers||n(5),u=e.PeerConnection||n(101)(),d=e.setCertificates||n(163)(),l=e.watchAudioAcquisition||n(640);return function(e){function n(){this.destroy(),x&&(x=!1,this.trigger("iceRestartFailure")),this.trigger("disconnected")}function f(e){var t=e.reason;e=e.prefix,this.trigger("error",{reason:t,prefix:e})}function p(e){var t=this;x&&h.iceConnectionStateIsConnected()&&(x=!1,this.trigger("iceRestartSuccess")),"connected"===e&&("Chrome"===c.env.name&&(v&&v(),v=l(h.getStats.bind(h),(function(){return t.trigger("audioAcquisitionProblem")}))),this.trigger("connected")),this.trigger("iceConnectionStateChange",e)}var h,v,m=e.iceConfig,g=e.webRTCStream,b=e.channels,y=e.sendMessage,_=e.capableSimulcastStreams,w=e.overrideSimulcastEnabled,E=e.logAnalyticsEvent,S=e.offerOverrides,C=e.answerOverrides,T=e.sourceStreamId,O=e.isP2pEnabled,x=!1;a(this),this.changeMediaDirectionToInactive=function(){h&&h.changeMediaDirectionToInactive()},this.changeMediaDirectionToRecvOnly=function(){h&&h.changeMediaDirectionToRecvOnly()},this.getDataChannel=function(e,t,n){h.getDataChannel(e,t,n)},this.getSourceStreamId=function(){return h.getSourceStreamId()},this.destroy=function(){v&&(v(),v=null),h&&(h.disconnect(),h=null),this.off()},this.processMessage=function(e,t){h.processMessage(e,t)},this.addTrack=function(e,t,n){return h.addTrack(e,t,n)},this.removeTrack=function(e){return h.removeTrack(e)},this.getLocalStreams=function(){return h.getLocalStreams()},this.init=function(e,t){var i=this;e={iceConfig:m.needRumorIceServersFallback?r(m,{servers:[].concat(_toConsumableArray(e),_toConsumableArray(m.servers))}):m,channels:b,capableSimulcastStreams:_,overrideSimulcastEnabled:w},d(e,(function(e,o){e?t(e):(e=r({logAnalyticsEvent:E,isPublisher:!0,offerOverrides:S,answerOverrides:C,sourceStreamId:T,p2p:O},o),(h=new u(r({sendMessage:y},e))).on({close:n,error:f,qos:function(e){return i.trigger("qos",e)},iceConnectionStateChange:p},i),h.addLocalStream(g).then((function(){t(void 0)})).catch(t))}))},this.getSenders=function(){return h.getSenders()},this.iceRestart=function(){h&&(x=!0,h.iceRestart())},this.hasRelayCandidates=function(){return h.hasRelayCandidates()},this.iceConnectionStateIsConnected=function(){return h.iceConnectionStateIsConnected()},this.findAndReplaceTrack=function(e,t){return h.findAndReplaceTrack(e,t)},this._testOnlyGetFramesEncoded=function(){return new t((function(e,t){h.getStats((function(n,r){n?t(n):(n=o(r,(function(e){return s.isVideoStat(e,r)&&s.isOutboundStat(e)})))?e(i(n,["timestamp","framesEncoded"])):t(new Error("Could not find framesEncoded in getStats report"))}))}))},this.getStats=function(e){return h.getStats(e)},this.getRtcStatsReport=function(e){return h.getRtcStatsReport(e)}}}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(7),i=n(6);e.exports=function(e){var t=(e=void 0===e?{}:e).OTHelpers||n(5),o=e.PeerConnection||n(101)(),a=e.setCertificates||n(163)(),s=e.Errors||n(4),c=e.ExceptionCodes||n(8),u=e.OTErrorClass||n(21),d=e.watchSubscriberAudio||n(641);return function(e){function n(){this.destroy(),R&&this.trigger("iceRestartFailure",this),this.trigger("disconnected",this)}function l(e){this.trigger("remoteStreamAdded",e,this)}function f(e){this.trigger("remoteStreamRemoved",e,this)}function p(e){w.trigger("remoteVideoSupported",e)}function h(e){var t=e.reason;e=e.prefix,this.trigger("error",null,t,this,e)}function v(e){!R||"connected"!==e&&"completed"!==e||(R=!1,this.trigger("iceRestartSuccess")),"connected"===e&&this.trigger("connected"),this.trigger("iceConnectionStateChange",e)}function m(e){this.trigger("signalingStateChange",e)}function g(e){this.trigger("signalingStateStable",e)}function b(e,t){"answer"!==e&&"pranswer"!==e||w.trigger("connected"),C(e,t)}function y(e){return function(t){_&&_.remoteTracks().forEach((function(n){n.kind===e&&n.enabled!==t&&(n.enabled=t)}))}}var _,w=this,E=e.clientCandidates,S=e.iceConfig,C=e.send,T=e.logAnalyticsEvent,O=e.p2p,x=e.codecFlags,I=e.sourceStreamId,A=this,k=!1,R=!1,D=null;i(this),this.close=function(){k||(k=!0,_&&(_.disconnect(),_=null),this.off())},this.destroy=function(){this.stopAudioStatsWatcher(),k||this.close()},this.getDataChannel=function(e,t,n){_.getDataChannel(e,t,n)},this.getSourceStreamId=function(){return _.getSourceStreamId()},this.processMessage=function(e,t){_.processMessage(e,t)},this.remoteDescription=function(){return _.remoteDescription()},this.getStats=function(e){var n;_?_.getStats(e):(n=c.PEER_CONNECTION_NOT_CONNECTED,e(new t.Error(u.getTitleByCode(n),s.PEER_CONNECTION_NOT_CONNECTED,{code:n})))},this.getSynchronizationSources=function(e){var n;if(!_)return n=c.PEER_CONNECTION_NOT_CONNECTED,void e(new t.Error(u.getTitleByCode(n),s.PEER_CONNECTION_NOT_CONNECTED,{code:n}));_.getSynchronizationSources(e)},this.getRtcStatsReport=function(e){var n;_?_.getRtcStatsReport(e):(n=c.PEER_CONNECTION_NOT_CONNECTED,e(new t.Error(u.getTitleByCode(n),s.PEER_CONNECTION_NOT_CONNECTED,{code:n})))},this.startAudioStatsWatcher=function(e){var t=this;D=D||d(_.getStats.bind(_),(function(e){t.stopAudioStatsWatcher(),t.trigger("audioLevelStuckWarning",e)}),e)},this.stopAudioStatsWatcher=function(){D&&D.stop(),D=null},this.subscribeToAudio=y("audio"),this.subscribeToVideo=y("video"),this.hasRelayCandidates=function(){return _.hasRelayCandidates()},this.iceRestart=function(){return R=!0,_.iceRestart()},this.iceConnectionStateIsConnected=function(){return _.iceConnectionStateIsConnected()},this.init=function(e){var t=this;a({iceConfig:S},(function(i,a){i?e(i):(i=r({logAnalyticsEvent:T,clientCandidates:E,codecFlags:x,sourceStreamId:I},a),(_=new o(r({sendMessage:b,p2p:O},i))).on({iceConnected:function(){return A.emit("iceConnected")},close:n,streamAdded:l,streamRemoved:f,signalingStateChange:m,signalingStateStable:g,error:h,qos:function(e){return t.trigger("qos",e)},iceConnectionStateChange:v,remoteVideoSupported:p},A),0<_.remoteTracks().length?_.remoteStreams().forEach(l,A):e(void 0,A))}))}}}},function(e,t,n){"use strict";e.exports=function(e){return(e=((e=void 0===e?{}:e).generateSimpleStateMachine||n(160)())("NotPublishing",["NotPublishing","GetUserMedia","BindingMedia","MediaBound","PublishingToSession","Publishing","Failed","Destroyed"],{NotPublishing:["NotPublishing","GetUserMedia","Destroyed"],GetUserMedia:["BindingMedia","Failed","NotPublishing","Destroyed"],BindingMedia:["MediaBound","Failed","NotPublishing","Destroyed"],MediaBound:["NotPublishing","PublishingToSession","Failed","Destroyed"],PublishingToSession:["NotPublishing","Publishing","Failed","Destroyed","MediaBound"],Publishing:["NotPublishing","MediaBound","Failed","Destroyed"],Failed:["Destroyed"],Destroyed:[]})).prototype.isDestroyed=function(){return"Destroyed"===this.current},e.prototype.isAttemptingToPublish=function(){return-1!==["GetUserMedia","BindingMedia","MediaBound","PublishingToSession"].indexOf(this.current)},e.prototype.isPublishing=function(){return"Publishing"===this.current},e}},function(e,t,n){"use strict";function r(e){this.message=e||"Operation has been canceled.",this.name="CancellationError",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}Object.defineProperty(t,"__esModule",{value:!0}),((t.default=r).prototype=Object.create(Error.prototype)).constructor=r},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return r.resolve(e).then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){return r.reject(e)}))}))}},function(e,t,n){"use strict";(function(t){function r(e,t){return e.connection.id===t.connection.id}var i=(Y=n(3))(n(25)),o=Y(n(12)),a=Y(n(13)),s=n(140),c=n(147),u=n(7),d=n(276),l=n(56),f=n(49),p=n(165).CancellationError,h=n(19),v=n(41),m=n(48),g=n(268),b=n(26),y=n(6),_=n(651),w=n(103),E=n(62),S=n(652),C=n(4),T=n(164)(),O=n(653),x=n(282),I=n(143),A=n(283),k=n(144),R=n(2),D=n(4),N=n(22)(),P=n(8),M=n(75),L=n(301),j=n(302),U=n(654),F=n(162)(),B=n(1)("Subscriber"),V=n(284)(),z=n(285),W=n(11)(),H=n(21),G=n(5),q=n(151),Y=n(142)(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global),K=(Y=n(101)({global:Y}),n(296)({PeerConnection:Y})),Q=n(303),X=n(657),Z=n(658),J=n(659),$=n(660),ee=n(304),te=n(100).parseIceServers,ne=n(661),re=n(662),ie=n(663),oe=n(306),ae=n(167);e.exports=function(e){function n(e,T,x){var I=this,A=this;if(void 0===x&&(x=function(){}),void 0===(T=void 0===T?{}:T).analytics)throw new Error("Subscriber requires an instance of analytics");function k(e){return ee[e]}function R(){return ee[K]}function D(e,t){nt("RelayedToRoutedTransition",e,t=void 0===t?{}:t)}var N,P,M,L,j,U,F,B,V,z,W,H,G,q,Y,K,Q=T.analytics,X=h(),Z=n.hasAudioOutputLevelStatCapability()||be(),J=this,$={},ee={},te={},ge={},xe={},Le=!1,je=e||X,Ue=T.session,Fe=T.stream,Be=!1,Ve={},ze=null,We=!1,He=!0,Ge=[],qe=s({},T,{showControls:!0,testNetwork:!1,fitMode:Fe.defaultFitMode||"cover",insertDefaultUI:!0}),Ye={P2P:b.SUBSCRIBER_DISCONNECTED,MANTIS:b.SUBSCRIBER_DISCONNECTED},Ke="Chrome"===le.name&&58<=le.version||le.isChromiumEdge||le.isOpera,Qe=Ue._.getSocket(),Xe=function(){return d(ee)},Ze=function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee[t];case 2:e.sent.close(),delete ee[t];case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(e){delete te[e]},$e=function(){var e=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n={error:pt,audioVolume:G},e.prev=3,e.next=6,N.bindVideo(t,n);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),e.t0 instanceof p||j.isDestroyed())return e.abrupt("return");e.next=12;break;case 12:throw pt(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=(0,a.default)(o.default.mark((function e(t,n){var r,i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,"function"==typeof t?n=t:r="rtcStatsReport"===t,(r?Ot:Tt)(),r&&!oe)return i=he.GET_RTC_STATS_REPORT_NOT_SUPPORTED,n(Se(C.GET_RTC_STATS_REPORT_NOT_SUPPORTED,new Error(Ce.getTitleByCode(i)),i)),e.abrupt("return");e.next=7;break;case 7:if(R()){e.next=11;break}return i=he.PEER_CONNECTION_NOT_CONNECTED,n(Se(fe.PEER_CONNECTION_NOT_CONNECTED,new Error(Ce.getTitleByCode(i)),i)),e.abrupt("return");case 11:return e.next=13,R();case 13:a=e.sent,(r?a.getRtcStatsReport:a.getStats)((function(e,t){e?(e.code===he.PEER_CONNECTION_NOT_CONNECTED&&(e=Se(fe.PEER_CONNECTION_NOT_CONNECTED,e,he.PEER_CONNECTION_NOT_CONNECTED)),n(e)):n(null,t)}));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tt=function(e,t,n,r,i){e=u({action:e,variation:t,payload:n,streamId:Fe?Fe.id:null,sessionId:Ue?Ue.sessionId:null,connectionId:Ue&&Ue.isConnected()?Ue.connection.connectionId:null,partnerId:Ue&&Ue.sessionInfo?Ue.sessionInfo.partnerId:null,subscriberId:X,widgetType:"Subscriber"},r),r=[e="Failure"===t||"iceconnectionstatechange"===t&&"closed"===n?u(e,Ve):e],i&&r.push(i),Q.logEvent.apply(Q,r)},nt=function(e,t,n){"Attempt"===t?(ge[e]=(new Date).getTime(),tt(e,t,n)):"Failure"!==t&&"Success"!==t||tt(e,t,n,{attemptDuration:(new Date).getTime()-ge[e]})},rt=function(e,t){nt("RoutedToRelayedTransition",e,t=void 0===t?{}:t)},it=re({onInvalidTransition:function(e,t){e="Invalid state transition: Event '".concat(e,"' not possible in state '").concat(t,"'"),_e.error(e),tt("Subscriber:InvalidStateTransition","Event",{details:e})}}),ot="Unable to subscribe to stream in a reasonable amount of time";if(ne({connectivityState:it,onWarning:function(){st("Warning",{})},onTimeout:function(){var e;N&&N.addError(ot),j.isAttemptingToSubscribe()&&(j.set("Failed"),I._disconnect({noStateTransition:!0}),e=Se(C.TIMEOUT,new Error(ot),he.UNABLE_TO_SUBSCRIBE),it.fail({options:{failureReason:"Subscribe",failureMessage:ot,failureCode:he.UNABLE_TO_SUBSCRIBE},error:e}))},warningMs:15e3,timeoutMs:3e4}),$.promise=new t((function(e,t){$.resolve=e,$.reject=t})),qe.testNetwork&&Ue.sessionInfo.p2pEnabled&&_e.warn("You cannot test your network with a relayed session. Use a routed session."),this.id=je,this.widgetId=X,this.session=Ue,this.stream=qe.stream,Fe=qe.stream,this.streamId=Fe.id,!Ue)return Ce.handleJsException({errorMsg:"OT.Subscriber must be passed a session option",code:2e3,target:this,analytics:Q}),null;function at(e){N.setAudioBlockedUi(e);var t=P&&P.audioBlockedIndicator;t&&t.setAudioBlocked(e),(t=P&&P.videoUnsupportedIndicator)&&t.setVideoUnsupported(!e&&!He)}y(this),J.once("subscribeComplete",(function(){try{x.apply(void 0,arguments)}catch(e){_e.error("Completion handler threw an exception",e)}})),it.observe({onEnterConnecting:function(){st("Attempt",null,{})},onEnterConnected:function(){st("Success",null,{})},onEnterDisconnected:function(e,t){var n,r=(t=void 0===t?{}:t).options;t=t.payload,st((n=(e=e).transition,e=e.from,"fail"===n?"connected"===e?"Disconnect":"Failure":"disconnect"===n&&"connected"===e?"Disconnect":"Cancel"),void 0===t?null:t,void 0===r?{}:r)}}),it.observe({onEnterConnected:function(){I.trigger("subscribeComplete",void 0,I)},onEnterDisconnected:function(e,t){e=e.from,t=(void 0===t?{}:t).error,"connecting"===e&&A.trigger("subscribeComplete",t||new Error("An unknown error occurred"),A)}}),ie({connectivityState:it,logAttempt:function(){tt("Subscribe","Attempting",null,{connectionId:Ue&&Ue.isConnected()?Ue.connection.connectionId:null})}});var st=function(e,t,n){"Attempt"===e&&(z=(new Date).getTime()),tt("Subscribe",e,t,"Failure"===e||"Success"===e||"Cancel"===e?(0,i.default)({},n,{attemptDuration:(new Date).getTime()-z}):n)},ct=function(e,t){tt("ICERestart",e,t)},ut=function(e){var t=!1;if(("audioLevelStuckAt0"!==e||Fe&&Fe.hasAudio&&H&&0<I.getAudioVolume()&&!I.isAudioBlocked()&&(!Fe||!Fe.hasVideo))&&(tt("subscriber:onAudioWarning","Event",{reason:e}),N)){if(N.rebindSrcObject(),tt("subscriber:rebindSrcObject","Called"),"audioLevelStuck"===e)return;t=!0}dt(t)},dt=function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),Ke)return e.next=4,R();e.next=6;break;case 4:e.sent.startAudioStatsWatcher(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(e){Ue.sessionInfo.isAdaptiveEnabled&&"P2P"===e.getSourceStreamId()&&rt("Success")},ft=function(){_e.debug("OT.Subscriber has been disconnected from the Publisher's PeerConnection"),it.fail({options:{failureReason:"PeerConnectionError",failureCode:he.UNABLE_TO_PUBLISH,failureMessage:"PeerConnection disconnected"},error:Se(fe.DISCONNECTED,new Error("ClientDisconnected"))}),I._disconnect({noStateTransition:!0}),(j.isAttemptingToSubscribe()||j.isSubscribing())&&j.set("Failed")},pt=function(e){var t=((e=Se(fe.MEDIA_ERR_DECODE,e,e.code||he.P2P_CONNECTION_FAILED)).message="OT.Subscriber while playing stream: ".concat(e.message),_e.error("OT.Subscriber.onVideoError"),it.fail({options:{failureReason:"VideoElement",failureMessage:e.message,failureCode:e.code||he.P2P_CONNECTION_FAILED},error:e}),j.isAttemptingToSubscribe());j.set("Failed"),t||J.trigger("error",e.message),Ce.handleJsException({error:e,code:he.UNABLE_TO_SUBSCRIBE,target:J,analytics:Q})},ht=function(e,t,n,r){var i,o;if("SetRemoteDescription"===r&&!He&&t.match(/Unsupported video without audio for fallback/))return N&&N.addError("The stream is unable to be played.","Your browser does not support the video format."),(i="Safari"===Te.env.name?new Error("VP8 is not supported in this version of Safari. You might want to consider switching to an H264 project. See https://tokbox.com/safari for more information."):new Error("Video format not supported in this browser.")).code=he.UNSUPPORTED_VIDEO_CODEC,void pt(i);"ICEWorkflow"===r&&Ue.sessionInfo.reconnection&&Le?_e.debug("Ignoring peer connection failure due to possibility of reconnection."):(i="ICEWorkflow"===r?he.SUBSCRIBER_ICE_WORKFLOW_FAILED:e===he.STREAM_LIMIT_EXCEEDED?e:he.P2P_CONNECTION_FAILED,o={failureReason:r||"PeerConnectionError",failureMessage:"OT.Subscriber PeerConnection Error: ".concat(t),failureCode:i},r=ye(e,t,r,"(not found)","Subscriber"),it.fail({options:o,error:r}),j.isAttemptingToSubscribe()?(r={hasRelayCandidates:n&&n.hasRelayCandidates()},tt("createPeerConnection","Failure",r,o),j.set("Failed")):j.isSubscribing()&&(j.set("Failed"),I.trigger("error",t)),I._disconnect({noStateTransition:!0}),404===Number(e)&&I._destroy({noStateTransition:!0}),Ce.handleJsException({errorMsg:"OT.Subscriber PeerConnection Error: ".concat(t),errorCode:i,target:I,analytics:Q}),St(e))},vt=function(){var e=(0,a.default)(o.default.mark((function e(n,r){var i,a,s,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=1===Object.keys(te).length,a=null==r?void 0:r.getSourceStreamId(),s=Ue.sessionInfo,B=n,a&&(te[a]=n),_e.debug("OT.Subscriber.onRemoteStreamAdded with sourceStreamId",a),e.prev=6,e.next=9,_((function(){return e=B,n=(t=Fe)&&t.hasVideo&&e&&0===e.getVideoTracks().length,t=t&&t.hasAudio&&e&&0===e.getAudioTracks().length,!(n||t);var e,t,n}));case 9:e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(6),"TIMEOUT"!==e.t0.message){e.next=17;break}_e.error("The expected tracks never arrived"),e.next=18;break;case 17:throw e.t0;case 18:return j.set("BindingRemoteStream"),A.subscribeToAudio(H),V="loading",A.subscribeToVideo(qe.subscribeToVideo,"loading"),s.p2pEnabled||"P2P"===a||(A.setPreferredResolution(qe.preferredResolution),A.setPreferredFrameRate(qe.preferredFrameRate)),n.getVideoTracks().forEach((function(e){(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).webkitMediaStream?e.enabled=!1:e.enabled=Fe.hasVideo&&qe.subscribeToVideo})),e.next=26,$e(n);case 26:if(dt(),j.isDestroyed())throw new Error("Subscriber destroyed");e.next=29;break;case 29:return(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).webkitMediaStream&&n.getVideoTracks().forEach((function(e){e.enabled=Fe.hasVideo&&qe.subscribeToVideo})),(c=N&&N.video())&&c.orientation({width:Fe.videoDimensions.width,height:Fe.videoDimensions.height,videoOrientation:Fe.videoDimensions.orientation}),(c=P&&P.videoUnsupportedIndicator)&&c.setVideoUnsupported(!He),c=new t((function(e,t){var n=N&&N.video();n&&n.domElement()?e():(N.once("videoElementCreated",e),J.once("destroyed",t))})),e.next=37,c;case 37:return e.next=39,$.promise;case 39:if(i?j.set("Subscribing"):!j.isSubscribing()&&N&&N.video()&&(Le=!0,We||(it.connect(),We=!0),_e.debug("OT.Subscriber.onLoaded"),j.set("Subscribing"),L=m(),N.loading(!1),P&&P.showAfterLoading(),Be&&Fe.setRestrictFrameRate(!0),M&&M.audioOnly(N.audioOnly()),I.setAudioVolume(G),I.trigger("loaded",I)),U&&"webRTCStream"in U&&0<n.getAudioTracks().length&&U.webRTCStream(n),(c=Te.env).isSafari||c.isChromiumEdge||c.isOpera||"Chrome"===c.name&&58<=c.version||c.isFirefox&&96<=c.version)return Y&&(Y.destroy(),Y=null),e.next=46,R();e.next=48;break;case 46:(r=e.sent)&&(Y=De(r.getStats.bind(r)));case 48:i||A.trigger("streamAdded",A);case 49:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t,n){return e.apply(this,arguments)}}(),mt=function(e){B=null,_e.debug("OT.Subscriber.onStreamRemoved");var t=N&&N.video();t&&t.stream===e&&N.destroyVideo(),Je(K),I.trigger("streamRemoved",I)},gt=function(e){He!==e&&I.dispatchEvent(new pe.VideoEnabledChangedEvent(e?"videoEnabled":"videoDisabled",{reason:e?"codecChanged":"codecNotSupported"})),He=e},bt=(this.on("audioBlocked",(function(){at(!0)})),this.on("audioUnblocked",(function(){at(!1)})),{new:b.SUBSCRIBER_DISCONNECTED,checking:b.SUBSCRIBER_DISCONNECTED,connected:b.SUBSCRIBER_CONNECTED,completed:b.SUBSCRIBER_CONNECTED,disconnected:b.SUBSCRIBER_DISCONNECTED}),yt=function(e,t){var n=bt[e],r=t.getSourceStreamId();t=Ye[r],n&&n!==t&&(Ye[r]=n,"disconnected"===e&&"P2P"!==r&&setTimeout((0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ue._.isSocketReconnecting,"disconnected"===Ye[r]&&Qe.is("connected")&&!t())return e.next=4,A._.iceRestart("peer connection disconnected");e.next=4;break;case 4:case"end":return e.stop()}}),e)}))),2e3),N&&N.loading(n!==b.SUBSCRIBER_CONNECTED),_e.debug("OT.Subscriber.connectionStateChanged to ".concat(e)),I.dispatchEvent(new pe.ConnectionStateChangedEvent(n,I)))},_t=function(){ct("Success")},wt=function(){ct("Failure",{reason:"ICEWorkflow",message:"OT.Subscriber PeerConnection Error: The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall."})},Et={get:function(){return 0<Fe.getChannelsOfType("audio").length?J.getStyle("buttonDisplayMode"):"off"},update:function(){var e=Et.get();P&&(P.muteButton.setDisplayMode(e),P.backingBar.setMuteMode(e))}},St=function(e){var t;N&&(e=e===he.STREAM_LIMIT_EXCEEDED?(t="The stream was unable to connect.","The limit for the number of media streams has been reached."):(t="The stream was unable to connect due to a network error.",We?"Ensure you have a stable connection and try again.":"Make sure you have a stable network connection and that it isn't blocked by a firewall."),N.addError(t,e))};function Ct(e){Xe().forEach(function(){var t=(0,a.default)(o.default.mark((function t(n){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:t.sent.subscribeToVideo(!e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),N&&(N.audioOnly(e),N.showPoster(e)),M&&M.audioOnly(e)}Oe(this,{nameDisplayMode:"auto",buttonDisplayMode:"auto",audioLevelDisplayMode:"auto",videoDisabledDisplayMode:"auto",audioBlockedDisplayMode:"auto",backgroundImageURI:null,showArchiveStatus:!0,showMicButton:!0},qe.showControls,(function(e){tt("SetStyle","Subscriber",e,null,.1)}));var Tt=f((function(){tt("GetStats","Called")})),Ot=f((function(){tt("GetRtcStatsReport","Called")})),xt=function(e){F&&(F.destroy(),F=void 0),B.getAudioTracks().length&&((U=ve(e))?F=O({subscriber:I,audioLevelSampler:U}):Object.prototype.hasOwnProperty.call(I,"loudness")||(Object.defineProperty(I,"loudness",{value:void 0,configurable:!0,writable:!1}),_e.error("No suitable audio level samplers found, audio level visualisation will not work")))},It=(this._destroy=function(e){var t=void 0===(t=e.reason)?"Unknown":t,n=e.quiet;return e=void 0!==(e=e.noStateTransition)&&e,j.isDestroyed()||(j.set("Destroyed"),Y&&(Y.destroy(),Y=null),Ve={sessionId:Ue.sessionId,connectionId:Ue&&Ue.isConnected()?Ue.connection.connectionId:null,partnerId:Ue&&Ue.sessionInfo?Ue.sessionInfo.partnerId:null,streamId:Fe&&!Fe.destroyed?Fe.id:null},I._disconnect({reason:t,noStateTransition:e}),P&&(P.destroy(),P=null),N&&(N.destroy(),N.off(),N=null,I.element=null),Fe&&!Fe.destroyed&&tt("unsubscribe",null,{streamId:Fe.id}),Fe.off(W,I),I.id=null,je=null,I.stream=null,Fe=null,I.streamId=null,I.session=null,!(qe=Ue=null)!==n&&(I.dispatchEvent(new pe.DestroyedEvent(b.SUBSCRIBER_DESTROYED,I,t)),I.off())),I},this.destroy=function(e,t){void 0===e&&(e="Unsubscribe"),_e.warn("Subscriber#destroy is deprecated and will be removed. Please use Session#unsubscribe instead"),A._destroy({reason:e,quiet:t})},this._disconnect=function(e){var t=void 0===(t=(e=void 0===e?{}:e).reason)?"Unknown":t;e.noStateTransition||it.is("disconnected")||(e="Unsubscribe"===t?void 0:Se(fe.STREAM_DESTROYED,new Error("Stream was destroyed before it could be subscribed to")),it.disconnect({payload:{reason:t},error:e})),j.isDestroyed()||j.isFailed()||j.set("NotSubscribing"),N&&N.destroyVideo(),Xe().forEach(function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:e.sent.destroy();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object.keys(ee).forEach((function(e){delete ee[e]})),Qe.is("connected")&&Fe&&!Fe.destroyed&&Qe.subscriberDestroy(Fe.id,A.widgetId)},this.disconnect=function(){_e.warn("Subscriber#disconnect is deprecated and will be removed. Please use Session#unsubscribe instead"),I._disconnect({reason:"Unsubscribe"})},function(){var e=(0,a.default)(o.default.mark((function e(t){var n,r,a,s,c,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.peerId,r=t.fromConnectionId,a=t.sourceStreamId,o={apiKey:Ue.apiKey,sessionId:Ue.sessionId,streamId:Fe.id,subscriberId:A.widgetId},s=["/v2/partner",o.apiKey,"session",o.sessionId,"stream",o.streamId,"subscriber",o.subscriberId].join("/"),s=Ne({socket:A.session._.getSocket(),uri:s,content:{peerId:n,sourceStreamId:a}}),c=function(e,t,r,o,s){return void 0===o&&(o={}),o=(0,i.default)({peerId:n,sourceStreamId:ae(a)},o),tt(e,t,r,o,s)},d=function(e){var t,o,s;K===a&&(t=(e=(0,i.default)({},e,{peerId:n,remoteConnectionId:r,sourceStreamId:a})).parsedStats,o=e.remoteConnectionId,s=e.peerId,e=e.sourceStreamId,o={widgetType:"Subscriber",width:N.width,height:N.height,audioTrack:B&&0<B.getAudioTracks().length,hasAudio:Fe&&Fe.hasAudio,subscribeToAudio:H,audioVolume:I.getAudioVolume(),videoTrack:B&&0<B.getVideoTracks().length,connectionId:Ue?Ue.connection.connectionId:null,hasVideo:Fe&&Fe.hasVideo,subscribeToVideo:qe.subscribeToVideo,congestionLevel:ze,streamId:Fe.id,subscriberId:X,duration:Math.round((m()-L)/1e3),remoteConnectionId:o,peerId:s,sourceStreamId:ae(e)},s=u(o,t),Q.logQOS(s),I.trigger("qos",Q.combineWithCommon(s)))},e.abrupt("return",A._setupPeerConnection({send:s,log:c,logQoS:d,sourceStreamId:a}));case 6:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}());function At(e){var t=N&&N.video();if(t)try{t.setAudioVolume(e)}catch(e){_e.warn("setAudioVolume: ".concat(e)),0===G&&(_e.info("Using subscribeToAudio to mute Audio because setAudioVolume(0) failed"),J.subscribeToAudio(!1))}P&&P.muteButton.muted(0===e)}this.processMessage=function(){var e=(0,a.default)(o.default.mark((function e(t,n,r){var i,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _e.debug("OT.Subscriber.processMessage: Received ".concat(t," message from ").concat(n)),_e.debug(r),i=l(r,"content.peerId"),a=l(r,"content.sourceStreamId"),e.next=6,k(a);case 6:if(!(s=e.sent)){e.next=11;break}s.processMessage(t,r),e.next=16;break;case 11:if("offer"===t)return e.next=14,It({peerId:i,fromConnectionId:n,sourceStreamId:a});e.next=16;break;case 14:s=e.sent,A.session._.addSubscriberToPeerConnectionsQueue(s,r);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.disableVideo=function(e){if(e){if("auto"!==V)return void _e.info("Video was not re-enabled because it was manually disabled");_e.info("Video has been re-enabled")}else _e.warn("Due to high packet loss and low bandwidth, video has been disabled");I.subscribeToVideo(e,"auto"),tt("updateQuality","video",e?{videoEnabled:!0}:{videoDisabled:!0})},this.getImgData=function(){if(!I.isSubscribing())return _e.error("OT.Subscriber.getImgData: Cannot getImgData before the Subscriber is subscribing."),null;var e=N&&N.video();return e?e.imgData():null},this.getStats=function(e){et((function(t,n){var r;t?e(t):(r={timestamp:0},n.forEach((function(e){var t,i;me.isInboundStat(e)&&(t=me.isVideoStat(e,n),((i=me.isAudioStat(e,n))||t)&&(r.timestamp=me.normalizeTimestamp(e.timestamp)),t?(c(r,{video:me.parseStatCategory(e)}),Y&&c(r,{video:{frameRate:Y.getFrameRateFromStat(e)}})):i&&c(r,{audio:me.parseStatCategory(e)}))})),e(null,r))}))},this.getRtcStatsReport=function(){return new t((function(e,t){et("rtcStatsReport",(function(n,r){n?t(n):e(r)}))}))},this.setAudioVolume=function(e){var t=Math.max(0,Math.min(100,parseInt(e,10)));return tt("setAudioVolume","Attempt",{audioVolume:t}),isNaN(t)?(_e.error("OT.Subscriber.setAudioVolume: value should be an integer between 0 and 100"),tt("setAudioVolume","Failure",{message:"value should be an integer between 0 and 100"}),I):(t!==e&&_e.warn("OT.Subscriber.setAudioVolume: value should be an integer between 0 and 100"),t===G?(At(G),tt("setAudioVolume","Success",{audioVolume:G,message:"Requested volume is same as already set audioVolume"})):(0<G&&(q=G),At(G=t),0<G&&!H&&(q=G,I.subscribeToAudio(!0)),tt("setAudioVolume","Success",{audioVolume:G})),I)},this.getAudioVolume=function(){var e=N&&N.video();if(e)try{return e.getAudioVolume()}catch(e){_e.warn("getAudioVolume ".concat(e))}return G},this.subscribeToAudio=function(e){var t=g(e,!0);return Xe().forEach(function(){var e=(0,a.default)(o.default.mark((function e(n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:e.sent.subscribeToAudio(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Fe&&0!==Xe().length&&Fe.setChannelActiveState("audio",t),e=H!==t,H=t,e&&I.setAudioVolume(t?q:0),tt("subscribeToAudio","Event",{subscribeToAudio:t}),I};var kt,Rt={auto:"quality",publishVideo:"publishVideo",subscribeToVideo:"subscribeToVideo"};if("Safari"===le.name&&(Me.addEventListener("visibilitychange",kt=function(){!Me.hidden&&qe.subscribeToVideo&&(_e.debug("document visibility restored in Safari - resubscribing to video"),I.subscribeToVideo(!1),I.subscribeToVideo(!0))}),this.once("destroyed",(function(){Me.removeEventListener("visibilitychange",kt)}))),this.subscribeToVideo=function(e,t){return e=g(e,!0),tt("subscribeToVideo","Attempt",{subscribeToVideo:e,reason:t}),Ct(!e||!Fe.hasVideo||!(B&&0<B.getVideoTracks().length)),Fe.hasVideo&&B&&0===B.getVideoTracks().length?(e&&_e.info("Subscriber is audio-only due to incompatibility, can't subscribeToVideo."),qe.subscribeToVideo=!1,tt("subscribeToVideo","Failure",{message:"No video tracks available"})):(P&&P.videoDisabledIndicator&&P.videoDisabledIndicator.disableVideo("auto"===t&&!e),0<Xe().length&&Ue&&Fe&&(e!==qe.subscribeToVideo||t!==V)&&Fe.setChannelActiveState("video",e,t),qe.subscribeToVideo=e,tt("subscribeToVideo","Success",{subscribeToVideo:e,reason:V=t}),"loading"!==t&&(I.dispatchEvent(new pe.VideoEnabledChangedEvent(e?"videoEnabled":"videoDisabled",{reason:Rt[t]||"subscribeToVideo"})),"videoDisabled"===e&&"auto"===t&&(ze=2))),I},this.setPreferredResolution=function(e){var t;j.isDestroyed()||0===Xe().length&&"Connecting"===!j.current?_e.warn("Cannot set the max Resolution when not subscribing to a publisher"):(qe.preferredResolution=e,Ue.sessionInfo.p2pEnabled?_e.warn("OT.Subscriber.setPreferredResolution will not work in a P2P Session"):!j.isStreamAdded()||(t=Fe.getPreferredResolution())&&e&&t.width===e.width&&t.height===e.height||!t&&!e||Fe.setPreferredResolution(e))},this.setPreferredFrameRate=function(e){var t;j.isDestroyed()||0===Xe().length&&"Connecting"===!j.current?_e.warn("Cannot set the max frameRate when not subscribing to a publisher"):(qe.preferredFrameRate=e,Ue.sessionInfo.p2pEnabled?_e.warn("OT.Subscriber.setPreferredFrameRate will not work in a P2P Session"):(t=Fe.getPreferredFrameRate(),e&&t&&t===e||!t&&!e||Fe.setPreferredFrameRate(e)))},this.isSubscribing=function(){return j.isSubscribing()},this.isWebRTC=!0,this.isLoading=function(){return N&&N.loading()},this.isAudioBlocked=function(){return Boolean(N&&N.isAudioBlocked())},this.videoElement=function(){var e=N&&N.video();return e?e.domElement():null},this.videoWidth=function(){var e=N&&N.video();return e?e.videoWidth():void 0},this.videoHeight=function(){var e=N&&N.video();return e?e.videoHeight():void 0},this._subscribeToSelf=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Ue.getPublisherForStream(Fe))&&t._.webRtcStream()){e.next=5;break}it.fail({payload:{reason:"streamNotFound"},error:Se(fe.STREAM_DESTROYED,new Error("Tried to subscribe to a local publisher, but its stream no longer exists"))}),e.next=14;break;case 5:return $.resolve(),e.prev=6,e.next=9,vt(t._.webRtcStream());case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),_e.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[6,11]])}))),this._setupPeerConnection=function(){var e=(0,a.default)(o.default.mark((function e(r){var i,s,c,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.send,s=r.log,c=r.logQoS,u=r.sourceStreamId,qe.testNetwork&&A.setAudioVolume(0),0===Xe().length&&j.set("Connecting"),ee[K=u]=new t((function(e,t){Ue._.getIceConfig().then((function(r){r.needRumorIceServersFallback&&(r.servers=[].concat(_toConsumableArray(Ge||[]),_toConsumableArray(r.servers||[]))),r={iceConfig:r,subscriberId:A.widgetId,send:i,logAnalyticsEvent:s,p2p:Ue.sessionInfo.p2pEnabled,sourceStreamId:u};var d,l,f=(Object.prototype.hasOwnProperty.call(qe,"codecFlags")&&(r.codecFlags=qe.codecFlags),new n.SubscriberPeerConnection(r));f.once("iceConnected",$.resolve),f.once("error",$.reject),f.on("qos",c),d=f,xe[r=u]&&(xe[r].removeAll(),d.on("error",l=function e(){d.off("error",e),d.off("disconnected",e)}),d.on("disconnected",l)),(l=E(d)).once("connected",(function(){return lt(d)})),l.on("disconnected",ft),l.on("error",ht),l.on("remoteStreamAdded",(0,a.default)(o.default.mark((function e(){var t=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt.apply(void 0,_toConsumableArray(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),_e.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))),l.on("audioLevelStuckWarning",ut),l.on("remoteStreamRemoved",mt),l.on("signalingStateStable",(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J.trigger("signalingStateStable"),N&&N.video()&&B&&U&&"webRTCStream"in U&&0<B.getAudioTracks().length&&U.webRTCStream(B);case 3:case"end":return e.stop()}}),e)})))),l.on("iceConnectionStateChange",(function(e){return yt(e,d)})),l.on("iceRestartSuccess",_t),l.on("iceRestartFailure",wt),l.on("remoteVideoSupported",gt),l.once("remoteStreamAdded",xt.bind(I,d)),xe[r]=xe,f.init((function(n){n?t(n):e(f)}))}))})),e.abrupt("return",ee[u]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.restrictFrameRate=function(e){return _e.debug("OT.Subscriber.restrictFrameRate(".concat(e,")")),tt("restrictFrameRate",e.toString(),{streamId:Fe.id}),Ue.sessionInfo.p2pEnabled&&_e.warn("OT.Subscriber.restrictFrameRate: Cannot restrictFrameRate on a P2P session"),"boolean"!=typeof e?_e.error("OT.Subscriber.restrictFrameRate: expected a boolean value got a ".concat(_typeof(e))):(Be=e,Fe.setRestrictFrameRate(e)),I},this.on("styleValueChanged",(function(e,t){if(P)switch(e){case"nameDisplayMode":P.name.setDisplayMode(t),P.backingBar.setNameMode(t);break;case"videoUnsupportedDisplayMode":P.videoUnsupportedIndicator.setDisplayMode(t);break;case"videoDisabledDisplayMode":P.videoDisabledIndicator.setDisplayMode(t);break;case"audioBlockedDisplayMode":P.audioBlockedIndicator.setDisplayMode(t);break;case"showArchiveStatus":P.archive.setShowArchiveStatus(t);break;case"buttonDisplayMode":Et.update();break;case"audioLevelDisplayMode":P.audioLevel.setDisplayMode(t);break;case"bugDisplayMode":break;case"backgroundImageURI":N.setBackgroundImageURI(t)}}),this),this._={getDataChannel:function(e,t,n){return(0,a.default)(o.default.mark((function r(){return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(R()){r.next=3;break}return n(new Te.Error("Cannot create a DataChannel before there is a publisher connection.")),r.abrupt("return");case 3:return r.next=5,R();case 5:r.sent.getDataChannel(e,t,n);case 6:case"end":return r.stop()}}),r)})))()},iceRestart:function(e){return(0,a.default)(o.default.mark((function t(){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k("MANTIS");case 2:(n=t.sent)?(ct("Attempt",{reason:e}),_e.debug("Subscriber: iceRestart attempt"),n.iceRestart()):_e.debug("Subscriber: Skipping ice restart, we have no peer connection");case 4:case"end":return t.stop()}}),t)})))()},unblockAudio:function(){return N&&N.unblockAudio()},webRtcStream:function(){return B},privateEvents:new v,startRoutedToRelayedTransition:function(){return(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qe.testNetwork||r(Fe,Ue))return e.abrupt("return");e.next=2;break;case 2:return rt("Attempt"),e.next=5,k("MANTIS");case 5:if(null!=(t=e.sent)&&t.iceConnectionStateIsConnected()){e.next=9;break}return rt("Failure",{reason:"Attempted to transition to Relayed without being connected in Routed mode."}),e.abrupt("return");case 9:Qe.subscriberCreate(Fe.id,X,Dt,"P2P",(function(e,t){e&&!it.is("disconnected")&&rt("Failure",e),_e.debug("message received when created a subscriber with source",t)}));case 10:case"end":return e.stop()}}),e)})))()},startRelayedToRoutedTransition:function(){return(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qe.testNetwork||r(Fe,Ue))return e.abrupt("return");e.next=2;break;case 2:return D("Attempt"),t=te.MANTIS,B=t,e.next=7,$e(t);case 7:return N.loading(!1),Ze("P2P"),K="MANTIS",Je("P2P"),e.next=13,R();case 13:t=e.sent,xt(t),D("Success");case 16:case"end":return e.stop()}}),e)})))()},setSinkId:function(e){if(N&&N.video())return N.setSinkId(e);_e.debug("Called setAudioOutputDevice on a subscriber without a video element")},pauseAndPlayVideoElement:function(){N&&N.pauseAndPlayVideoElement()}},j=new Ie((function(e){_e.error("OT.Subscriber State Change Failed: ",e.message),_e.debug(e)})),_e.debug("OT.Subscriber: subscribe to ".concat(Fe.id)),j.set("Init"),!Fe)return _e.error("OT.Subscriber: No stream parameter."),!1;W={updated:function(e){var t=N&&N.video();switch(e.changedProperty){case"videoDimensions":if(!t)break;t.orientation({width:e.newValue.width,height:e.newValue.height,videoOrientation:e.newValue.orientation}),I.dispatchEvent(new pe.VideoDimensionsChangedEvent(I,e.oldValue,e.newValue));break;case"videoDisableWarning":P&&P.videoDisabledIndicator.setWarning(e.newValue),I.dispatchEvent(new pe.VideoDisableWarningEvent(e.newValue?"videoDisableWarning":"videoDisableWarningLifted")),ze="videoDisableWarning"===e.newValue?1:null;break;case"hasVideo":Ct(!Fe.hasVideo||!qe.subscribeToVideo),"Safari"===le.name&&!Fe.hasVideo&&N&&N.bindAudioTrackOnly(),I.dispatchEvent(new pe.VideoEnabledChangedEvent(Fe.hasVideo?"videoEnabled":"videoDisabled",{reason:"publishVideo"}));break;case"hasAudio":Et.update()}}},Fe.on(W,this),qe.name=qe.name||Fe.name,qe.classNames="OT_root OT_subscriber",qe.style&&this.setStyle(qe.style,null,!0),q=100,qe.subscribeToVideo=g(qe.subscribeToVideo,!0),qe.subscribeToAudio=g(qe.subscribeToAudio,!0),this.subscribeToAudio(qe.subscribeToAudio),this.setAudioVolume(void 0!==(T=qe).audioVolume?T.audioVolume:!1===T.subscribeToAudio?0:100),(N=new n.WidgetView(e,(0,i.default)({},qe,{widgetType:"subscriber"}))).on("error",pt),N.on("audioBlocked",(function(){return I.trigger("audioBlocked")})),N.on("audioUnblocked",(function(){return I.trigger("audioUnblocked")})),this.id=N.domId(),je=N.domId(),this.element=N.domElement,N.on("videoElementCreated",(function(e){var t=new pe.VideoElementCreatedEvent(e),n=I;Le?I.dispatchEvent(t):I.once("loaded",(function(){n.dispatchEvent(t)}))})),this.element&&function(){var e,t,n={backingBar:new ue({nameMode:qe.name?I.getStyle("nameDisplayMode"):"off",muteMode:Et.get()}),name:new Ee({name:qe.name,mode:I.getStyle("nameDisplayMode")}),muteButton:new we({muted:0===G,mode:Et.get()})};Z&&(e=new ce,M=new se({mode:J.getStyle("audioLevelDisplayMode")}),t=new w((function(){M.setValue(e.transform(I.loudness))})),M.watchVisibilityChanged((function(e){e?t.start():t.stop()})),M.setDisplayMode(I.getStyle("audioLevelDisplayMode")),M.audioOnly(!1),n.audioLevel=M),n.videoDisabledIndicator=new Ae({mode:I.getStyle("videoDisabledDisplayMode")}),n.audioBlockedIndicator=new ke({mode:I.getStyle("audioBlockedDisplayMode")}),n.videoUnsupportedIndicator=new Re({mode:I.getStyle("videoUnsupportedDisplayMode")}),N&&N.domElement&&(P=new de({parent:N.domElement}).set(n).on({muted:function(){J.setAudioVolume(0)},unmuted:function(){J.setAudioVolume(q)}},I)).hideWhileLoading()}.call(this),T=Fe.getChannelsOfType("audio"),e=Fe.getChannelsOfType("video");var Dt=T.map((function(e){return{id:e.id,type:e.type,active:qe.subscribeToAudio}})).concat(e.map((function(e){return e={id:e.id,type:e.type,active:qe.subscribeToVideo,restrictFrameRate:void 0!==qe.restrictFrameRate&&qe.restrictFrameRate},void 0!==qe.preferredFrameRate&&(e.preferredFrameRate=parseFloat(qe.preferredFrameRate)),void 0!==qe.preferredHeight&&(e.preferredHeight=parseInt(qe.preferredHeight,10)),void 0!==qe.preferredWidth&&(e.preferredWidth=parseInt(qe.preferredWidth,10)),e})));return T=!qe.testNetwork&&r(Fe,Ue),it.beginConnect(),T?this._subscribeToSelf():Qe.subscriberCreate(Fe.id,X,Dt,null,(function(e,t){var n;e&&!it.is("disconnected")&&(e=S(e=e),Ce.handleJsException({error:e,code:e.code,target:J,analytics:Q}),I._disconnect({noStateTransition:!0}),n={failureReason:"Subscribe",failureMessage:"OT.Subscriber PeerConnection Error: ".concat(e.message),failureCode:he.P2P_CONNECTION_FAILED},St(e.code),it.fail({options:n,error:Se(e.name,new Error("Subscribe: Subscriber PeerConnection with connection (not found) "+"failed: ".concat(e.message)),e.code)}),e.name===C.STREAM_NOT_FOUND&&I._destroy({reason:"streamNotFound",noStateTransition:!0})),Ge=Pe(t)})),this}var Y,se=void 0===(ge=(e=void 0===e?{}:e).AudioLevelMeter)?x:ge,ce=void 0===(ge=e.AudioLevelTransformer)?I:ge,ue=void 0===(ge=e.BackingBar)?A:ge,de=void 0===(ge=e.Chrome)?k:ge,le=void 0===(ge=e.env)?R:ge,fe=void 0===(ge=e.Errors)?D:ge,pe=void 0===(ge=e.Events)?N:ge,he=void 0===(ge=e.ExceptionCodes)?P:ge,ve=void 0===(ge=e.audioLevelSampler)?U:ge,me=void 0===(ge=e.getStatsHelpers)?M:ge,ge=void 0===(ge=e.hasAudioOutputLevelStatCapability)?L:ge,be=void 0===(xe=e.hasRemoteStreamsWithWebAudio)?j:xe,ye=void 0===(xe=e.interpretPeerConnectionError)?F:xe,_e=void 0===(xe=e.logging)?B:xe,we=void 0===(xe=e.MuteButton)?V:xe,Ee=void 0===(xe=e.NamePanel)?z:xe,Se=void 0===(xe=e.otError)?W:xe,Ce=void 0===(xe=e.OTErrorClass)?H:xe,Te=void 0===(xe=e.OTHelpers)?G:xe,Oe=void 0===(xe=e.StylableComponent)?q:xe,xe=void 0===(xe=e.SubscriberPeerConnection)?K:xe,Ie=void 0===(Y=e.SubscribingState)?Q:Y,Ae=void 0===(Y=e.VideoDisabledIndicator)?X:Y,ke=void 0===(Y=e.AudioBlockedIndicator)?Z:Y,Re=void 0===(Y=e.VideoUnsupportedIndicator)?J:Y,De=void 0===(Y=e.watchFrameRate)?$:Y,Ne=void 0===(Y=e.createSendMethod)?ee:Y,Pe=void 0===(Y=e.parseIceServers)?te:Y,Me=void 0===(Y=e.document)?(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).document:Y;return e=void 0===(Y=e.WidgetView)?T:Y,n.hasAudioOutputLevelStatCapability=ge,n.WidgetView=e,n.SubscriberPeerConnection=xe,n}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(2);e.exports=function(){return-1<["Chrome","Opera","Safari"].indexOf(r.name)}},function(e,t,n){"use strict";var r=n(2).name;e.exports=function(){return-1<["Firefox","Safari","Edge","Chrome","Opera"].indexOf(r)}},function(e,t,n){"use strict";(n=n(160)()("NotSubscribing",["NotSubscribing","Init","Connecting","BindingRemoteStream","Subscribing","Failed","Destroyed"],{NotSubscribing:["NotSubscribing","Init","Destroyed"],Init:["NotSubscribing","Connecting","BindingRemoteStream","Destroyed"],Connecting:["NotSubscribing","BindingRemoteStream","Failed","Destroyed"],BindingRemoteStream:["NotSubscribing","Subscribing","Failed","Destroyed","BindingRemoteStream"],Subscribing:["NotSubscribing","Failed","Destroyed","BindingRemoteStream"],Failed:["Destroyed"],Destroyed:[]})).prototype.isDestroyed=function(){return"Destroyed"===this.current},n.prototype.isFailed=function(){return"Failed"===this.current},n.prototype.isSubscribing=function(){return"Subscribing"===this.current},n.prototype.isAttemptingToSubscribe=function(){return-1!==["Init","Connecting","BindingRemoteStream"].indexOf(this.current)},n.prototype.isStreamAdded=function(){return"BindingRemoteStream"===this.current||this.isSubscribing()},e.exports=n},function(e,t,n){"use strict";var r=n(3)(n(25));e.exports=function(e){var t=e.socket,n=e.uri,i=e.content;return function(e,o){return t.send({uri:n,method:e,content:(0,r.default)({},i,o)})}}},function(e,t,n){var r;r=function(){return t=[function(e,t,n){"use strict";e.exports=function(e,t){for(var n,r,i=1;i<arguments.length;i++)for(r in n=arguments[i])n.hasOwnProperty(r)&&(e[r]=n[r]);return e}},function(e,t,n){"use strict";var r=n(0);e.exports={build:function(e,t){for(var n,i=t.plugins,o=0,a=i.length;o<a;o++)(n=i[o]).methods&&r(e,n.methods),n.properties&&Object.defineProperties(e,n.properties)},hook:function(e,t,n){var r,i,o,a,s=e.config.plugins,c=[e.context];for(n&&(c=c.concat(n)),r=0,i=s.length;r<i;r++)a=s[r],(o=s[r][t])&&o.apply(a,c)}}},function(e,t,n){"use strict";function r(e){if(0===e.length)return e;var t,n,r=e.split(/[_-]/);if(1===r.length&&r[0][0].toLowerCase()===r[0][0])return e;for(n=r[0].toLowerCase(),t=1;t<r.length;t++)n=n+r[t].charAt(0).toUpperCase()+r[t].substring(1).toLowerCase();return n}r.prepended=function(e,t){return e+(t=r(t))[0].toUpperCase()+t.substring(1)},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(2);function o(e,t){this.options=e=e||{},this.defaults=t.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(e.init),this.data=this.configureData(e.data),this.methods=this.configureMethods(e.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(e.transitions||[]),this.plugins=this.configurePlugins(e.plugins,t.plugin)}r(o.prototype,{addState:function(e){this.map[e]||(this.states.push(e),this.addStateLifecycleNames(e),this.map[e]={})},addStateLifecycleNames:function(e){this.lifecycle.onEnter[e]=i.prepended("onEnter",e),this.lifecycle.onLeave[e]=i.prepended("onLeave",e),this.lifecycle.on[e]=i.prepended("on",e)},addTransition:function(e){this.transitions.indexOf(e)<0&&(this.transitions.push(e),this.addTransitionLifecycleNames(e))},addTransitionLifecycleNames:function(e){this.lifecycle.onBefore[e]=i.prepended("onBefore",e),this.lifecycle.onAfter[e]=i.prepended("onAfter",e),this.lifecycle.on[e]=i.prepended("on",e)},mapTransition:function(e){var t=e.name,n=e.from,r=e.to;return this.addState(n),"function"!=typeof r&&this.addState(r),this.addTransition(t),this.map[n][t]=e},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(e){return"string"==typeof e?this.mapTransition(r({},this.defaults.init,{to:e,active:!0})):"object"===_typeof(e)?this.mapTransition(r({},this.defaults.init,e,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(e){return"function"==typeof e?e:"object"===_typeof(e)?function(){return e}:function(){return{}}},configureMethods:function(e){return e||{}},configurePlugins:function(e,t){for(var n,r=0,i=(e=e||[]).length;r<i;r++)"function"==typeof(n=e[r])&&(e[r]=n=n()),n.configure&&n.configure(this);return e},configureTransitions:function(e){for(var t,n,r,i,o=this.defaults.wildcard,a=0;a<e.length;a++)for(n=e[a],r=Array.isArray(n.from)?n.from:[n.from||o],i=n.to||o,t=0;t<r.length;t++)this.mapTransition({name:n.name,from:r[t],to:i})},transitionFor:function(e,t){var n=this.defaults.wildcard;return this.map[e][t]||this.map[n][t]},transitionsFor:function(e){var t=this.defaults.wildcard;return Object.keys(this.map[e]).concat(Object.keys(this.map[t]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),e.exports=o},function(e,t,n){var r=n(0),i=n(6),o=n(1),a=[null,[]];function s(e,t){this.context=e,this.config=t,this.state=t.init.from,this.observers=[e]}r(s.prototype,{init:function(e){if(r(this.context,this.config.data.apply(this.context,e)),o.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(e){return Array.isArray(e)?0<=e.indexOf(this.state):this.state===e},isPending:function(){return this.pending},can:function(e){return!this.isPending()&&!!this.seek(e)},cannot:function(e){return!this.can(e)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(e,t){var n=this.config.defaults.wildcard;return"function"==typeof(e=(e=this.config.transitionFor(this.state,e))&&e.to)?e.apply(this.context,t):e===n?this.state:e},fire:function(e,t){return this.transit(e,this.state,this.seek(e,t),t)},transit:function(e,t,n,r){var i=this.config.lifecycle,o=this.config.options.observeUnchangedState||t!==n;return n?this.isPending()?this.context.onPendingTransition(e,t,n):(this.config.addState(n),this.beginTransit(),r.unshift({transition:e,from:t,to:n,fsm:this.context}),this.observeEvents([this.observersForEvent(i.onBefore.transition),this.observersForEvent(i.onBefore[e]),o?this.observersForEvent(i.onLeave.state):a,o?this.observersForEvent(i.onLeave[t]):a,this.observersForEvent(i.on.transition),o?["doTransit",[this]]:a,o?this.observersForEvent(i.onEnter.state):a,o?this.observersForEvent(i.onEnter[n]):a,o?this.observersForEvent(i.on[n]):a,this.observersForEvent(i.onAfter.transition),this.observersForEvent(i.onAfter[e]),this.observersForEvent(i.on[e])],r)):this.context.onInvalidTransition(e,t,n)},beginTransit:function(){this.pending=!0},endTransit:function(e){return this.pending=!1,e},failTransit:function(e){throw this.pending=!1,e},doTransit:function(e){this.state=e.to},observe:function(e){var t;2===e.length?((t={})[e[0]]=e[1],this.observers.push(t)):this.observers.push(e[0])},observersForEvent:function(e){for(var t,n=0,r=this.observers.length,i=[];n<r;n++)(t=this.observers[n])[e]&&i.push(t);return[e,i,!0]},observeEvents:function(e,t,n,r){if(0===e.length)return this.endTransit(void 0===r||r);var i=e[0][0],a=e[0][1],s=e[0][2];return(t[0].event=i)&&s&&i!==n&&o.hook(this,"lifecycle",t),0===a.length?(e.shift(),this.observeEvents(e,t,i,r)):(n=(s=a.shift())[i].apply(s,t))&&"function"==typeof n.then?n.then(this.observeEvents.bind(this,e,t,i)).catch(this.failTransit.bind(this)):!1===n?this.endTransit(!1):this.observeEvents(e,t,i,n)},onInvalidTransition:function(e,t,n){throw new i("transition is invalid in current state",e,t,n,this.state)},onPendingTransition:function(e,t,n){throw new i("transition is invalid while previous transition is still in progress",e,t,n,this.state)}}),e.exports=s},function(e,t,n){"use strict";var r=n(0),i=n(2),o=n(1),a=n(3),s=n(4),c={is:function(e){return this._fsm.is(e)},can:function(e){return this._fsm.can(e)},cannot:function(e){return this._fsm.cannot(e)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(e,t,n){return this._fsm.onInvalidTransition(e,t,n)},onPendingTransition:function(e,t,n){return this._fsm.onPendingTransition(e,t,n)}},u={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(e){throw Error("use transitions to change state")}}};function d(e){return l(this||{},e)}function l(e,t){return f(e,new a(t,d)),e._fsm(),e}function f(e,t){if("object"!==_typeof(e)||Array.isArray(e))throw Error("StateMachine can only be applied to objects");o.build(e,t),Object.defineProperties(e,u),r(e,c),r(e,t.methods),t.allTransitions().forEach((function(t){e[i(t)]=function(){return this._fsm.fire(t,[].slice.call(arguments))}})),e._fsm=function(){this._fsm=new s(this,t),this._fsm.init(arguments)}}d.version="3.0.1",d.factory=function(){var e,t="function"==typeof arguments[0]?(e=arguments[0],arguments[1]||{}):(e=function(){this._fsm.apply(this,arguments)},arguments[0]||{});return t=new a(t,d),f(e.prototype,t),e.prototype._fsm.config=t,e},d.apply=l,d.defaults={wildcard:"*",init:{name:"init",from:"none"}},e.exports=d},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){this.message=e,this.transition=t,this.from=n,this.to=r,this.current=i}}],n={},e.m=t,e.c=n,e.i=function(e){return e},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=5);function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var t,n},e.exports=r()},function(e,t,n){"use strict";n=n(102)(),e.exports=n},function(e,t,n){"use strict";(function(t){e.exports=function(e){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return new t((function(t,n){e.apply(void 0,r.concat([function(e){if(e)n(e);else{for(var r=arguments.length,i=new Array(1<r?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];1===i.length?t(i[0]):t(i)}}]))}))}}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(15),i=n(9),o=n(681),a=n(682);e.exports=function(e){var t=(e=void 0===e?{}:e).Errors||n(4),s=e.ExceptionCodes||n(8),c=e.logging||n(1)("publisherInit"),u=e.otError||n(11)(),d=e.OTHelpers||n(5),l=e.Publisher||n(168)(),f=e.sessionObjects||n(20);return function(e,n,p){function h(e){m.off("initSuccess",b),e&&g(e)}c.debug("OT.initPublisher(".concat(e,")")),"string"!=typeof e||document.getElementById(e)||(e=n,n=p,p=arguments[3]),"function"==typeof e?(p=e,e=n=void 0):i(e)&&!d.isElementNode(e)&&(p=n,n=e,e=void 0),"function"==typeof n&&(p=n,n=void 0),n&&(i(n)?!1===n.insertDefaultUI&&e?v="You cannot specify a target element if insertDefaultUI is false":o(n.audioSource)&&o(n.videoSource)&&(v="You cannot specify both audioSource and videoSource as null or false"):(v="properties argument to Publisher constructor, if provided, should be an object",n=void 0)),a(n);var v,m=new l(n||{}),g=(f.publishers.add(m),function(){p&&r(p)&&(p.apply(void 0,arguments),p=void 0)}),b=(void 0!==v&&(c.error(v),g(u(t.INVALID_PARAMETER,new Error(v),s.INVALID_PARAMETER))),function(e){m.off("publishComplete",h),g(e)});return m.once("initSuccess",b),m.once("publishComplete",h),m.publish(e),m}}},function(e,t,n){"use strict";(function(t){var r=n(3)(n(25)),i=n(41),o=n(683),a=n(9),s=n(15),c=n(7),u=n(26),d=n(6),l=n(27),f=n(44)(),p=n(74),h=n(307),v=n(685),m=n(686),g=n(138).prependProxyToUrlIfNeeded,b=n(139).getProxyUrl;e.exports=function(e){var y=(e=void 0===e?{}:e).adaptIceServers||n(100).adaptIceServers,_=e.AnalyticsHelper||l,w=e.APIKEY||n(72),E=e.Capabilities||n(169),S=e.convertAnvilErrorCode||n(687),C=e.convertRumorError||n(310),T=e.Errors||n(4),O=e.Events||n(22)(),x=e.Stream||n(170),I=e.ExceptionCodes||n(8),A=e.hasIceRestartsCapability||n(311),k=e.logging||n(1)("Session"),R=e.otError||n(11)(),D=e.OTErrorClass||n(21),N=e.OTHelpers||n(5),P=n(688),M=e.StaticConfig||f,L=e.staticConfig||M.onlyLocal(),j=e.Publisher||n(168)(),U=e.RaptorSocket||n(689).default(),F=e.SessionDispatcher||n(318),B=e.sessionObjects||n(20),V=e.sessionTag||n(317),z=e.socketCloseCodes||n(76),W=e.Subscriber||n(300)(),H=e.systemRequirements||n(152),G=e.uuid||n(19),q=m({otError:R}),Y=e.global||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global),K=e.getSessionInfo||n(713)(),Q=n(141),X=e.initPublisher||n(308)({Publisher:j});return function(e,n,l){function f(){var e=this,t=(_e.debug("OT.Session: connecting to Raptor"),g(this.sessionInfo.messagingURL,le));(J=new U(ye,be,t,this.sessionInfo.symphonyAddress,F(this,{connectionEventsSuppressed:ue}),fe,["forceMute","adaptive"])).connect(ee,this.sessionInfo,{connectionEventsSuppressed:ue},(function(t,n){var r,i,a;if(t)return r={},"ConnectToSession"!==t.reason&&"GetSessionState"!==t.reason||(a=C(t),c(r,{originalMessage:t.message,originalCode:t.code}),t.code=a.code,t.message=a.message),(t.code||t.message||t.reason)&&(i={failureCode:t.code,failureMessage:t.message,failureReason:t.reason,socketId:J.socketId}),J=null,e.logConnectivityEvent("Failure",r,i),(a=function(e,t){var n;switch(e){case"WebSocketConnection":if(n=o(z.codes,(function(e){return e===t})))return T["SOCKET_".concat(n)];break;case"ConnectToSession":case"GetSessionState":switch(t){case I.CONNECT_FAILED:return T.CONNECT_FAILED;case I.UNEXPECTED_SERVER_RESPONSE:return T.UNEXPECTED_SERVER_RESPONSE;case I.CONNECTION_LIMIT_EXCEEDED:return T.CONNECTION_LIMIT_EXCEEDED}}}(t.reason,t.code))&&(t=R(a,new Error(t.message),t.code)),void Te.call(e,t);_e.debug("OT.Session: Received session state from Raptor",n),e.connection=e.connections.get(J.id()),e.connection&&(e.capabilities=e.connection.permissions),Ce("connected"),e.logConnectivityEvent("Success",{connectionId:e.connection.id}),e.connection.on("destroyed",Oe,e),e.dispatchEvent(new O.SessionConnectEvent(u.SESSION_CONNECTED)),e.connections.on({add:xe,remove:Ie},e),e.streams.on({add:Ae,remove:Re,update:ke},e),e.archives.on({add:De,remove:Ne,update:Pe},e),e.connections._triggerAddEvents(),e.streams._triggerAddEvents(),e.archives._triggerAddEvents(),N.env.isiOS&&13.3<=N.env.iOSVersion&&e.on("gsmCallEnded",Me)}))}function m(){return ae.isNot("connected")?We(P.NOT_CONNECTED):Ve("forceMute")?null:We(P.PERMISSION_DENIED)}function Z(e){return"404"===e.code?We(P.NOT_FOUND):"403"===e.code?We(P.PERMISSION_DENIED):We(P.UNEXPECTED_SERVER_RESPONSE)}var J,$,ee,te,ne,re,ie,oe,ae=this,se=this,ce=(l=void 0===l?{}:l).iceConfig,ue=l.connectionEventsSuppressed,de=void 0!==(l=l.ipWhitelist)&&l,le=b(),fe=new _,pe=(d(this),this._tag=V,H.check()||H.upgrade(),null==n&&(n=e,e=null),q(ce),this.id=n,this.sessionId=n,!0),he=!1,ve=e,me=this,ge=n,be=G(),ye=G(),_e=k,we=!1,Ee=[],Se=null,Ce=N.statable(this,["disconnected","connecting","connected","disconnecting"],"disconnected"),Te=(this.connection=null,this.connections=new N.Collection,this.streams=new N.Collection,this.archives=new N.Collection,function(e){Ce("disconnected"),e.code||(e.code=I.CONNECT_FAILED),_e.error("".concat(e.name||"Unknown Error",": ").concat(e.message)),D.handleJsException({error:e,target:this,analytics:fe}),this.trigger("sessionConnectFailed",e)}),Oe=function(e){var t=this,n=(he=!1,e.reason),r=(this.logEvent("Connect","Disconnected",{reason:e.reason}),new O.SessionDisconnectEvent("sessionDisconnected",n.replace("networkTimedout","networkDisconnected")));this.isConnected()&&this.disconnect(),je(),Ue.call(this,n),setTimeout((function(){t.dispatchEvent(r),Fe.call(t,r.reason),r.isDefaultPrevented()||Be.call(t,r.reason)}))},xe=function(e){ue||e.id.match(/^symphony\./)||this.dispatchEvent(new O.ConnectionEvent(u.CONNECTION_CREATED,e))},Ie=function(e,t){e.id.match(/^symphony\./)||J&&e.id===J.id()||this.dispatchEvent(new O.ConnectionEvent(u.CONNECTION_DESTROYED,e,t))},Ae=function(e){!e||!e.connection||this.connection&&e.connection.id===this.connection.id||this.dispatchEvent(new O.StreamEvent(u.STREAM_CREATED,e,null,!1))},ke=function(e){var t=e.target,n=e.changedProperty,r=e.newValue;"videoDisableWarning"!==n&&"audioDisableWarning"!==n&&("videoDimensions"===n&&(r={width:r.width,height:r.height}),this.dispatchEvent(new O.StreamPropertyChangedEvent(u.STREAM_PROPERTY_CHANGED,t,n,e.oldValue,r)))},Re=function(e,t){var n=this,r=(void 0===t&&(t="clientDisconnected"),new O.StreamEvent("streamDestroyed",e,t,!0));e.connection.id===this.connection.id?B.publishers.where({streamId:e.id}).forEach((function(n){n._.unpublishStreamFromSession(e,this,t)}),this):this.dispatchEvent(r),B.subscribers.where({streamId:e.id}).filter((function(e){return e.session.id===n.id&&e.stream})).forEach((function(e){e._disconnect({reason:t}),r.isDefaultPrevented()||e._destroy({reason:t,noStateTransition:!0})}))},De=function(e){this.dispatchEvent(new O.ArchiveEvent("archiveStarted",e))},Ne=function(e){this.dispatchEvent(new O.ArchiveEvent("archiveDestroyed",e))},Pe=function(e){var t=e.target,n=e.changedProperty;e=e.newValue,"status"===n&&"stopped"===e?this.dispatchEvent(new O.ArchiveEvent("archiveStopped",t)):this.dispatchEvent(new O.ArchiveEvent("archiveUpdated",t))},Me=function(){return B.subscribers.forEach((function(e){return e._.pauseAndPlayVideoElement()}))},Le=function(){me.token=null,ee=null,Ce("disconnected"),J=null,$&&($.stop(),$=null),me.connection=null,me.capabilities=new E([]),me.connections.destroy(),me.streams.destroy(),me.archives.destroy()},je=function(){ye=G(),Le()},Ue=function(e){B.publishers.where({session:this}).forEach((function(t){t.disconnect(e)})),B.subscribers.where({session:this}).forEach((function(e){e._disconnect()}))},Fe=function(e){B.publishers.where({session:this}).forEach((function(t){t._.streamDestroyed(e)}))},Be=function(e){B.subscribers.where({session:this}).forEach((function(t){t._destroy({reason:e})}))},Ve=function(e){return ae.capabilities.permittedTo(e)},ze=function(e,t){k.error("".concat(e.name,": ").concat(e.message)),"function"==typeof t&&t(e),D.handleJsException({error:e,target:ae,analytics:fe})},We=function(e){return e=R(e.code,new Error(e.message),e.exceptionCode),ze(e),e};this.reportIssue=function(e){return e=e.id,h(fe.logEvent.bind(fe))({action:"ReportIssue",variation:"Event",connectionId:ye,payload:{reportIssueId:e}},null)},this.logEvent=function(e,t,n,r){e={action:e,variation:t,payload:n,sessionId:ge,messagingServer:ne,p2p:te,partnerId:ve,connectionId:ye},r&&(e=c(r,e)),fe.logEvent(e)},this.logConfigurationFileEvent=function(e,t,n){var i;void 0===t&&(t=null),void 0===n&&(n={}),"Attempt"===e?ie=(new Date).getTime():"Failure"!==e&&"Success"!==e||(i=(new Date).getTime()-ie,c(n,{attemptDuration:i})),le&&(n.proxyUrl=le),this.logEvent("ConfigurationFile",e,t,(0,r.default)({},n))},this.logConnectivityEvent=function(e,t,n){var i,o=this;void 0===t&&(t=null),void 0===n&&(n={}),le&&(n.proxyUrl=le),"Attempt"===e&&($&&($.stop(),k.error("_connectivityAttemptPinger should have been cleaned up")),re=(new Date).getTime(),($=new p((function(){o.logEvent("Connect","Attempting",t,(0,r.default)({},n))}),.2,6)).start()),"Failure"===e||"Success"===e||"Cancel"===e?(i=function(i){$&&($.stop(),$=void 0),o.logEvent("Connect",e,t,(0,r.default)({},n,{attemptDuration:(new Date).getTime()-re,iceConfig:i,ipWhitelist:de}))},"Success"===e?this._.getIceConfig().then((function(e){var t={includeServers:ce&&ce.includeServers||"all",transportPolicy:e.transportPolicy};t.servers=e.servers?e.servers.map((function(e){return{url:e.urls}})):[],i(t)})):i()):this.logEvent("Connect",e,t,n)},this.connect=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var c=1<i.length&&("string"==typeof i[0]||"number"==typeof i[0])&&"string"==typeof i[1]?(null==e&&(ve=i[0].toString()),i[1]):i[0],u=i[i.length-1];if(se.is("connecting","connected"))return _e.warn("OT.Session: Cannot connect, the session is already ".concat(se.state)),se;fe.sessionInfo=new Q,Le(),Ce("connecting");var d,l,p,h,v=ye;function m(){var e=ye!==v;return e&&k.debug("Connection was interrupted"),e}if(se.token=!s(c)&&c,ee=!s(c)&&c,pe?pe=!1:be=G(),u&&s(u)&&(d=function(){p();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];u.apply(void 0,[void 0].concat(t))},l=function(){p(),u.apply(void 0,arguments)},p=function(){se.off("sessionConnected",d),se.off("sessionConnectFailed",l)},se.once("sessionConnected",d),se.once("sessionConnectFailed",l)),null==ve||s(ve))return setTimeout(Te.bind(se,R(T.AUTHENTICATION_ERROR,new Error("API Key is undefined. You must pass an API Key to initSession."),I.AUTHENTICATION_ERROR))),se;if(!ge||a(ge)||Array.isArray(ge))return ge?(h="SessionID is not a string. You must use string as the session ID passed into OT.initSession().",ge=ge.toString()):h="SessionID is undefined. You must pass a sessionID to initSession.",setTimeout(Te.bind(se,R(T.INVALID_SESSION_ID,new Error(h),I.INVALID_SESSION_ID))),se.logConnectivityEvent("Attempt"),se.logConnectivityEvent("Failure",null,{failureReason:"ConnectToSession",failureCode:I.INVALID_SESSION_ID,failureMessage:h}),se;se.apiKey=ve.toString(),ve=ve.toString(),0===w.value.length&&(w.value=ve);var b=Boolean(M.onlyLocal().configUrl),y=!0===de&&Boolean(M.onlyLocal().ipWhitelistConfigUrl);return b||y?se.logConfigurationFileEvent("Attempt"):se.logConfigurationFileEvent("Event",{message:"No configUrl, using local config only"}),(b||y?M.get({partnerId:ve,token:c,useIpWhitelistConfigUrl:y,proxyUrl:le}):t.resolve(M.onlyLocal())).then((function(e){return(b||y)&&se.logConfigurationFileEvent("Success"),e}),(function(e){return(b||y)&&se.logConfigurationFileEvent("Failure",{failureMessage:e.message,failureStack:e.stack}),M.onlyLocal()})).then((function(e){if(se.staticConfig=e,!1===(fe.staticConfig=e).apiEnabled)throw R(T.API_KEY_DISABLED,new Error("The API KEY has been disabled. Access to the service is currently being restricted. Please contact support."));var t,r;if(!m())return se.logConnectivityEvent("Attempt"),le?se.logEvent("SessionInfo","Attempt",null,{proxyUrl:le}):se.logEvent("SessionInfo","Attempt"),t=function(e){e.code=S(e.code),se.logConnectivityEvent("Failure",null,{failureReason:"GetSessionInfo",failureCode:e.code||"No code",failureMessage:e.message,failureName:e.name}),e.name&&(e=R(e.name,new Error("".concat(e.message).concat(e.code?" (".concat(e.code,")"):"")),e.code)),Te.call(se,e)},r=g(e.apiUrl,le),K({anvilUrl:r,sessionId:n,token:ee,connectionId:ye,clientVersion:e.clientVersion}).then((function(n){if(!m()){if(n.partnerId&&n.partnerId!==ve)return void t(R(T.AUTHENTICATION_ERROR,new Error("Authentication Error: The API key does not match the token or session."),I.AUTHENTICATION_ERROR));var r,i={features:{reconnection:(fe.sessionInfo=n).reconnection,renegotiation:A()&&n.renegotiation,simulcast:void 0!==n.simulcast&&n.simulcast&&"Chrome"===N.env.name}};le&&(i.proxyUrl=le),se.is("connecting")&&(se.sessionInfo=n,se._.setIceServers(se.sessionInfo.iceServers),te=n.p2pEnabled,ne=n.messagingServer,se.logEvent("SessionInfo","Success",null,i,{messagingServer:n.messagingServer}),null!=(r=e.sessionInfoOverrides)&&"object"===_typeof(r)&&Object.keys(r).forEach((function(e){Object.defineProperty(se.sessionInfo,e,{value:r[e]})})),f.call(se))}}),t)})).catch((function(e){Te.call(se,e)})),se},this.disconnect=function(){J&&J.isNot("disconnected")?J.isNot("disconnecting")&&(J.isNot("connecting")||this.logConnectivityEvent("Cancel"),Ce("disconnecting"),J.disconnect(),this.off("gsmCallEnded",Me)):je()},this.destroy=function(){this.streams.destroy(),this.connections.destroy(),this.archives.destroy(),this.disconnect()},this.publish=function(e,t,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),n=n||function(){},this.isNot("connected"))return fe.logError(1010,"OT.exception","We need to be connected before you can publish",null,{action:"Publish",variation:"Failure",failureReason:"unconnected",failureCode:I.NOT_CONNECTED,failureMessage:"We need to be connected before you can publish",sessionId:ge,streamId:e&&e.stream?e.stream.id:null,p2p:this.sessionInfo?this.sessionInfo.p2pEnabled:void 0,messagingServer:this.sessionInfo?this.sessionInfo.messagingServer:null,partnerId:ve}),ze(R(T.NOT_CONNECTED,new Error("We need to be connected before you can publish"),I.NOT_CONNECTED),n),null;var r;if(!Ve("publish"))return r={failureReason:"Permission",failureCode:I.UNABLE_TO_PUBLISH,failureMessage:"This token does not allow publishing. The role must be at least `publisher` to enable this functionality"},this.logEvent("Publish","Failure",null,r),ze(R(T.PERMISSION_DENIED,new Error("This token does not allow publishing. The role must be at least `publisher` to enable this functionality"),I.UNABLE_TO_PUBLISH),n),null;if(!e||"string"==typeof e||N.isElementNode(e))e=X(e,t);else{if(!(e instanceof j))return void ze(R(T.INVALID_PARAMETER,new Error("Session.publish :: First parameter passed in is neither a string nor an instance of the Publisher"),I.UNABLE_TO_PUBLISH),n);"session"in e&&e.session&&"sessionId"in e.session&&(e.session.sessionId===this.sessionId?_e.warn("Cannot publish ".concat(e.guid()," again to ").concat(this.sessionId,". Please call session.unpublish(publisher) first.")):_e.warn("Cannot publish ".concat(e.guid()," publisher already attached to ").concat(e.session.sessionId,". Please call session.unpublish(publisher) first.")))}return we&&e._.forceMuteAudio(),e._.publishToSession(this,fe).catch((function(e){throw e.message="Session.publish :: ".concat(e.message),_e.error(e.code,e.message),e})).then((function(){return e})).then((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[null].concat(t))}),(function(e){return n(e)})),e},this.unpublish=function(e){e?e._.unpublishFromSession(this,"unpublished"):_e.error("OT.Session.unpublish: publisher parameter missing.")},this.subscribe=function(e,t,n,r){if("function"==typeof t&&(r=t,n=t=void 0),"function"==typeof n&&(r=n,n=void 0),r=r||function(){},this.connection&&this.connection.connectionId)if(e)if(Object.prototype.hasOwnProperty.call(e,"streamId")){var i;if(!n||!1!==n.insertDefaultUI||!t)return t&&!1===t.insertDefaultUI&&(n=t,t=void 0),i=new W(t,c(n||{},{stream:e,session:this,analytics:fe}),(function(e){e?ze(e,r):r(null,i)})),B.subscribers.add(i),i;ze(R(T.INVALID_PARAMETER,new Error("You cannot specify a target element if insertDefaultUI is false"),I.INVALID_PARAMETER),r)}else ze(R(T.INVALID_PARAMETER,new Error("Session.subscribe :: invalid stream object"),I.UNABLE_TO_SUBSCRIBE),r);else ze(R(T.INVALID_PARAMETER,new Error("Session.subscribe :: stream cannot be null"),I.UNABLE_TO_SUBSCRIBE),r);else ze(R(T.NOT_CONNECTED,new Error("Session.subscribe :: Connection required to subscribe"),I.UNABLE_TO_SUBSCRIBE),r)},this.unsubscribe=function(e){if(e)return e.stream?(_e.debug("OT.Session.unsubscribe: subscriber ".concat(e.id)),e._destroy({reason:"Unsubscribe"}),!0):(_e.warn("OT.Session.unsubscribe:: tried to unsubscribe a subscriber that had no stream"),!1);throw _e.error(e="OT.Session.unsubscribe: subscriber cannot be null"),new Error(e)},this.getSubscribersForStream=function(e){return B.subscribers.where({streamId:e.id})},this.getPublisherForStream=function(e){var t;if("string"==typeof e)t=e;else{if("object"!==_typeof(e)||!e||!Object.hasOwnProperty.call(e,"id"))throw _e.error("Session.getPublisherForStream :: Invalid stream type"),new Error("Session.getPublisherForStream :: Invalid stream type");t=e.id}return B.publishers.where({streamId:t})[0]},this._={getProxyUrl:function(){return le},isSocketReconnecting:function(){return he},getSocket:function(){return J},reconnecting:function(){he=!0,this.dispatchEvent(new O.SessionReconnectingEvent)}.bind(this),reconnected:function(){he=!1,this.dispatchEvent(new O.SessionReconnectedEvent),this.sessionInfo.reconnection&&(B.publishers.where({session:this}).forEach((function(e){e._.iceRestart()})),this.sessionInfo.p2pEnabled||B.subscribers.where({session:this}).forEach((function(e){e._.iceRestart("socket reconnected")})))}.bind(this),dispatchSignal:function(e,t,n){((n=new O.SignalEvent(t,n,e)).target=this).trigger(u.SIGNAL,n),t&&this.dispatchEvent(n)}.bind(this),subscriberChannelUpdate:function(e,t,n,r){return J?J.subscriberChannelUpdate(e.id,t.widgetId,n.id,r):(_e.warn("You are disconnected, cannot update subscriber properties ",r),null)},streamCreate:function(e,t,n,r,i,o,a){J?J.streamCreate(e,t,n,r,i,void 0,o,a):_e.warn("You are disconnected, cannot create stream ",t)},streamDestroy:function(e,t){J?J.streamDestroy(e,t):_e.warn("You are disconnected, cannot destroy stream ",e)},streamChannelUpdate:function(e,t,n){J?J.streamChannelUpdate(e.id,t.id,n):_e.warn("You are disconnected, cannot update stream properties ",n)},setSocket:function(e){J=e},setLogging:function(e){_e=e},setState:Ce,setIceServers:function(e){e&&(oe={iceServers:y(e),timestamp:Date.now()})},getOtIceServerInfo:function(){if(3e5<864e5-(oe?Date.now()-oe.timestamp:1/0))return t.resolve({transportPolicy:me&&me.sessionInfo&&me.sessionInfo.clientCandidates,servers:oe&&oe.iceServers});if(!ee)return t.resolve({transportPolicy:me&&me.sessionInfo&&me.sessionInfo.clientCandidates,servers:[],needRumorIceServersFallback:!0});var e=L.clientVersion;return K({anvilUrl:(this.staticConfig||L).apiUrl,sessionId:n,token:ee,connectionId:ye,clientVersion:e}).then((function(e){return me._.setIceServers(e.iceServers),oe?{transportPolicy:me&&me.sessionInfo&&me.sessionInfo.clientCandidates,servers:oe&&oe.iceServers}:{transportPolicy:me.sessionInfo.clientCandidates,servers:[],needRumorIceServersFallback:!0}}))},getCodecFlags:function(){return{h264:me.sessionInfo.h264,vp9:me.sessionInfo.vp9,vp8:me.sessionInfo.vp8}},getVideoCodecsCompatible:function(e){return v({RTCPeerConnection:Y.RTCPeerConnection,env:N.env,stream:e,codecFlags:me._.getCodecFlags()})},getIceConfig:function(){if(!ce)return me._.getOtIceServerInfo();var e=ce&&"relay"===ce.transportPolicy?"relay":me.sessionInfo.clientCandidates;return("custom"===ce.includeServers?t.resolve({servers:[]}):me._.getOtIceServerInfo()).then((function(t){return c(t,{transportPolicy:e,servers:[].concat(_toConsumableArray(t.servers),_toConsumableArray(ce.customServers))})}))},forceMute:function(e){this.dispatchEvent(new O.MuteForcedEvent(e))}.bind(this),enableMuteOnEntry:function(){we=!0},addSubscriberToPeerConnectionsQueue:function(e,t){Ee.push({pc:e,message:t}),Se=Se||setInterval((function(){var e=Ee.pop();e?e.pc.processMessage("offer",e.message):(clearInterval(Se),Se=null)}),100)},disableMuteOnEntry:function(){we=!1},privateEvents:new i},this.signal=function(e,t){var n=e,r=t||function(){};s(n)&&(r=n,n=null),this.isNot("connected")?ze(R(T.NOT_CONNECTED,new Error("Unable to send signal - you are not connected to the session."),500),r):(J.signal(n,(function(e){var t;if(e)return(t=function(e){switch(e){case 400:case 413:return T.INVALID_PARAMETER;case 429:return T.RATE_LIMIT_EXCEEDED;case 404:return T.NOT_FOUND;case 500:return T.NOT_CONNECTED;case 403:return T.PERMISSION_DENIED;case 2001:return T.UNEXPECTED_SERVER_RESPONSE;default:return}}(e.code))&&(e=R(t,new Error(e.message),e.code)),void r(e);for(var n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r.apply(void 0,[e].concat(i))}),this.logEvent),e&&e.data&&"string"!=typeof e.data&&_e.warn("Signaling of anything other than Strings is deprecated. Please update the data property to be a string."))},this.forceDisconnect=function(e,t){if(this.isNot("connected"))ze(R(T.NOT_CONNECTED,new Error("Cannot call forceDisconnect(). You are not connected to the session."),I.NOT_CONNECTED),t);else{e="string"==typeof e?e:e.id;var n="Invalid Parameter. Check that you have passed valid parameter values into the method call.";e?Ve("forceDisconnect")?J.forceDisconnect(e,(function(e){if(e)ze(R(T.INVALID_PARAMETER,new Error(n),I.INVALID_PARAMETER),t);else if(t&&s(t)){for(var r=arguments.length,i=new Array(1<r?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t.apply(void 0,[e].concat(i))}})):ze(R(T.PERMISSION_DENIED,new Error("This token does not allow forceDisconnect. The role must be at least `moderator` to enable this functionality"),I.UNABLE_TO_FORCE_DISCONNECT),t):ze(R(T.INVALID_PARAMETER,new Error(n),I.INVALID_PARAMETER),t)}},this.forceUnpublish=function(e,t){function n(e){ze(R(e.name,new Error(e.msg),e.code),t)}void 0===t&&(t=function(){});var r={msg:"Invalid Parameter. Check that you have passed valid parameter values into the method call.",code:I.INVALID_PARAMETER,name:T.INVALID_PARAMETER},i={msg:"Cannot call forceUnpublish(). You are not connected to the session.",code:I.NOT_CONNECTED,name:T.NOT_CONNECTED},o={msg:"This token does not allow forceUnpublish. The role must be at least `moderator` to enable this functionality",code:I.UNABLE_TO_FORCE_UNPUBLISH,name:T.PERMISSION_DENIED},a={msg:"The stream does not exist.",name:T.NOT_FOUND},s={msg:"An unexpected error occurred.",name:T.UNEXPECTED_SERVER_RESPONSE,code:I.UNEXPECTED_SERVER_RESPONSE};e?se.isNot("connected")?n(i):(e="string"==typeof(i=e)?ae.streams.get(i)||{id:i}:i,Ve("forceUnpublish")?J.forceUnpublish(e.id,(function(e){e?"404"===e.code?n(a):"403"===e.code?n(o):n(s):t(null)})):n(o)):n(r)},this.forceMuteStream=function(e){return new t((function(t,n){var r=m();r?n(r):e&&e.id?J.forceMuteStream(e.id,(function(e){e?n(Z(e)):t()})):n(We(P.INVALID_PARAMETER))}))},this.forceMuteAll=function(e){return new t((function(t,n){var r=m();r?n(r):Array.isArray(e)&&!e.every((function(e){return e instanceof x}))||e&&!Array.isArray(e)?n(We(P.INVALID_PARAMETER)):(r=(e||[]).map((function(e){return e.id})),J.forceMuteAll(r,!0,(function(e){e?n(Z(e)):t()})))}))},this.disableForceMute=function(){return new t((function(e,t){var n=m();n?t(n):J.forceMuteAll([],!1,(function(n){n?t(Z(n)):e()}))}))},this.isConnected=function(){return ae.is("connected")},this.capabilities=new E([])}}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(8),i=n(21),o=[400,403,409,r.CONNECTION_LIMIT_EXCEEDED],a="ConnectToSession";e.exports=function(e){var t,n;if(e.reason===a&&e.code===r.CONNECT_FAILED)t=e.code,n=i.getTitleByCode(e.code);else if(e.code&&-1<o.indexOf(Number(e.code)))switch(t=r.CONNECT_FAILED,e.reason){case a:n=e.code===r.CONNECTION_LIMIT_EXCEEDED?(t=e.code,"Cannot connect -- the limit for concurrent connections to the session has been reached"):"Received error response to connection create message.";break;case"GetSessionState":n="Received error response to session read";break;default:n=""}else t=r.UNEXPECTED_SERVER_RESPONSE,n="Unexpected server response. Try this operation again later.";return{code:t,message:n}}},function(e,t,n){"use strict";var r=n(2),i=n(60).once;e.exports=function(){return i()&&(r.isChromiumEdge||["Chrome","Safari","Firefox","Opera"].includes(r.name))}},function(e,t,n){"use strict";e.exports=function(e){return JSON.stringify(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){var t=e.logger,n=e.obj;e.eventNames.forEach((function(e){n.on(e,(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spam("emitted",e,r)}))}))}},function(e,t,n){"use strict";function r(){a(this),this.callbacks={}}var i=n(15),o=n(21),a=n(6),s=n(1)("Dispatcher"),c=n(171),u=n(704);(e.exports=r).prototype.registerCallback=function(e,t){this.callbacks[e]=t},r.prototype.triggerCallback=function(e){var t,n;e&&((t=this.callbacks[e])&&i(t)&&((n=Array.prototype.slice.call(arguments)).shift(),t.apply(void 0,_toConsumableArray(n))),delete this.callbacks[e])},r.prototype.onClose=function(e){this.emit("close",e)},r.prototype.onReconnected=function(){this.emit("reconnected")},r.prototype.onReconnecting=function(){this.emit("reconnecting")},r.prototype.dispatch=function(e){if(e.type===c.STATUS){if(s.debug(e),e.isError){if("string"==typeof e.data)try{var t=JSON.parse(e.data);t&&"object"===_typeof(t)&&(n=t.reason)}catch(e){s.warn("Failed to parse rumorMessage.data",e)}t=new o(e.status,n)}var n=e.data?JSON.parse(e.data):"";return null!=n&&null!=(n=n.mute)&&n.active&&this.dispatchMuteOnEntry(),void this.triggerCallback(e.transactionId,t,e)}var r=u(e);switch(s.debug("".concat(r.signature,":"),r),r.resource){case"session":this.dispatchSession(r);break;case"connection":this.dispatchConnection(r);break;case"stream":this.dispatchStream(r);break;case"stream_channel":this.dispatchStreamChannel(r);break;case"subscriber":this.dispatchSubscriber(r);break;case"subscriber_channel":this.dispatchSubscriberChannel(r);break;case"signal":this.dispatchSignal(r);break;case"archive":this.dispatchArchive(r);break;case"source":this.dispatchSource(r);break;default:s.debug("Type ".concat(r.resource," is not currently implemented"))}},r.prototype.dispatchSession=function(e){switch(e.method){case"read":this.emit("session#read",e.content,e.transactionId);break;case"update":this.emit("session#update",e.content);break;default:s.debug("".concat(e.signature," is not currently implemented"))}},r.prototype.dispatchMuteOnEntry=function(){this.emit("session#muted")},r.prototype.dispatchConnection=function(e){switch(e.method){case"created":this.emit("connection#created",e.content);break;case"deleted":this.emit("connection#deleted",e.params.connection,e.reason);break;default:s.debug("".concat(e.signature," is not currently implemented"))}},r.prototype.dispatchStream=function(e){switch(e.method){case"created":this.emit("stream#created",e.content,e.transactionId);break;case"deleted":this.emit("stream#deleted",e.params.stream,e.reason,e.content);break;case"updated":this.emit("stream#updated",e.params.stream,e.content);break;case"update":this.emit("stream#update",e.params.stream,e.content);break;case"generateoffer":case"answer":case"pranswer":case"offer":case"candidate":this.dispatchJsep(e.method,e);break;default:s.debug("".concat(e.signature," is not currently implemented"))}},r.prototype.dispatchStreamChannel=function(e){"updated"===e.method?this.emit("streamChannel#updated",e.params.stream,e.params.channel,e.content):s.debug("".concat(e.signature," is not currently implemented"))},r.prototype.dispatchJsep=function(e,t){this.emit("jsep#".concat(e),t.params.stream,t.fromAddress,t)},r.prototype.dispatchSubscriberChannel=function(e){switch(e.method){case"updated":this.emit("subscriberChannel#updated",e.params.stream,e.params.channel,e.content);break;case"update":this.emit("subscriberChannel#update",e.params.subscriber,e.params.stream,e.content);break;default:s.debug("".concat(e.signature," is not currently implemented"))}},r.prototype.dispatchSubscriber=function(e){switch(e.method){case"created":this.emit("subscriber#created",e.params.stream,e.fromAddress,e.content.id);break;case"deleted":this.dispatchJsep("unsubscribe",e),this.emit("subscriber#deleted",e.params.stream,e.fromAddress);break;case"generateoffer":case"answer":case"pranswer":case"offer":case"candidate":this.dispatchJsep(e.method,e);break;default:s.debug("".concat(e.signature," is not currently implemented"))}},r.prototype.dispatchSignal=function(e){"signal"!==e.method?s.debug("".concat(e.signature," is not currently implemented")):this.emit("signal",e.fromAddress,e.content)},r.prototype.dispatchArchive=function(e){switch(e.method){case"created":this.emit("archive#created",e.content);break;case"updated":this.emit("archive#updated",e.params.archive,e.content)}},r.prototype.dispatchSource=function(e){switch(e.method){case"create":this.emit("source#create",e.params.source,e.params.stream,e.reason);break;case"delete":this.emit("source#delete",e.params.source,e.params.stream,e.reason);break;default:s.debug("".concat(e.signature," is not currently implemented"))}}},function(e,t,n){"use strict";var r=n(19),i=n(5),o=n(707),a=n(708),s=n(312),c=n(709),u=n(44)().onlyLocal(),d={};(e.exports=d).connections={},d.connections.create=function(e){var t=e.apiKey,n=e.sessionId,r=e.connectionId,o=e.connectionEventsSuppressed;return e=e.capabilities,s({method:"create",uri:"/v2/partner/".concat(t,"/session/").concat(n,"/connection/").concat(r),content:{userAgent:i.env.userAgent,clientVersion:u.clientVersion,capabilities:e||[],connectionEventsSuppressed:o}})},d.connections.destroy=function(e){var t=e.apiKey,n=e.sessionId;return e=e.connectionId,s({method:"delete",uri:"/v2/partner/".concat(t,"/session/").concat(n,"/connection/").concat(e),content:{}})},d.sessions={},d.sessions.get=function(e,t){return s({method:"read",uri:"/v2/partner/".concat(e,"/session/").concat(t),content:{}})},d.streams={},d.streams.get=function(e,t,n){return s({method:"read",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n),content:{}})},d.streams.channelFromOTChannel=function(e){var t={id:e.id,type:e.type,active:e.active};return"video"===e.type&&(t.width=e.width,t.height=e.height,t.orientation=e.orientation,t.frameRate=e.frameRate,"default"!==e.source&&(t.source=e.source),t.fitMode=e.fitMode),t},d.streams.create=function(e){var t=(e=e=void 0===e?{}:e).apiKey,n=e.sessionId,r=e.streamId,i=e.name,o=e.audioFallbackEnabled,a=e.channels,c=e.minBitrate,u=e.maxBitrate;return e=e.sourceStreamId,i={id:r,name:i,audioFallbackEnabled:o,channel:a.map((function(e){return d.streams.channelFromOTChannel(e)}))},c&&(i.minBitrate=Math.round(c)),u&&(i.maxBitrate=Math.round(u)),e&&(i.sourceStreamId=e),s({method:"create",uri:"/v2/partner/".concat(t,"/session/").concat(n,"/stream/").concat(r),content:i})},d.streams.destroy=function(e,t,n,r){var i={};return r&&(i.sourceStreamId=r),s({method:"delete",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n),content:i})},d.streamChannels={},d.streamChannels.update=function(e,t,n,r,i){return s({method:"update",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n,"/channel/").concat(r),content:i})},d.subscribers={},d.subscribers.create=function(e){var t=(e=e=void 0===e?{}:e).apiKey,n=e.sessionId,r=e.streamId,i=e.subscriberId,u=e.connectionId,d=e.channelsToSubscribeTo;return e=e.sourceStreamId,u={id:i,connection:u,keyManagementMethod:c,bundleSupport:o(),rtcpMuxSupport:a()},d&&(u.channel=d),e&&(u.sourceStreamId=e),s({method:"create",uri:"/v2/partner/".concat(t,"/session/").concat(n,"/stream/").concat(r,"/subscriber/").concat(i),content:u})},d.subscribers.destroy=function(e,t,n,r){return s({method:"delete",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n,"/subscriber/").concat(r),content:{}})},d.subscribers.update=function(e,t,n,r,i){return s({method:"update",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n,"/subscriber/").concat(r),content:i})},d.subscriberChannels={},d.subscriberChannels.update=function(e,t,n,r,i,o){return s({method:"update",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n,"/subscriber/").concat(r,"/channel/").concat(i),content:o})},d.signals={},d.signals.create=function(e,t,n,i,o){var a={};return void 0!==i&&(a.type=i),void 0!==o&&(a.data=o),s({method:"signal",uri:"/v2/partner/".concat(e,"/session/").concat(t).concat(void 0!==n?"/connection/".concat(n):"","/signal/").concat(r()),content:a})},d.forceMute={},d.forceMute.update=function(e){var t=e.apiKey,n=e.sessionId,r=e.streamId,i={reason:"mute",channels:["audio"],active:i=e.active,locked:!1};return(e=e.excludedStreamIds)&&(i.exclusion=e),s({method:"update",uri:"/v2/partner/".concat(t,"/session/").concat(n).concat(r?"/stream/".concat(r):""),content:i})}},function(e,t,n){"use strict";var r=n(36),i=n(72),o=n(172),a=n(315),s=n(317);e.exports=function(e,t,n){var c,u,d=function(e){return!/^[a-zA-Z0-9\-\._~]+$/.exec(e)};this.toRaptorMessage=function(){var t=this.to;return t&&"string"!=typeof t&&(t=t.id),a.signals.create(i.value,e,t,this.type,this.data)},this.toHash=function(){return n},this.error=null,this.retryAfterReconnect=!0,n&&(n.hasOwnProperty("data")&&(this.data=r(n.data),this.error=function(e){var t=null;if(null==e)t={code:400,reason:"The signal data was null or undefined. Either set it to a String value or omit it"};else try{8192<JSON.stringify(e).length&&(t={code:413,reason:"The data field was too long, the maximum size of it is ".concat(8192," characters")})}catch(e){t={code:400,reason:"The data field was not valid JSON"}}return t}(this.data)),n.hasOwnProperty("to")&&(this.to=n.to,this.error||(this.error=(u=this.to)?u instanceof o||u._tag===s?null:{code:400,reason:"The To field was invalid"}:{code:400,reason:"The signal to field was invalid. Either set it to a OT.Connection, OT.Session, or omit it entirely"})),n.hasOwnProperty("type")&&(this.error||(this.error=((c=null)==(u=n.type)?c={code:400,reason:"The signal type was null or undefined. Either set it to a String value or omit it"}:128<u.length?c={code:413,reason:"The signal type was too long, the maximum length of it is ".concat(128," characters")}:d(u)&&(c={code:400,reason:"The signal type was invalid, it can only contain letters, numbers, '-', '_', and '~'."}),c)),this.type=n.type),n.hasOwnProperty("retryAfterReconnect")&&(this.error||(this.error=!0!==(d=n.retryAfterReconnect)&&!1!==d?{code:400,reason:"The signal retryAfterReconnect was not true or false. Either set it to a Boolean value or omit it"}:null),this.retryAfterReconnect=n.retryAfterReconnect)),this.valid=null===this.error}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(3),i=r(n(12)),o=r(n(13)),a=n(319),s=n(48),c=n(172),u=n(712),d=n(314),l=n(1)("SessionDispatcher"),f=n(20),p=n(170),h=n(149),v=n(167);function m(e,t){var n,r,i;if(!t.streams.has(e.id))return n=t,r=(e=e).channel.map((function(e){return new h(e)})),i=e.connectionId||e.connection.id,e=new p(e.id,e.name,e.creationTime,n.connections.get(i),n,r),t.streams.add(e),e}function g(e,t){if(!t.archives.has(e.id))return e=new a(e.id,e.name,e.status),t.archives.add(e),e}function b(e){var t={};this.enqueue=function(){var n=arguments[0],r=Array.prototype.slice.call(arguments,1);t[n]||(t[n]=new u(e)),t[n].enqueue.apply(t[n],r)},this.triggerConnectionCreated=function(e){t["connectionCreated".concat(e.id)]&&t["connectionCreated".concat(e.id)].triggerAll()},this.triggerSessionConnected=function(e){t.sessionConnected&&t.sessionConnected.triggerAll(),e.forEach((function(e){this.triggerConnectionCreated(e)}),this)}}var y={};e.exports=function(e,t){function n(t,n){return e.connections.has(t.id)?e.connections.get(t.id):(t=c.fromHash(t),(n||e.connection&&t.id!==e.connection.id)&&(e.connections.add(t),h.triggerConnectionCreated(t)),Object.keys(y).forEach((function(r){(r=y[r])&&t.id===r.connection.id&&(m(r,e),delete y[r.id],r={debug:n?"connection came in session#read":"connection came in connection#created",streamId:r.id,connectionId:t.id},e.logEvent("streamCreated","warning",r))})),t)}function r(t,n,r,a){var u,d={streamId:n},p=f.subscribers,h=f.publishers,v=a.params.subscriber?{widgetId:a.params.subscriber}:d;switch(t){case"offer":u=[].concat(p.where(v),h.where(d)).slice(0,1);break;case"answer":case"pranswer":u=[].concat(h.where(d),p.where(v)).slice(0,1);break;case"generateoffer":case"unsubscribe":u=h.where(d);break;case"candidate":u=[].concat(p.where(v),h.where(d));break;default:return void l.debug("jsep#".concat(t," is not currently implemented"))}0!==u.length&&(!e.connections.get(r)&&r.match(/^symphony\./)&&(n=c.fromHash({id:r,creationTime:Math.floor(s())}),e.connections.add(n)),u.forEach(function(){var e=(0,o.default)(i.default.mark((function e(n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.processMessage(t,r,a);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),l.error("Error occurred during processMessage",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()))}var a=(void 0===t?{}:t).connectionEventsSuppressed,u=new d,p=!1,h=new b(u);return u.on("reconnecting",(function(){e._.reconnecting()})),u.on("reconnected",(function(){e._.reconnected()})),u.on("close",(function(t){var n=e.connection;n&&(n.destroyedReason()?l.debug("".concat("Socket was closed but the connection had already been destroyed. Reason: ").concat(n.destroyedReason())):n.destroy(t))})),u.on("session#read",(function(t,r){var i,o={streams:[],connections:[],archives:[]};t.connection.forEach((function(e){i=n(e,!0),o.connections.push(i)})),t.stream.forEach((function(t){o.streams.push(m(t,e))})),(t.archive||t.archives).forEach((function(t){o.archives.push(g(t,e))})),u.triggerCallback(r,null,o),p=!0,h.triggerSessionConnected(e.connections)})),u.on("session#update",(function(t){"mute"!==t.reason?l.debug("session#update that handle this reason is not currently implemented"):(t=!0===t.active,e._.forceMute({active:t}),t?e._.enableMuteOnEntry():e._.disableMuteOnEntry())})),u.on("session#muted",(function(){e._.enableMuteOnEntry(),e._.forceMute({active:!0})})),u.on("connection#created",(function(e){n(e)})),u.on("connection#deleted",(function(t,n){(t=e.connections.get(t))?t.destroy(n):l.warn("A connection was deleted that we do not know about")})),u.on("stream#created",(function(t,r){var i,o=t.id,s=t.sourceStreamId,c=t.connection;if(a){if(null==c||null==c.id)return void e.logEvent("SessionDispatcher:stream#created","Event",{connection:c,info:"Stream did not contain a connection object. Event ignored"});n(c)}c=t.connectionId||c.id,e.connections.has(c)?i=m(t,e):(y[o]=t,c={debug:"eventOrderError -- streamCreated event before connectionCreated",streamId:o,sourceStreamId:v(s)},e.logEvent("streamCreated","warning",c)),i?(i.publisher&&i.publisher.setStream(i),u.triggerCallback(r,null,i)):e.sessionInfo.isAdaptiveEnabled&&"P2P"===s&&f.subscribers.where({streamId:o}).forEach((function(e){e._.startRoutedToRelayedTransition()}))})),u.on("stream#deleted",(function(t,n,r){var i=e.streams.get(t),o=(r=r.sourceStreamId,f.subscribers);r=e.sessionInfo.isAdaptiveEnabled&&"P2P"===r,(i||r)&&(r?o.where({streamId:t}).forEach((function(e){e._.startRelayedToRoutedTransition()})):i.destroy(n))})),u.on("stream#updated",(function(t,n){var r=e.streams.get(t);r?r._.update(n):l.error("A stream does not exist with the id of ".concat(t,", for stream#updated message!"))})),u.on("stream#update",(function(t,n){var r=e.streams.get(t),i=n.reason,o=n.active;r?"mute"!==i?l.debug("stream#update that handle this reason is not currently implemented"):o&&r._.forceMute(n):l.error("A stream does not exist with the id of ".concat(t,", for stream#updated message!"))})),u.on("streamChannel#updated",(function(t,n,r){(t=t&&e.streams.get(t))?t._.updateChannel(n,r):l.error("Unable to determine streamId, or the stream does not exist, for streamChannel message!")})),u.on("jsep#offer",r.bind(null,"offer")),u.on("jsep#answer",r.bind(null,"answer")),u.on("jsep#pranswer",r.bind(null,"pranswer")),u.on("jsep#generateoffer",r.bind(null,"generateoffer")),u.on("jsep#unsubscribe",r.bind(null,"unsubscribe")),u.on("jsep#candidate",r.bind(null,"candidate")),u.on("subscriberChannel#updated",(function(t,n,r){t&&e.streams.has(t)?e.streams.get(t)._.updateChannel(n,r):l.error("Unable to determine streamId, or the stream does not exist, for subscriberChannel#updated message!")})),u.on("subscriberChannel#update",(function(t,n,r){n&&e.streams.has(n)?f.subscribers.has(t)?f.subscribers.get(t).disableVideo(r.active):l.error("Unable to determine subscriberId, or the subscriber does not exist, for subscriberChannel#update message!"):l.error("Unable to determine streamId, or the stream does not exist, for subscriberChannel#update message!")})),u.on("signal",(function(t,r){a&&(null!=(i=r.connection||r.fromConnection)&&null!=i.id||(i={id:t,creationTime:(new Date).getTime(),data:{},capablities:{},permissions:[]},e.logEvent("SessionDispatcher:Signal","Event",{fromAddress:t,connection:r.connection,fromConnection:r.fromConnection,info:"Signal did not contain a connection object. One has been constructed",constructedConnection:i})),n(i));var i=r.type,o=(r=r.data,e.connections.get(t));e.connection&&t===e.connection.connectionId?p?e._.dispatchSignal(o,i,r):h.enqueue("sessionConnected","signal",t,i,r):e.connections.get(t)?e._.dispatchSignal(o,i,r):""===t?e._.dispatchSignal(null,i,r):h.enqueue("connectionCreated".concat(t),"signal",t,i,r)})),u.on("archive#created",(function(t){g(t,e)})),u.on("archive#updated",(function(t,n){var r=e.archives.get(t);r?r._.update(n):l.error("An archive does not exist with the id of ".concat(t,", for archive#updated message!"))})),u.on("source#create",(function(t,n,r){var i=v(t);e.logEvent("SessionDispatcher:source#create","Event",{sourceStreamId:i,streamId:n,reason:r}),l.debug("Received a request from RUMOR to start a transition to "+"".concat(t," for the stream ID ").concat(n," with the reason: ").concat(r)),f.publishers.where({streamId:n}).forEach((function(e){e._.startRoutedToRelayedTransition()}))})),u.on("source#delete",(function(t,n,r){e.logEvent("SessionDispatcher:source#delete","Event",{sourceStreamId:v(t),streamId:n,reason:r}),l.debug("Received a request from RUMOR to start a transition from P2P "+"to MANTIS for the stream ID ".concat(n," with the reason: ").concat(r)),f.publishers.where({streamId:n}).forEach((function(e){e._.startRelayedToRoutedTransition()}))})),u}},function(e,t,n){"use strict";var r=n(22)(),i=n(6);e.exports=function(e,t,n){var o=this;this.id=e,this.name=t,this.status=n,this._={},i(this),this._.update=function(e){Object.keys(e).forEach((function(t){var n=o[t];o[t]=e[t],n=new r.ArchiveUpdatedEvent(o,t,n,o[t]),o.dispatchEvent(n)}))},this.destroy=function(){}}},function(e,t,n){"use strict";var r=n(23)().getAudioOutputMediaDevices;e.exports=function(){return r()}},function(e,t,n){"use strict";var r=n(23)().getActiveAudioOutputDevice;e.exports=function(){return r()}},function(e,t,n){"use strict";(function(t){function r(e,t){h.logEvent({action:"updateSubscribersSinkId",variation:e,payload:t})}function i(e){var n=c.subscribers.map((function(t){return t._.setSinkId(e)}));return t.all(n)}var o,a=(o=n(3))(n(12)),s=o(n(13)),c=n(20),u=n(105).setCurrentAudioOutputDeviceId,d=n(321),l=(o=n(23)()).getDefaultAudioOutputDeviceId,f=o.getAudioOutputMediaDevices,p=n(294),h=new(n(27)),v=function(){var e=(0,s.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return e.prev=2,r("Attempt",{deviceId:t}),e.next=6,i(t);case 6:r("Success",{deviceId:t}),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(2),r("Failure",{deviceId:t,error:null==e.t0?void 0:e.t0.message}),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,s.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return t=e.sent,t=l(t),e.prev=4,e.next=7,v(t);case 7:u(t),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,s.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return t=e.sent,e.prev=3,e.next=6,v(t.deviceId);case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),e.next=12,m();case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();e.exports=function(){var e=(0,s.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r("Attempt",{deviceId:t}),e.next=4,i(t);case 4:r("Success",{deviceId:t}),u(t),e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(0),r("Failure",{deviceId:t,error:null==e.t0?void 0:e.t0.message}),e.next=13,g();case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(0))},function(e,t,n){"use strict";function r(e,t){return function(){return console.warn("".concat(e," is deprecated and will be removed in a future version of OpenTok")),t}}n(324);var i,o=n(36),a=n(26),s=n(6),c=n(126),u=n(44)(),d=n(27),l=n(249),f=n(543),p=n(544),h=u.onlyLocal(),v={},m=(v.noConflict=n(545)(),(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).OT=v,e.exports=v,i=v,Object.defineProperty(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global,"TB",{get:function(){return i===v&&console.warn("window.TB is deprecated, and will be removed in the future. Please access via window.OT"),i},set:function(e){i=e},configurable:!0}),e=n(142)(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global),n(5)),g=n(72),b=n(143),y=n(252),_=n(144),w=n(145),E=n(253),S=n(146),C=n(4),T=n(8),O=n(254),x=n(240),I=n(1)("OT"),A=n(119),k=n(572),R=n(21),D=n(100).parseIceServers,N=n(267),P=n(20),M=n(149),L=n(151),j=n(152),U=n(101)({global:e}),F=n(11)({}),B=n(158)(),V=n(280)({otError:F}),z=n(281)(),W=n(286)({global:e}),H=(W=n(23)({getNativeEnumerateDevices:W}),n(22)()),G=n(160)(),q=n(625)({otError:F,global:e}),Y=(V=n(161)({chromeExtensionHelper:V,otError:F}),O=n(630)({deviceHelpers:W,generateConstraintInfo:O,getUserMediaHelper:q,global:e,OTHelpers:m,screenSharing:V}),q=n(633)({otError:F,processPubOptions:O}),n(162)({otError:F})),K=n(74),Q=n(291)(),X=n(292)({otError:F}),Z=(X=n(293)({global:e,videoElementErrorMap:X}),n(163)({global:e})),J=n(295)({PeerConnection:U,setCertificates:Z}),$=(Z=n(296)({PeerConnection:U,setCertificates:Z}),n(297)()),ee=n(642)({otError:F}),te=(X=n(107)({NativeVideoElementWrapper:X}),n(150)()),ne=n(164)({VideoElementFacade:X}),re=n(300)({interpretPeerConnectionError:Y,otError:F,SubscriberPeerConnection:Z,WidgetView:ne}),ie=(z=n(168)({APIKEY:g,createChromeMixin:z,deviceHelpers:W,EnvironmentLoader:S,Errors:C,Events:H,ExceptionCodes:T,calculateCapableSimulcastStreams:y,global:e,interpretPeerConnectionError:Y,IntervalRunner:K,Microphone:Q,otError:F,OTErrorClass:R,OTHelpers:m,parseIceServers:D,processPubOptions:O,PUBLISH_MAX_DELAY:N,PublisherPeerConnection:J,PublishingState:$,StreamChannel:M,systemRequirements:j,VideoOrientation:te,WidgetView:ne}),W=n(308)({otError:F,Publisher:z}),C=n(309)({global:e,initPublisher:W,otError:F,Publisher:z,Subscriber:re}),n(716)({Session:C})),oe=(s(v),y=n(717),l(v,"$",{name:"OT.$",getMessage:"Please use an external library like jQuery to select elements from the page.",value:m}),v.APIKEY=g.value,v.AnalyserAudioLevelSampler=w,v.Archive=n(319),v.ArchiveEvent=H.ArchiveEvent,v.ArchiveUpdatedEvent=H.ArchiveUpdatedEvent,v.AudioLevelTransformer=b,v.AudioLevelUpdatedEvent=H.AudioLevelUpdatedEvent,v.Capabilities=n(169),v.Chrome=_,v.Connection=n(172),v.ConnectionCapabilities=v.Connection.Capabilities,v.ConnectionEvent=H.ConnectionEvent,Object.keys(A).forEach((function(e){v[e.toUpperCase()]=A[e].priority})),v.NONE=0,v.debug=I.debug,v.error=I.error,v.info=I.info,v.log=I.log,v.warn=I.warn,v.DestroyedEvent=H.DestroyedEvent,v.EnvLoadedEvent=H.EnvLoadedEvent,v.Error=R,v.Error.on(a.EXCEPTION,(function(e){var t;e.target===v.Error?((t=o(e)).target=v).dispatchEvent(t):v.dispatchEvent(e)})),v.Event=c,v.ExceptionCodes=T,v.ExceptionEvent=H.ExceptionEvent,v.getDevices=n(720),v.getAudioOutputDevices=n(320),v.getActiveAudioOutputDevice=n(321),v.setAudioOutputDevice=n(721)(),v.GetAudioLevelSampler=E,v.HAS_REQUIREMENTS=1,v.IntervalRunner=K,v.IssueReportedEvent=H.IssueReportedEvent,v.MediaStoppedEvent=H.MediaStoppedEvent,v.Microphone=Q,v.NOT_HAS_REQUIREMENTS=0,v.PeerConnection=U,v.PeerConnection.QOS=n(278).default,v.Publisher=z,v.PublisherPeerConnection=J,v.PublishingState=$,v.MuteForcedEvent=H.MuteForcedEvent,v.Session=C,v.SessionConnectEvent=H.SessionConnectEvent,v.SessionDisconnectEvent=H.SessionDisconnectEvent,v.SessionDispatcher=n(318),v.Signal=n(316),v.SignalEvent=H.SignalEvent,v.Stream=n(170),v.StreamChannel=M,v.StreamEvent=H.StreamEvent,v.StreamPropertyChangedEvent=H.StreamPropertyChangedEvent,v.StreamUpdatedEvent=H.StreamUpdatedEvent,v.StylableComponent=L,v.Subscriber=re,v.SubscriberPeerConnection=Z,v.SubscribingState=n(303),v.VideoDimensionsChangedEvent=H.VideoDimensionsChangedEvent,v.VideoDisableWarningEvent=H.VideoDisableWarningEvent,v.VideoElement=X,v.VideoEnabledChangedEvent=H.VideoEnabledChangedEvent,v.VideoOrientation=te,v.WidgetView=ne,v.getSupportedCodecs=y,v._={AnalyticsHelper:d,getClientGuid:x.get,StaticConfig:u},Object.defineProperty(v,"version",{value:h.version}),{});l(oe,"version",{value:h.version,name:"OT.properties.version",getWarning:"Please use OT.version instead",warnOnSet:!0,setWarning:"Mutating version has no effect"}),f.forEach((function(e){var t,n;Array.isArray(e)?(t=e[0],n=e[1],t=t,n=h[n]||n):(n=h[e],t=e),e=t,e=p.includes(e),l(oe,t,{value:n,name:"OT.properties.".concat(t),warnOnSet:!0,canSet:e,setWarning:"Mutating ".concat(t,e?" can cause side effects":" has no effect")})})),v.properties=oe,v.audioContext=B,v.checkScreenSharingCapability=V.checkCapability,v.checkSystemRequirements=j.check,v.components={},v.generateSimpleStateMachine=G,v.getErrorTitleByCode=R.getTitleByCode,v.getLogs=I.getLogs,v.getStatsAdpater=n(274),v.getStatsHelpers=n(75),v.getUserMedia=q,v.handleJsException=R.handleJsException,v.initPublisher=W,v.setProxyUrl=n(139).setProxyUrl,v.initSession=function(e,t,n){return null==t&&(t=e,e=null),0===g.value.length&&e&&(g.value=e,v.APIKEY=e),ie(e,t,n)},Object.defineProperties(v,{isUnloaded:{get:r("OT.isUnloaded",S.isUnloaded)},onLoad:{get:r("OT.onLoad",S.onLoad)},onUnload:{get:r("OT.onUnload",S.onUnload)},overrideGuidStorage:{get:r("OT.overrideGuidStorage",x.override)}}),v.pickScreenSharingHelper=V.pickHelper,v.publishers=P.publishers,v.registerScreenSharingExtension=V.registerExtension,v.registerScreenSharingExtensionHelper=V.registerExtensionHelper,v.reportIssue=ee,v.sessions=P.sessions,v.setLogLevel=k,v.shouldLog=I.shouldLog,v.subscribers=P.subscribers,v.unblockAudio=n(166),v.upgradeSystemRequirements=j.upgrade,S.onUnload((function(){P.publishers.destroy(),P.subscribers.destroy(),P.sessions.destroy("unloaded")})),n(722)(),n(724)()},function(e,t,n){var r=n(325),i=("string"==typeof r&&(r=[[e.i,r,""]]),{hmr:!0});i.transform=void 0,i.insertInto=void 0,n(339)(r,i),r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(326)(!1);var r=(p=n(327))(n(328)),i=p(n(329)),o=p(n(330)),a=p(n(331)),s=p(n(332)),c=p(n(333)),u=p(n(334)),d=p(n(335)),l=p(n(336)),f=p(n(337)),p=p(n(338));t.push([e.i,"/*!\n * Copyright (c) 2017 TokBox, Inc.\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n */\n\n/**\n * OT Base styles\n */\n\n/* Root OT object, this is where our CSS reset happens */\n.OT_root,\n.OT_root * {\n  color: #ffffff;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font-family: Arial, Helvetica, sans-serif;\n  vertical-align: baseline;\n}\n\n/**\n * Specific Element Reset\n */\n\n.OT_root h1,\n.OT_root h2,\n.OT_root h3,\n.OT_root h4,\n.OT_root h5,\n.OT_root h6 {\n  color: #ffffff;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 100%;\n  font-weight: bold;\n}\n\n.OT_root header {\n\n}\n\n.OT_root footer {\n\n}\n\n.OT_root div {\n\n}\n\n.OT_root section {\n\n}\n\n.OT_root video {\n\n}\n\n.OT_root button {\n\n}\n\n.OT_root strong {\n  font-weight: bold;\n}\n\n.OT_root em {\n  font-style: italic;\n}\n\n.OT_root a,\n.OT_root a:link,\n.OT_root a:visited,\n.OT_root a:hover,\n.OT_root a:active {\n  font-family: Arial, Helvetica, sans-serif;\n}\n\n.OT_root ul, .OT_root ol {\n  margin: 1em 1em 1em 2em;\n}\n\n.OT_root ol {\n  list-style: decimal outside;\n}\n\n.OT_root ul {\n  list-style: disc outside;\n}\n\n.OT_root dl {\n  margin: 4px;\n}\n\n.OT_root dl dt,\n.OT_root dl dd {\n  float: left;\n  margin: 0;\n  padding: 0;\n}\n\n.OT_root dl dt {\n  clear: left;\n  text-align: right;\n  width: 50px;\n}\n\n.OT_root dl dd {\n  margin-left: 10px;\n}\n\n.OT_root img {\n  border: 0 none;\n}\n\n/* Modal dialog styles */\n\n/* Modal dialog styles */\n\n.OT_dialog-centering {\n  display: table;\n  width: 100%;\n  height: 100%;\n}\n\n.OT_dialog-centering-child {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.OT_dialog {\n  position: relative;\n\n  box-sizing: border-box;\n  max-width: 576px;\n  margin-right: auto;\n  margin-left: auto;\n  padding: 36px;\n  text-align: center; /* centers all the inline content */\n\n  background-color: #363636;\n  color: #fff;\n  box-shadow: 2px 4px 6px #999;\n  font-family: 'Didact Gothic', sans-serif;\n  font-size: 13px;\n  line-height: 1.4;\n}\n\n.OT_dialog * {\n  font-family: inherit;\n  box-sizing: inherit;\n}\n\n.OT_closeButton {\n  color: #999999;\n  cursor: pointer;\n  font-size: 32px;\n  line-height: 36px;\n  position: absolute;\n  right: 18px;\n  top: 0;\n}\n\n.OT_dialog-messages {\n  text-align: center;\n}\n\n.OT_dialog-messages-main {\n  margin-bottom: 36px;\n  line-height: 36px;\n\n  font-weight: 300;\n  font-size: 24px;\n}\n\n.OT_dialog-messages-minor {\n  margin-bottom: 18px;\n\n  font-size: 13px;\n  line-height: 18px;\n  color: #A4A4A4;\n}\n\n.OT_dialog-messages-minor strong {\n  color: #ffffff;\n}\n\n.OT_dialog-actions-card {\n  display: inline-block;\n}\n\n.OT_dialog-button-title {\n  margin-bottom: 18px;\n  line-height: 18px;\n\n  font-weight: 300;\n  text-align: center;\n  font-size: 14px;\n  color: #999999;\n}\n.OT_dialog-button-title label {\n  color: #999999;\n}\n\n.OT_dialog-button-title a,\n.OT_dialog-button-title a:link,\n.OT_dialog-button-title a:active {\n  color: #02A1DE;\n}\n\n.OT_dialog-button-title strong {\n  color: #ffffff;\n  font-weight: 100;\n  display: block;\n}\n\n.OT_dialog-button {\n  display: inline-block;\n\n  margin-bottom: 18px;\n  padding: 0 1em;\n\n  background-color: #1CA3DC;\n  text-align: center;\n  cursor: pointer;\n}\n\n.OT_dialog-button:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n.OT_dialog-button-large {\n  line-height: 36px;\n  padding-top: 9px;\n  padding-bottom: 9px;\n\n  font-weight: 100;\n  font-size: 24px;\n}\n\n.OT_dialog-button-small {\n  line-height: 18px;\n  padding-top: 9px;\n  padding-bottom: 9px;\n\n  background-color: #444444;\n  color: #999999;\n  font-size: 16px;\n}\n\n.OT_dialog-progress-bar {\n  display: inline-block; /* prevents margin collapse */\n  width: 100%;\n  margin-top: 5px;\n  margin-bottom: 41px;\n\n  border: 1px solid #4E4E4E;\n  height: 8px;\n}\n\n.OT_dialog-progress-bar-fill {\n  height: 100%;\n\n  background-color: #29A4DA;\n}\n\n/* Helpers */\n\n.OT_centered {\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  margin: 0;\n}\n\n.OT_dialog-hidden {\n  display: none;\n}\n\n.OT_dialog-button-block {\n  display: block;\n}\n\n.OT_dialog-no-natural-margin {\n  margin-bottom: 0;\n}\n\n/* Publisher and Subscriber styles */\n\n.OT_publisher, .OT_subscriber {\n  position: relative;\n  min-width: 48px;\n  min-height: 48px;\n}\n\n.OT_publisher .OT_video-element,\n.OT_subscriber .OT_video-element {\n  display: block;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n\n  transform-origin: 0 0;\n}\n\n/* Styles that are applied when the video element should be mirrored */\n.OT_publisher.OT_mirrored .OT_video-element {\n  transform: scale(-1, 1);\n  transform-origin: 50% 50%;\n}\n\n.OT_subscriber_error {\n  background-color: #000;\n  color: #fff;\n  text-align: center;\n}\n\n.OT_subscriber_error > p {\n  padding: 20px;\n}\n\n/* The publisher/subscriber name/mute background */\n.OT_publisher .OT_bar,\n.OT_subscriber .OT_bar,\n.OT_publisher .OT_name,\n.OT_subscriber .OT_name,\n.OT_publisher .OT_archiving,\n.OT_subscriber .OT_archiving,\n.OT_publisher .OT_archiving-status,\n.OT_subscriber .OT_archiving-status,\n.OT_publisher .OT_archiving-light-box,\n.OT_subscriber .OT_archiving-light-box {\n  -ms-box-sizing: border-box;\n  box-sizing: border-box;\n  top: 0;\n  left: 0;\n  right: 0;\n  display: block;\n  height: 34px;\n  position: absolute;\n}\n\n.OT_publisher .OT_bar,\n.OT_subscriber .OT_bar {\n  background: rgba(0, 0, 0, 0.4);\n}\n\n.OT_publisher .OT_edge-bar-item,\n.OT_subscriber .OT_edge-bar-item {\n  z-index: 1; /* required to get audio level meter underneath */\n}\n\n/* The publisher/subscriber name panel/archiving status bar */\n.OT_publisher .OT_name,\n.OT_subscriber .OT_name {\n  background-color: transparent;\n  color: #ffffff;\n  font-size: 15px;\n  line-height: 34px;\n  font-weight: normal;\n  padding: 0 4px 0 36px;\n  letter-spacing: normal;\n}\n\n.OT_publisher .OT_archiving-status,\n.OT_subscriber .OT_archiving-status {\n  background: rgba(0, 0, 0, 0.4);\n  top: auto;\n  bottom: 0;\n  left: 34px;\n  padding: 0 4px;\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 15px;\n  line-height: 34px;\n  font-weight: normal;\n  letter-spacing: normal;\n}\n\n.OT_micro .OT_archiving-status,\n.OT_micro:hover .OT_archiving-status,\n.OT_mini .OT_archiving-status,\n.OT_mini:hover .OT_archiving-status {\n  display: none;\n}\n\n.OT_publisher .OT_archiving-light-box,\n.OT_subscriber .OT_archiving-light-box {\n  background: rgba(0, 0, 0, 0.4);\n  top: auto;\n  bottom: 0;\n  right: auto;\n  width: 34px;\n  height: 34px;\n}\n\n.OT_archiving-light {\n  width: 7px;\n  height: 7px;\n  border-radius: 30px;\n  position: absolute;\n  top: 14px;\n  left: 14px;\n  background-color: #575757;\n  box-shadow: 0 0 5px 1px #575757;\n}\n\n.OT_archiving-light.OT_active {\n  background-color: #970d13;\n  -webkit-animation: OT_pulse 1.3s ease-in;\n  -moz-animation: OT_pulse 1.3s ease-in;\n  -webkit-animation: OT_pulse 1.3s ease-in;\n  -webkit-animation-iteration-count: infinite;\n  -moz-animation-iteration-count: infinite;\n  -webkit-animation-iteration-count: infinite;\n}\n\n.OT_mini .OT_bar,\n.OT_bar.OT_mode-mini,\n.OT_bar.OT_mode-mini-auto {\n  bottom: 0;\n  height: auto;\n}\n\n.OT_mini .OT_name.OT_mode-off,\n.OT_mini .OT_name.OT_mode-on,\n.OT_mini .OT_name.OT_mode-auto,\n.OT_mini:hover .OT_name.OT_mode-auto {\n  display: none;\n}\n\n.OT_publisher .OT_name,\n.OT_subscriber .OT_name {\n    left: 10px;\n    right: 37px;\n    height: 34px;\n    padding-left: 0;\n}\n\n.OT_publisher .OT_mute,\n.OT_subscriber .OT_mute {\n    border: none;\n    cursor: pointer;\n    display: block;\n    position: absolute;\n    text-align: center;\n    text-indent: -9999em;\n    background-color: transparent;\n    background-repeat: no-repeat;\n}\n\n.OT_publisher .OT_mute,\n.OT_subscriber .OT_mute {\n  right: 0;\n  top: 0;\n  border-left: 1px solid rgba(255, 255, 255, 0.2);\n  height: 36px;\n  width: 37px;\n}\n\n.OT_mini .OT_mute,\n.OT_publisher.OT_mini .OT_mute.OT_mode-auto.OT_mode-on-hold,\n.OT_subscriber.OT_mini .OT_mute.OT_mode-auto.OT_mode-on-hold {\n  top: 50%;\n  left: 50%;\n  right: auto;\n  margin-top: -18px;\n  margin-left: -18.5px;\n  border-left: none;\n}\n\n.OT_publisher .OT_mute {\n  background-image: url("+r+");\n  background-position: 9px 5px;\n}\n\n.OT_publisher .OT_mute.OT_active {\n  background-image: url("+i+");\n  background-position: 9px 4px;\n}\n\n.OT_subscriber .OT_mute {\n  background-image: url("+o+");\n  background-position: 8px 7px;\n}\n\n.OT_subscriber .OT_mute.OT_active {\n  background-image: url("+a+");\n  background-position: 7px 7px;\n}\n\n/**\n * Styles for display modes\n *\n * Note: It's important that these completely control the display and opacity\n * attributes, no other selectors should atempt to change them.\n */\n\n/* Default display mode transitions for various chrome elements */\n.OT_publisher .OT_edge-bar-item,\n.OT_subscriber .OT_edge-bar-item {\n  transition-property: top, bottom, opacity;\n  transition-duration: 0.5s;\n  transition-timing-function: ease-in;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_mode-off,\n.OT_subscriber .OT_edge-bar-item.OT_mode-off,\n.OT_publisher .OT_edge-bar-item.OT_mode-auto,\n.OT_subscriber .OT_edge-bar-item.OT_mode-auto,\n.OT_publisher .OT_edge-bar-item.OT_mode-mini-auto,\n.OT_subscriber .OT_edge-bar-item.OT_mode-mini-auto {\n  top: -25px;\n  opacity: 0;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_mode-off,\n.OT_subscriber .OT_edge-bar-item.OT_mode-off {\n  display: none;\n}\n\n.OT_mini .OT_mute.OT_mode-auto,\n.OT_publisher .OT_mute.OT_mode-mini-auto,\n.OT_subscriber .OT_mute.OT_mode-mini-auto {\n  top: 50%;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-off,\n.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-off,\n.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,\n.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,\n.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto,\n.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto {\n  top: auto;\n  bottom: -25px;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_mode-on,\n.OT_subscriber .OT_edge-bar-item.OT_mode-on,\n.OT_publisher .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold,\n.OT_subscriber .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold,\n.OT_publisher:hover .OT_edge-bar-item.OT_mode-auto,\n.OT_subscriber:hover .OT_edge-bar-item.OT_mode-auto,\n.OT_publisher:hover .OT_edge-bar-item.OT_mode-mini-auto,\n.OT_subscriber:hover .OT_edge-bar-item.OT_mode-mini-auto {\n  top: 0;\n  opacity: 1;\n}\n\n.OT_mini .OT_mute.OT_mode-on,\n.OT_mini:hover .OT_mute.OT_mode-auto,\n.OT_mute.OT_mode-mini,\n.OT_root:hover .OT_mute.OT_mode-mini-auto {\n  top: 50%;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-on,\n.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-on,\n.OT_publisher:hover .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,\n.OT_subscriber:hover .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto {\n  top: auto;\n  bottom: 0;\n  opacity: 1;\n}\n\n\n/* Contains the video element, used to fix video letter-boxing */\n.OT_widget-container {\n  position: absolute;\n  background-color: #000000;\n  overflow: hidden;\n}\n\n.OT_hidden-audio {\n  position: absolute !important;\n  height: 1px !important;\n  width: 1px !important;\n}\n\n/* Load animation */\n.OT_root .OT_video-loading {\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  display: none;\n\n  background-color: rgba(0, 0, 0, .75);\n}\n\n.OT_root .OT_video-loading .OT_video-loading-spinner {\n  background: url("+s+") no-repeat;\n  position: absolute;\n  width: 32px;\n  height: 32px;\n  left: 50%;\n  top: 50%;\n  margin-left: -16px;\n  margin-top: -16px;\n  animation: OT_spin 2s linear infinite;\n}\n@keyframes OT_spin {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.OT_publisher.OT_loading .OT_video-loading,\n.OT_subscriber.OT_loading .OT_video-loading {\n  display: block;\n}\n\n.OT_publisher.OT_loading .OT_video-element,\n.OT_subscriber.OT_loading .OT_video-element {\n  /*display: none;*/\n}\n\n.OT_video-centering {\n  display: table;\n  width: 100%;\n  height: 100%;\n}\n\n.OT_video-container {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.OT_video-poster {\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  display: none;\n\n  opacity: .25;\n\n  background-repeat: no-repeat;\n  background-image: url("+c+");\n  background-size: auto 76%;\n}\n\n.OT_fit-mode-cover .OT_video-element {\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\n/* Workaround for iOS freezing issue when cropping videos */\n/* https://bugs.webkit.org/show_bug.cgi?id=176439 */\n@media only screen\n  and (orientation: portrait) {\n  .OT_subscriber.OT_ForceContain.OT_fit-mode-cover .OT_video-element {\n    -o-object-fit: contain !important;\n       object-fit: contain !important;\n  }\n}\n\n.OT_fit-mode-contain .OT_video-element {\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n\n.OT_fit-mode-cover .OT_video-poster {\n  background-position: center bottom;\n}\n\n.OT_fit-mode-contain .OT_video-poster {\n  background-position: center;\n}\n\n.OT_audio-level-meter {\n  position: absolute;\n  width: 25%;\n  max-width: 224px;\n  min-width: 21px;\n  top: 0;\n  right: 0;\n  overflow: hidden;\n}\n\n.OT_audio-level-meter:before {\n  /* makes the height of the container equals its width */\n  content: '';\n  display: block;\n  padding-top: 100%;\n}\n\n.OT_audio-level-meter__audio-only-img {\n  position: absolute;\n  top: 22%;\n  right: 15%;\n  width: 40%;\n\n  opacity: .7;\n\n  background: url("+u+") no-repeat center;\n}\n\n.OT_audio-level-meter__audio-only-img:before {\n  /* makes the height of the container equals its width */\n  content: '';\n  display: block;\n  padding-top: 100%;\n}\n\n.OT_audio-level-meter__value {\n  will-change: transform;\n  position: absolute;\n  top: -100%;\n  right: -100%;\n  width: 200%;\n  height: 200%;\n  transform: scale(0);\n  border-radius: 50%;\n  background-image: radial-gradient(circle, rgba(151, 206, 0, 1) 0%, rgba(151, 206, 0, 0) 100%);\n}\n\n.OT_audio-level-meter.OT_mode-off {\n    display: none;\n}\n\n.OT_audio-level-meter.OT_mode-on,\n.OT_audio-only .OT_audio-level-meter.OT_mode-auto {\n  display: block;\n}\n\n.OT_audio-only.OT_publisher .OT_video-element,\n.OT_audio-only.OT_subscriber .OT_video-element {\n  display: none;\n}\n\n\n.OT_video-disabled-indicator {\n  opacity: 1;\n  border: none;\n  display: none;\n  position: absolute;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: bottom right;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  bottom: 3px;\n  right: 3px;\n}\n\n.OT_video-disabled {\n  background-image: url("+d+");\n  background-size: 33px auto;\n}\n\n.OT_video-disabled-warning {\n  background-image: url("+l+");\n  background-size: 33px auto;\n}\n\n.OT_video-disabled-indicator.OT_active {\n  display: block;\n}\n\n.OT_audio-blocked-indicator {\n  opacity: 1;\n  border: none;\n  display: none;\n  position: absolute;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: center;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.OT_audio-blocked {\n  background-image: url("+f+");\n  background-size: 90px auto;\n}\n\n.OT_container-audio-blocked {\n  cursor: pointer;\n}\n\n.OT_container-audio-blocked.OT_mini .OT_edge-bar-item {\n  display: none;\n}\n\n.OT_container-audio-blocked .OT_mute {\n  display: none;\n}\n\n.OT_audio-blocked-indicator.OT_active {\n  display: block;\n}\n\n.OT_video-unsupported {\n  opacity: 1;\n  border: none;\n  display: none;\n  position: absolute;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url("+p+");\n  background-size: 58px auto;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  margin-top: -30px;\n}\n\n.OT_video-unsupported-bar {\n  display: none;\n  position: absolute;\n  width: 192%; /* copy the size of the audio meter bar for symmetry */\n  height: 192%;\n  top: -96% /* half of the size */;\n  left: -96%;\n  border-radius: 50%;\n\n  background-color: rgba(0, 0, 0, .8);\n}\n\n.OT_video-unsupported-img {\n  display: none;\n  position: absolute;\n  top: 11%;\n  left: 15%;\n  width: 70%;\n  opacity: .7;\n  background-image: url("+p+");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 100% auto;\n}\n\n.OT_video-unsupported-img:before {\n  /* makes the height of the container 93% of its width (90/97 px) */\n  content: '';\n  display: block;\n  padding-top: 93%;\n}\n\n.OT_video-unsupported-text {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  height: 100%;\n  margin-top: 40px;\n}\n\n.OT_video-unsupported.OT_active {\n  display: block;\n}\n\n.OT_mini .OT_video-unsupported,\n.OT_micro .OT_video-unsupported {\n  position: absolute;\n  width: 25%;\n  max-width: 224px;\n  min-width: 21px;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  background: none;\n  bottom: auto;\n  right: auto;\n  margin: auto;\n}\n\n.OT_mini .OT_video-unsupported:before,\n.OT_micro .OT_video-unsupported:before {\n  /* makes the height of the container equals its width */\n  content: '';\n  display: block;\n  padding-top: 100%;\n}\n\n.OT_mini .OT_video-unsupported-bar,\n.OT_micro .OT_video-unsupported-bar,\n.OT_mini .OT_video-unsupported-img,\n.OT_micro .OT_video-unsupported-img {\n  display: block;\n}\n\n.OT_mini .OT_video-unsupported-text,\n.OT_micro .OT_video-unsupported-text {\n  display: none;\n}\n\n.OT_hide-forced {\n  display: none;\n}\n\n.OT_ModalDialog {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  z-index: 1000;\n  background-color: rgba(0, 0, 0, 0.2);\n}\n\n#tb_alert {\n  position: fixed;\n  width: 570px;\n  font-family: \"Lucida Grande\", Arial;\n  top: 50%;\n  left: 50%;\n  margin-top: -75px;\n  margin-left: -285px;\n}\n\n#tb_alert * {\n  box-sizing: border-box;\n}\n\n#tb_alert .OT_alert {\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  background-color: #333;\n  position: relative;\n  padding: 30px;\n  overflow: visible;\n  margin-left: 70px;\n  border-bottom-color: rgba(255, 255, 255, 0.1);\n  border-left-color: rgba(255, 255, 255, 0.1);\n\n  background-image: linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2)), linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2));\n\n  background-image: -ms-linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2)), -ms-linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2));\n\n  background-size: 4px 4px;\n  background-position: 0 0, 2px 2px;\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.15);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n}\n\n#tb_alert .OT_alert-exclamation {\n  background-color: #9c1408;\n  background-image: linear-gradient(0deg, #dd0c0a 0%, #9c1408 100%);\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.15);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n\n  margin: -1px 0;\n\n  font-family: MS Trebuchet;\n  font-weight: bold;\n  font-size: 60px;\n  text-shadow: -1px -1px 2px rgba(0, 0, 0, 0.5);\n\n  color: white;\n  width: 65px;\n  position: absolute;\n  padding: 42px 0;\n  text-align: center;\n  left: -70px;\n  top: 0;\n  bottom: 0;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n\n  border-bottom-color: transparent;\n  border-left: none;\n  border-right: none;\n}\n\n#tb_alert .OT_alert-exclamation:after,\n#tb_alert .OT_alert-exclamation:before {\n  content: \" \";\n  position: absolute;\n  right: -24px;\n  top: 40%;\n  border: 12px solid transparent;\n  border-left-color: #9c1408;\n}\n\n#tb_alert .OT_alert-exclamation:before {\n  border-left-color: #bc3428;\n  top: 39%;\n}\n\n#tb_alert .OT_alert-body {\n  color: #c8c5c5;\n  margin: 0;\n  text-shadow: 0 2px 0 rgba(0, 0, 0, 0.3);\n  font-size: 14px;\n  line-height: 1.3em;\n}\n\n#tb_alert .continue-text {\n  margin-top: 12px\n}\n\n#tb_alert > * a {\n  color: #a7d8df;\n  text-decoration: none;\n}\n\n#tb_alert .OT_alert-header {\n  font-size: 24px;\n  padding-bottom: 5px;\n  color: #aaa;\n  font-weight: bold;\n  position: relative;\n  text-shadow: 0 2px 0 rgba(0, 0, 0, 0.3);\n  margin: 0;\n}\n\n#tb_alert .OT_alert-header::before {\n  content: attr(data-text);\n  position: absolute;\n  left: 0;\n  color: white;\n  -webkit-mask-image: -webkit-gradient(\n    linear,\n    left top, left bottom,\n    from(rgba(0, 0, 0, 1)),\n    color-stop(60%, rgba(0, 0, 0, 0)),\n    to(rgba(0, 0, 0, 0))\n  );\n}\n\n#tb_alert .OT_alert-close-button {\n  position: absolute;\n  right: 8px;\n  top: 5px;\n  background-color: #000;\n  color: #666;\n  border: none;\n  font-size: 20px;\n  /** Hack to bring it up to the proper line top */\n  line-height: 14px;\n  padding: 0;\n  padding-bottom: 3px;\n  cursor: pointer;\n}\n\n#tb_alert #section-mobile-browser,\n#tb_alert #section-supported-mobile-browser {\n  width: 200px;\n  top: 0px;\n  left: 25%;\n  margin-top: 0;\n  margin-left: 0;\n}\n\n@media all and (max-height: 300px) {\n  #tb_alert {\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n    margin-left: 0;\n    margin-top: 0;\n  }\n  #tb_alert #section-mobile-browser,\n  #tb_alert #section-supported-mobile-browser {\n    margin-left: 0;\n    margin-top: 10px;\n    left: 0;\n  }\n}\n\n#tb_alert #section-normal-install,\n#tb_alert #section-upgrade-install,\n#tb_alert #section-mobile-browser,\n#tb_alert #section-supported-mobile-browser {\n  display: none;\n}\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];return r?t&&"function"==typeof btoa?(e=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),t=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})),[n].concat(t).concat([e]).join("\n")):[n].join("\n"):n}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAcCAMAAAC02HQrAAAA1VBMVEUAAAD3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj39/j3+Pj3+Pn4+Pk/JRMlAAAAQ3RSTlMABAUHCQoLDhAQERwdHiAjLjAxOD9ASFBRVl1mbnZ6fH2LjI+QkaWqrrC1uLzAwcXJycrL1NXj5Ofo6u3w9fr7/P3+d4M3+QAAAQBJREFUGBlVwYdCglAABdCLlr5Unijm3hMUtBzlBLSr//9JgUToOQgVJgceJgU8aHgMeA38K50ZOpcQmTPwcyXn+JM8M3JJIqQypiIkeXelTyIkGZPwKS1NMia1lgKTVkaE3oQQGYsmHNqSMWnTgUFbMiZtGlD2dpaxrL1XgM0i4ZK8MeAmFhsAs29MGZniawagS63oMOQUNXYB5D0D1RMDpyoMLw/fiE2og/V+PVDR5AiBl0/2Uwik+vx4xV3a5G5Ye68Nd1czjUjZckm6VhmPciRzeCZICjwTJAViQq+3e+St167rAoHK8sLYZVkBYPCZAZ/eGa+2R5LH7Wrc0YFf/O9J3yBDFaoAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAADcElEQVRIiaWVXWhcRRTHf7NNd2aDtUKMIjTpg4ufFIuiUOmDEWm0Vi3VYhXRqIggQh4sWJFSig9+oOhTKSpIRUWMIBIr2kptoTbgU6ooxCiIjR+14kcJmf9sNceHnd3ebnc3Uv9wuXfOzPzmnDMz5zozGwdWAbc65w5RUJQ8cC2wDJgFJioh/MJCMrNxq2vOzK4HmIvRRemxKP0RJWt53o7S+d2Yzsx6gQ+AIUDAnUqpBLzXZd4RYFUlhB/bdZacc3PAOmAcCMC7wfvFwLNdoAPAyx09bXyYWRl4E7gDmAdGlNKFwLYu8GolhO9O87RJd64GbMrgEvB68P4osMWdXLtVV7czlooNpVRWSs8DO7NpR/B+3rBHsvetCgtCMTxwQCm9BbyQrc8F7/uBex3uRCeXO0PrUZ4NfKyUPgWeyj3bg/crDNsIRGwBaJQGorQ3Svdn2wHgc2BUKb0DPJHtjwfvbwRucc7tz+N+i9LFUdoXpfVN36I0CVwBTFI/q9e1LPxT8P4qYEdu70q12mYzWw1MYQzjeJF6zq+shHC4B7jklOBPP/TzSunh4P0DwKvAfb5c9krpe+CcwsEoZdbhEvBM9wxRAl5RShcA9wAngE3B+8tLpdLuwrhp4MNmK0pfRWkySr7NXS8+L5nZbWZWy/Vin1IaitJnUTqvwevJ71lgSSWEFKUfHG7Q2m/xqFJaGry/GXgfGPLl8mJgrXPur2JoUC8Qy3OpG+sAbGhEKT0ErAWOA6uBPWbW1wr9BOgFbgKezot0kAPYqJQA1gC/A9cA+82svzksSn1R+jNKX0SpnM/e1x3yqig92JhrZivM7FjO8bSZLSuCR/Ok16K0KMNHojQWpYko7Y7S1igN5PE3ROl4lNaZ2UVmNpPBU01orvZvZPCeKFXbBR+lEKVtUapFaSZKg9njqpl9aWYTrmXCImA7sCWb9lK/jj9TrwkrgA1AH3AQuKsSwkzbrLfxpgpsBtYDxf/R3xm2ExirhNCuHHZXTsmRwiat+S/zSt06eysVA/4pmGr/G3qm6ik28v29FKgCg8BS6pvS0KNRGgZ+Bb4FpsxsOkfUlMuwDcBWYOUZOHYM2AU8WQmhBifDv70O7PjX7KZ+4G7g3FM8zd6uBIaBy4AqxnIcZwFLCovPAhE4Sj38b4BDwEeVEFKD9S94Khjn486v3QAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAATCAYAAAB7u5a2AAABx0lEQVQ4jaWUv48NURiGn3ONmCs32ZBd28ht1gqyZAkF21ylQkEiSp2ehpDlD1BoFGqqVdJohYKI7MaPxMoVNghCWMF+7ybLUewnOXfcMWO9yeQ857zne8+XmZOBGjJpr0kvTIomvTZpS526UCO4DUwD64FjwCFgqZnnR+oc8LfgzKQ73vGsr42ZtGjSQFV9o8KfBCacZwCaef4YmAf2rzjcpN3A2WSpm/AssKcqPDNpDBjs410CViXzTwk/A7b1C4wxDgOngAsZcAXY2buDfp/6S4F3lDS8DjgBzDWAjX/Y/e/QgYS/AhsKHa+OMQ6GEJ4Cj4BOAxgq6aCowyZtdf4OtAr+FHDO+R4wWnVbihr3cQnICt4boO38GWj9a/icjwOACt4m4K3zEPA+AxaAtTWCnwN3lzHkEL8V/OPAGud9wK2GF9XR1Wae/1zG2AI+pGYI4VUIoRtjHAc2A9cz4LRPevYCZ+i9/4sJt4GXJU10gaPAzdI2TTro/5Tfz8XEe2LSZGmxq/SDNvP8BnA5WRrx4BwYBe6vONx1EnjovGvBLAAd4Adwuyq8UiaNmDTvr+a8SQ9MuvbfwckBHZPe+QEfTdpep+4XZmPBHiHgz74AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAACtklEQVQ4jZ2VSYiURxTHf+/T9Nc9iRrBuYySmIsXUU9iFMEFERRBvAjJLUQi5ioiHvSScfTmgqC4XAT1ZIgLuJHkICaaQAgKI2hAUBT30bjUq7bbv4eukXK029F3+eqtv/fqK6qQdEnSNUmT6CDB/bvgfjO4N9zj2RD8007xg1IABkwEzkma0qb4PGAPMBZYLtSD8eNwAEjqTlNI0gNJM4YU7w7ut4O7gvuhZFsR3C8NC5BBLiTIY0mzM8AvqbiC++pk+zLpE95XuwAws3vAQuBPYDRwWtL84P4tsDSLv5oaug4EYOawAMF9jMdoLxqNZcDvQA04UVYqL4G/svj7AF21mhJscrvCksYBFO7xc2AAGGg2mrdjvf4rcAyomNn+slLZmUEGBgsYdh945xZJmgvckDSrEJpK6ySBgV6q12O8ABwGPjGzfWWlsjdN9rpjoSfA+DYDXARGAksK4Is3XC1Ub4z1f4CDQGFmu6tleQSYk0U+p7WVeefLJc00s4fAeWB6Qeunvj0m2ugx9gO7kmlrtSxvBfcy6fXUZS6rgG/S+jLQUwCVNmMC9HqM14EtSe+rluWazN8YEv8IqKZ1E1qnaIDO0ucx3gX6kv6TpM3AM+D/IbGjgP60/gq4WQA33gMA2OQxPgHWJX1ttSwL4FAeZGYLgB2SasBs4A8L7qOBf9M0uXQB3a+TMYSmVctyDrA9mfcBK82smSdKWgCcAaa1bTm4fxbc/8uuCQX3RanAD5Ka6Wo5IGnE0HxJPZ03pQX5Org3MsD3AO5xXLPZXJ9BjkrqdFg6QjZkgG3Jtsw93pG0VFI9QU5K6voYQBHcTydAfwheBI9HgvvPAJIWS3qeIL9JGvUxkO7gfi1BrqTvwkG/pPmSnibIqTzXPgAyEVgBjAEu1qrVPbk/PVTHgb/NbPGg/RVIzOQqzSTBaQAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0yMCAtMjAgMjQwIDI0MCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4Mj0iMCIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjEiIHgyPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjA4Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImMiIHgxPSIxIiB4Mj0iMCIgeTE9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMDgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjE2Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgyPSIwIiB5MT0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii4xNiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMzMiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iZSIgeDI9IjEiIHkxPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjMzIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii42NiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJmIiB4Mj0iMSIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuNjYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiLz48L2xpbmVhckdyYWRpZW50PjxtYXNrIGlkPSJnIj48ZyBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjQwIj48cGF0aCBzdHJva2U9InVybCgjYSkiIGQ9Ik04Ni42LTUwYTEwMCAxMDAgMCAwMTAgMTAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjxwYXRoIHN0cm9rZT0idXJsKCNiKSIgZD0iTTg2LjYgNTBBMTAwIDEwMCAwIDAxMCAxMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2MpIiBkPSJNMCAxMDBhMTAwIDEwMCAwIDAxLTg2LjYtNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2QpIiBkPSJNLTg2LjYgNTBhMTAwIDEwMCAwIDAxMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2UpIiBkPSJNLTg2LjYtNTBBMTAwIDEwMCAwIDAxMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2YpIiBkPSJNMC0xMDBhMTAwIDEwMCAwIDAxODYuNiA1MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAwIDEwMCkiLz48L2c+PC9tYXNrPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4PSItMjAiIHk9Ii0yMCIgbWFzaz0idXJsKCNnKSIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDcxIDQ2NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwIiB4Mj0iMCIgeTE9IjAiIHkyPSIxIj48c3RvcCBvZmZzZXQ9IjY2LjY2JSIgc3RvcC1jb2xvcj0iI2ZmZiIvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+PC9saW5lYXJHcmFkaWVudD48cGF0aCBmaWxsPSJ1cmwoI2EpIiBkPSJNNzkgMzA4YzE0LjI1LTYuNSA1NC4yNS0xOS43NSA3MS0yOSA5LTMuMjUgMjUtMjEgMjUtMjFzMy43NS0xMyAzLTIyYy0xLjc1LTYuNzUtMTUtNDMtMTUtNDMtMi41IDMtNC43NDEgMy4yNTktNyAxLTMuMjUtNy41LTIwLjUtNDQuNS0xNi01NyAxLjI1LTcuNSAxMC02IDEwLTYtMTEuMjUtMzMuNzUtOC02Ny04LTY3cy4wNzMtNy4zNDYgNi0xNWMtMy40OC42MzctOSA0LTkgNCAyLjU2My0xMS43MjcgMTUtMjEgMTUtMjEgLjE0OC0uMzEyLTEuMzIxLTEuNDU0LTEwIDEgMS41LTIuNzggMTYuNjc1LTguNjU0IDMwLTExIDMuNzg3LTkuMzYxIDEyLjc4Mi0xNy4zOTggMjItMjItMi4zNjUgMy4xMzMtMyA2LTMgNnMxNS42NDctOC4wODggNDEtNmMtMTkuNzUgMi0yNCA2LTI0IDZzNzQuNS0xMC43NSAxMDQgMzdjNy41IDkuNSAyNC43NSA1NS43NSAxMCA4OSAzLjc1LTEuNSA0LjUtNC41IDkgMSAuMjUgMTQuNzUtMTEuNSA2My0xOSA2Mi0yLjc1IDEtNC0zLTQtMy0xMC43NSAyOS41LTE0IDM4LTE0IDM4LTIgNC4yNS0zLjc1IDE4LjUtMSAyMiAxLjI1IDQuNSAyMyAyMyAyMyAyM2wxMjcgNTNjMzcgMzUgMjMgMTM1IDIzIDEzNUwwIDQ2NHMtMy05Ni43NSAxNC0xMjBjNS4yNS02LjI1IDIxLjc1LTE5Ljc1IDY1LTM2eiIvPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNzkgODYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTkuNzU3IDQwLjkyNGMzLjczOC01LjE5MSAxMi43MTEtNC4zMDggMTIuNzExLTQuMzA4IDIuMjIzIDMuMDE0IDUuMTI2IDI0LjU4NiAzLjYyNCAyOC43MTgtMS40MDEgMS4zMDEtMTEuNjExIDEuNjI5LTEzLjM4LTEuNDM2LTEuMjI2LTguODA0LTIuOTU1LTIyLjk3NS0yLjk1NS0yMi45NzV6bTU4Ljc4NSAwYy0zLjczNy01LjE5MS0xMi43MTEtNC4zMDgtMTIuNzExLTQuMzA4LTIuMjIzIDMuMDE0LTUuMTI2IDI0LjU4Ni0zLjYyNCAyOC43MTggMS40MDEgMS4zMDEgMTEuNjExIDEuNjI5IDEzLjM4LTEuNDM2IDEuMjI2LTguODA0IDIuOTU1LTIyLjk3NSAyLjk1NS0yMi45NzV6Ii8+PHBhdGggZD0iTTY4LjY0NyA1OC42Yy43MjktNC43NTMgMi4zOC05LjU2MSAyLjM4LTE0LjgwNCAwLTIxLjQxMi0xNC4xMTUtMzguNzctMzEuNTI4LTM4Ljc3LTE3LjQxMiAwLTMxLjUyNyAxNy4zNTgtMzEuNTI3IDM4Ljc3IDAgNC41NDEuNTE1IDguOTM2IDEuODAyIDEyLjk1IDEuNjk4IDUuMjk1LTUuNTQyIDYuOTkxLTYuNjE2IDIuMDczQzIuNDEgNTUuMzk0IDAgNTEuNzg3IDAgNDguMTAzIDAgMjEuNTM2IDE3LjY4NSAwIDM5LjUgMCA2MS4zMTYgMCA3OSAyMS41MzYgNzkgNDguMTAzYzAgLjcxOC0yLjg5OSA5LjY5My0zLjI5MiAxMS40MDgtLjc1NCAzLjI5My03Ljc1MSAzLjU4OS03LjA2MS0uOTEyeiIvPjxwYXRoIGQ9Ik01LjA4NCA1MS4zODVjLS44MDQtMy43ODIuNTY5LTcuMzM1IDMuMTM0LTcuOTIxIDIuNjM2LS42MDMgNS40ODUgMi4xNSA2LjI4OSA2LjEzMi43OTcgMy45NDgtLjc1MiA3LjQ1Ny0zLjM4OCA3Ljg1OS0yLjU2Ni4zOTEtNS4yMzctMi4zMTgtNi4wMzQtNi4wN3ptNjguODM0IDBjLjgwNC0zLjc4Mi0uNTY4LTcuMzM1LTMuMTMzLTcuOTIxLTIuNjM2LS42MDMtNS40ODUgMi4xNS02LjI4OSA2LjEzMi0uNzk3IDMuOTQ4Ljc1MiA3LjQ1NyAzLjM4OSA3Ljg1OSAyLjU2NS4zOTEgNS4yMzctMi4zMTggNi4wMzQtNi4wN3ptLTIuMDM4IDguMjg4Yy0uOTI2IDE5LjY1OS0xNS4xMTIgMjQuNzU5LTI1Ljg1OSAyMC40NzUtNS40MDUtLjYwNi0zLjAzNCAxLjI2Mi0zLjAzNCAxLjI2MiAxMy42NjEgMy41NjIgMjYuMTY4IDMuNDk3IDMxLjI3My0yMC41NDktLjU4NS00LjUxMS0yLjM3OS0xLjE4Ny0yLjM3OS0xLjE4N3oiLz48cGF0aCBkPSJNNDEuNjYyIDc4LjQyMmw3LjU1My41NWMxLjE5Mi4xMDcgMi4xMiAxLjE1MyAyLjA3MiAyLjMzNWwtLjEwOSAyLjczOGMtLjA0NyAxLjE4Mi0xLjA1MSAyLjA1NC0yLjI0MyAxLjk0NmwtNy41NTMtLjU1Yy0xLjE5MS0uMTA3LTIuMTE5LTEuMTUzLTIuMDcyLTIuMzM1bC4xMDktMi43MzdjLjA0Ny0xLjE4MiAxLjA1Mi0yLjA1NCAyLjI0My0xLjk0N3oiLz48L2c+PC9zdmc+"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAINUlEQVR42u2aaUxUVxTHcRBmAAEBRVTK4sKwDIsg+wCK7CqIw1CN1YobbbS2qYlJ06Qx1UpdqMbYWq2pSzWmH6ytNbXWJY1Lq7VuqBERtW64V0XFLYae0/xvcp3MMAMzDz6IyT/ge2ce5/7ucpY3Ts3NzZ1ygF57AJ0gO0G2jyZPmdbFyclJSAV1EeoEaUUSLGdSV5KLLFxzFmA7QVqGqDqjixhWkxCVeyRVl38wM6bwj6yYItYK47BAuu9B0gCqs6Ng2r494KQtkj/Dz2jHraw6qw2fdSE4rNmcCPCvZONP8iF1I6kdBdMaQJWZLeJqRWa2kPJAxXY+GxE+zxLI03GRh8lGSwoi9WCY8FWlCEh+8JOnT7MfPGjMuXX7Tt61hoaCi/9cKmKdv3BxeEtim/UbNpnbQiqF4MmT7kqrbr4lkMcTo46TTSpJB5g+8NHuVWnWuaampvhmO/7duHmrGluoO4C6OsJZGRrkDIld43ZqUOTnlkDSmXmabAoBU0vqBf+6KgFSxQ9++uzZ8rZApM81TJ8xM5me0Z/UF7PuBmdVdkGEb5gYDeQmyZNW3SJLIP9Kj64lGyMpmxRN6sOfIbkoAhKOdnv2/PmB1kB88eLFo+olyyrps3rSINIAzLonnqlqK8R9w+L86vtrt5L2nhug3Vc3ULu/Liz8AOuXESlZZONH6kmr7gtLIA9lRNeRzVukAvj3BslLnJNKgfScO69K+/Lly0ZbQW7e8tNK+pwBjqaSIjDrXgJkW1ciAZvbQjQ+RDahpBBKd5ZZsqN758hmImk4KQHnpDd8UwSkCyJarx07d4+3BeKJmlMHyX4qaRxpBCmNFE4KENvHDpAutVERn1kCVBMfeRRgYvZnx62wZPdnZkw92VQA5GClQXYRBze2S+iJmpPVVoJLA9l9QKokjcWKTCT1R5rhLg70NuSsziT16diIKkuAjibrTpJNDkn/e17CahtAjlAWJAYkb29Sb1LE9Rs391kILk8mVkyuIpuZcLKUlEmKkra1WuSTNuesEPzwoEploSVAh9Oiz+BIyd9dOHhtx4OEpFpVg6gbNK3yXX1j48N6U5Dz5i/gc/FDrMY3sTLiSMEkXxGxzUEUAGnbxlPaksMlHUXWAlHS8URCPseSohZbCSLjSSU7ixLXdzhIWVKq4Y7t2a/2bN0qGeKly1fYsVmk6RgIDz4J0bonyUOcjeYqm/8hRoYbWkigV2NH9CHAS60EkUkkw47hSRs6FqT1LR5AVcsrueXlK1d5AO+RpmBrZZEiefByytPCanRGNLZY0uF52gNDYr9sCRB8MHY0SJu2OJWKS2WQV65e4y31DmkCImEi0hBfufRime0RIhpbKen0/Ny9OYNW2ghyYytABjNIaxNuKttAWk6HPLn0k0FevdZwFinPWFIuKZbUV16NVko6jbWSDoPO3pOf8K0jQWLSQ0S9bdpkYck+m7vfWpAiHfKgBsZiGSSt0FqcTeU8WETqAHE2CgcAVd3Gkm4MD3xXYeI6B4NMItvKbcUpQ9gP+KMWnSsW+TaYJtoo+avBWLoKoK0CCSDud+7eXWQGZAXqV3YoQjQCfixJ8+fzj9ta3JHhlUeJ8wJOY2ws6eRKpPS3oqTvHAESEz9ya0naXL5WH6pt3FqSOhTHkTcKEXc6k1POh4Q9YJu/03TT4a8PoGMFI4i2EqSbOZAYaBkpCyD92RkG6KCSbjI/H0HEISBnlOZPFdcEzI2GTO4KBZICGKyAKLTEmJOB2txf5MbgohBINCl4FTqmpJMB2W+HiRn1Q2l6lXyPmiEP6VVE2TfGoaMYrHyPdtAnyI0jEOn9RLWmNEhvBBE7SjpFQZaShtLK+1S+T12lRwxUvrZlVPp8jE1PikeO7C/nyEqBDCB1t7+kUx4kKUWclea0yZC5BIGpiJSNSD9QgFR0RQKkL6KxHSWdsiARHJNYewoGrzG1/bk4dTPSunL2EyDjcbb7MQ+lQfZmkKiN7SjpFAM5CWAyGcwyY84YsZ1lUcbRNNtQMAdtQWGvQ0DyVjzYAKQfQFodeAeC1C8vzymXIZqD+ZEh/2OyLSalS/3VbnJZ+VqDXGjMrTCFuK4s66vVZUNfqaDolcbjOcb899sLpEE+I20GifywXe2QR3KElu99PzqjGufhREqB1pjCnG3IL3fY1v733r2FMsiGhutn0LAoJWWIGbPxjKwgjUbF0m52mPhigrpdXOecEq9pR6MkHbu2LOtrcZ9y3d0ODTb15y9MePz48aF79+8fvXnr9sljx2u2I7KNxDuaMPGVECoRs7mC4eT7SIruFNfNHK15MKuM2evwNq+4qjxvGnd5CHwNNynawW4cOlUZdG8b55IIJHmkItwrZHH6QxB3OSL9kTtAGpIvZiQB3Z4SKBfXQtEE9sashWAW87Bt3sYZNR6zn4uzJwWDKUKXfaKCdqUoBpLxSjYe9nqGiwWRBGipuGZ3Qm76itYLbbJI/PEhUApfw73uOIy9xfse3M9F9BuFJHcYrseSouGkHtCVtkuGTTikI8XgZzhg9SeF4VqcvSWiaSvNHQ8JwkNjIfEHemCmNLD1RaEfLs18mlgNuN6PFALHo7CyU5W2g00gFAQF4ozvibH04muwDbWraSFAyt/AAMzewgGR8uCeWn77xzBxPxgzPRCDDMZ14bQ/3jqGKGoHf2Hjgx3kw5LbaJDYWb52t9FMgw4AuWNWukNeuOYqOsmQi2jgws4PA/DD/z0B2x0/veCs4naw0cgybezid7X9jV3rX2RSs0wfLkll4pBGcgifg+NYxe1kJ2ycTaRq66uG/wBOl0vjcw70xwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAGMElEQVR4Ae2aA7D0yBaAc7oH12vbRmlLaxYWb23btm3btm2899a2bWuYtPZ01cmtU9lJrib315yqr9I3Oem/5/s7acwEnehEJzoxCcX2O+wEeIgRBDDaGjAZOgQ6ihRpLklHZDJIXK1WWymMIhGGkVBKCWMM+Iv/f/b5t7faYtM/sGgIS7j8RNLjceUVl41GvGN1BFiHy9sgtRWaYbhvuVQ6o1VOvV5/tLe3dyssKoZuh8xClkDEi2MMS6ZjR0cScxdK/+HgnJsmLccYOx0e/PUGUqfTJDEHkV5go9lcMQoj4R8RpSIRRUr4a9baTJFCCNfqESKJ7RYJibK0xoi05EhFRTxMi1Rit6xHAuLaKRLwEVi6q1x+EhlVpd3d3Wfh4VQkQhRhxthYLg7SRGqdLlIp7UVOHf+JhEhEMscUolVje3p63saeeOFoKsT7fjj++BNuw2I/0ouUENmGaQcQEilQvUU6xuWC0kqmVWCt8df6kG7WLoFA20VSCOyNh0RKPT+SyrTWtQsvuvTYCy84z3+oAdbgAiLGIvHjTz6bFuu/B3lKKfVkFKknwih6EnnipZdfXQZzepAupXSGSCfwUGZtkrx3t/0dSQGnnXbmdocdetArQoj+4VR23wMP3bj/vnv9Sv/rBmkish09ca655thHSrlWq4TFF1vkNDxsgjiUnPqZnHPABIq47jx7pPMcecShfz7x1DO7D6eit99576X1113nVd8rqLGAuDaNitJonTGIqHgQGQjDsJglMrUH5iDSEQbRa6y2yrNvv/PuWVmV/PTzLz8steTit1B9FtGJeZrJksmWdBzBMcami4xUkaY1A1Qe94WIaPGBApJhaERrLrXkElf8+NPPz6YMLs1DDjn0Wn9PnI/UiQadM4jNEkhzVsEGE8nIHESM1j5/KqRX+/IEiOQ/yifNBlEkpnb00cccesbpp13T3983H88/48xzrrvm6it/8U5JXgX5G6nSvSq1R5LATR7aYGkwMG1RSwkWABH+4jUb3vT/uJ1Z0xpjraTBRltrxUQhksIRmgTJyy69+Pv99tv3qYX6FxgU+fU33352xGEHf5wisU7nNWJpZRMkAjZ6aIN1mwV7h29Jo2wCHlveu/GV169z65E+T6koexCh6c+EEiky3lnxQKFjUeVyOeI5AOBzIiayRhJryd7YYnkIHgvB0qk9Tdql6N3XH4bRUIOIIIKJSiRb0hkSEpZKRd1CpEq8GxtIyCVmDSgFl94GacTgaJw1rUlYhYng0c4ewaUsmKRIJjpiqMSOCh9QeI+UYECmtQIsxEu6OorEcv6Rl0gu0woh8MhFkmSCTXVI4pC704WCFRJvSRNJSzrMMEZO2iKZTCHAZYnmvXCny7ed5vfZK3viHSBdIFCKEFj2+nt+73nw8m2uedcLJlktA++VNMEPaR45aYukcKnnCfY3/DFbZS8t7eHxNgsPM0N1hXhJJwwM1QbpoQFlog2R13a/zBxEYHAQEUYUM6qiVwEyBYoM6JFNF2kFLelI5KQf+fVI4dJFCguDS7oAyx2R6SFQJKRedSDj/cMg/RXQ6ZE05GSIDAaXdCi1I3L021SQWNJ1RLY5OiIdL4/yvuw8ADfWPFrSciaMyH8tEQPwf1uGG54g5+KlJGTmsrxsQdl5PKidnPFe2QS///7Hu+VS6WX/HYnf0sevGL7lXydwod2/9DykZq0s5yff0sgSWCigNOH7TPHL7ufj+/TH8P/+qYpL4HkBDiRYpEXeM8/89/9zzjn7EtY64dfd1nqccM7Bs8+9MKy8555/8TnKS+5MufH6EZVASkgPzf+mJXroet17JirU0ALST3nT0y5ONyLpeo1y64ih+vuQfsoTOeRFSJXa+SvyB90TUmdw49EjLaKpMQ0mzEeTzkWsd/oI6fzfiKM8gWg6X6OjpXstu5ZHnmIb0GFiu29MIUfUewkmVrEN3RqVQ/bY8FzNcquMBv/pCNUZ5pHHem01KdN/I/DG66/lLhKSvTO5M84kav5C5z2ZfyAivi9i9VGd45RH7UWJbjwGG/7NYsRECt7jiOToHedKAui8SW4CsxyRc54mKH/8f7ELhCCACyNcIl/wI+FaAJyc8yzRtinQPzWzuFZrFHq/AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTUwIiBoZWlnaHQ9IjkwIj48ZGVmcz48cGF0aCBkPSJNNjcgMTJMNi40NDggNzIuNTUyIDAgMzFWMThMMjYgMGw0MSAxMnptMyA3bDYgNDctMjkgMTgtMzUuNTAyLTYuNDk4TDcwIDE5eiIgaWQ9ImEiLz48L2RlZnM+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSI5MCIgcng9IjM1IiByeT0iNDUiIG9wYWNpdHk9Ii41Ii8+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNikiPjxtYXNrIGlkPSJiIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS4yNDkgNTEuMzEyYy42OTcgMTAuMzcgMi43ODUgMTcuODk3IDUuMjUxIDE3Ljg5NyAzLjAzOCAwIDUuNS0xMS40MTcgNS41LTI1LjVzLTIuNDYyLTI1LjUtNS41LTI1LjVjLTIuNTEgMC00LjYyOCA3Ljc5Ny01LjI4NyAxOC40NTNBOC45ODkgOC45ODkgMCAwMTQzIDQ0YTguOTg4IDguOTg4IDAgMDEtMy43NTEgNy4zMTJ6TTIwLjk4NSAzMi4yMjRsMTUuNzQ2LTE2Ljg3N2E3LjM4NSA3LjM4NSAwIDAxMTAuMzc0LS40MkM1MS43MDIgMTkuMTE0IDU0IDI5LjIwOCA1NCA0NS4yMDhjMCAxNC41MjctMi4zNDMgMjMuODgtNy4wMyAyOC4wNThhNy4yOCA3LjI4IDAgMDEtMTAuMTY4LS40NjhMMjAuNDA1IDU1LjIyNEgxMmE1IDUgMCAwMS01LTV2LTEzYTUgNSAwIDAxNS01aDguOTg1eiIgZmlsbD0iI0ZGRiIgbWFzaz0idXJsKCNiKSIvPjwvZz48cGF0aCBkPSJNMTA2LjUgMTMuNUw0NC45OTggNzUuMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik03MCAxMkw5LjQ0OCA3Mi41NTIgMCA2MmwzLTQ0TDI5IDBsNDEgMTJ6bTggMmwxIDUyLTI5IDE4LTM1LjUwMi02LjQ5OEw3OCAxNHoiIGlkPSJhIi8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCAzKSI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTkuMTEgMjAuOTY4SDQ4LjFhNSA1IDAgMDE1IDVWNTguMThhNSA1IDAgMDEtNSA1SDkuMTFhNSA1IDAgMDEtNS01VjI1Ljk3YTUgNSAwIDAxNS01em00Ny4wOCAxMy4zOTRjMC0uMzQ1IDUuNDcyLTMuMTU5IDE2LjQxNS04LjQ0M2EzIDMgMCAwMTQuMzA0IDIuNzAydjI2LjgzNWEzIDMgMCAwMS00LjMwNSAyLjcwMWMtMTAuOTQyLTUuMjg2LTE2LjQxMy04LjEtMTYuNDEzLTguNDQ2VjM0LjM2MnoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48L2c+PHBhdGggZD0iTTgxLjUgMTYuNUwxOS45OTggNzguMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg=="},function(e,t,n){var r,i,o,a,s={},c=(r=function(){return window&&document&&document.all&&!window.atob},function(){return i=void 0===i?r.apply(this,arguments):i}),u=(o={},function(e,t){if("function"==typeof e)return e();if(void 0===o[e]){if(t=function(e,t){return(t||document).querySelector(e)}.call(this,e,t),window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}o[e]=t}return o[e]}),d=null,l=0,f=[],p=n(340);function h(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=s[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(_(r.parts[o],t))}else{var a=[];for(o=0;o<r.parts.length;o++)a.push(_(r.parts[o],t));s[r.id]={id:r.id,refs:1,parts:a}}}}function v(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0];o={css:o[1],media:o[2],sourceMap:o[3]},r[a]?r[a].parts.push(o):n.push(r[a]={id:a,parts:[o]})}return n}function m(e,t){var n=u(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!==_typeof(e.insertAt)||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");r=u(e.insertAt.before,n),n.insertBefore(t,r)}}function g(e){null!==e.parentNode&&(e.parentNode.removeChild(e),0<=(e=f.indexOf(e))&&f.splice(e,1))}function b(e){var t,r=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce&&(t=n.nc)&&(e.attrs.nonce=t),y(r,e.attrs),m(e,r),r}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function _(e,t){var n,r,i,o,a;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}return i=t.singleton?(o=l++,n=d=d||b(t),r=w.bind(null,n,o,!1),w.bind(null,n,o,!0)):e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=t,a=document.createElement("link"),void 0===o.attrs.type&&(o.attrs.type="text/css"),o.attrs.rel="stylesheet",y(a,o.attrs),m(o,a),r=function(e,t,n){var r=n.css,i=(n=n.sourceMap,void 0===t.convertToAbsoluteUrls&&n);(t.convertToAbsoluteUrls||i)&&(r=p(r)),n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),t=new Blob([r],{type:"text/css"}),i=e.href,e.href=URL.createObjectURL(t),i&&URL.revokeObjectURL(i)}.bind(null,n=a,t),function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),r=function(e,t){var n=t.css;if((t=t.media)&&e.setAttribute("media",t),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){g(n)}),r(e),function(t){t?t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap||r(e=t):i()}}function w(e,t,n,r){n=n?"":r.css,e.styleSheet?e.styleSheet.cssText=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")}(t,n):(r=document.createTextNode(n),(n=e.childNodes)[t]&&e.removeChild(n[t]),n.length?e.insertBefore(r,n[t]):e.appendChild(r))}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!==("undefined"==typeof document?"undefined":_typeof(document)))throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"===_typeof(t.attrs)?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=c()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=v(e,t);return h(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var o=n[i];(a=s[o.id]).refs--,r.push(a)}var a;for(e&&h(v(e,t),t),i=0;i<r.length;i++)if(0===(a=r[i]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete s[a.id]}}},a=[]},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){return t=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t})),/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(t)?e:(e=0===t.indexOf("//")?t:0===t.indexOf("/")?n+t:r+t.replace(/^\.\//,""),"url("+JSON.stringify(e)+")")}))}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(80),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__;return!((e=r(t,e))<0||(e==t.length-1?t.pop():i.call(t,e,1),--this.size,0))}},function(e,t,n){var r=n(80);e.exports=function(e){var t=this.__data__;return(e=r(t,e))<0?void 0:t[e][1]}},function(e,t,n){var r=n(80);e.exports=function(e){return-1<r(this.__data__,e)}},function(e,t,n){var r=n(80);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(79);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(79),i=n(109),o=n(110);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(15),i=n(354),o=n(9),a=n(174),s=/^\[object .+?Constructor\]$/,c=(n=Function.prototype,Object.prototype),u=(n=n.toString,c=c.hasOwnProperty,RegExp("^"+n.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"));e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?u:s).test(a(e))}},function(e,t,n){n=n(38);var r=Object.prototype,i=r.hasOwnProperty,o=r.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{var r=!(e[a]=void 0)}catch(e){}var s=o.call(e);return r&&(t?e[a]=n:delete e[a]),s}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){n=n(355);var r=(n=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!r&&r in e}},function(e,t,n){n=n(14)["__core-js_shared__"],e.exports=n},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(358),i=n(79),o=n(109);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(359),i=n(360),o=n(361),a=n(362);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}n=n(363),s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=n,e.exports=s},function(e,t,n){var r=n(81);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e}},function(e,t,n){var r=n(81),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t,n=this.__data__;return r?"__lodash_hash_undefined__"===(t=n[e])?void 0:t:i.call(n,e)?n[e]:void 0}},function(e,t,n){var r=n(81),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(81);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(82);e.exports=function(e){return e=r(this,e).delete(e),this.size-=e?1:0,e}},function(e,t){e.exports=function(e){var t=_typeof(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(82);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(82);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(82);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(29),i=n(16);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(29),i=n(112),o=n(16),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t,n){n=n(178)(Object.keys,Object),e.exports=n},function(e,t,n){var r=n(39),i=n(52);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(9),i=n(68),o=n(376),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t,n=i(e),s=[];for(t in e)("constructor"!=t||!n&&a.call(e,t))&&s.push(t);return s}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(39),i=n(115);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t,n){var r=n(39),i=n(181);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){n=n(37)(n(14),"DataView"),e.exports=n},function(e,t,n){n=n(37)(n(14),"Promise"),e.exports=n},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(118),i=n(384),o=n(385),a=n(386),s=n(188);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},function(e,t,n){var r=n(118);e.exports=function(e,t){return t=t?r(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=(n=(n=n(38))?n.prototype:void 0)?n.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},function(e,t,n){var r=n(388),i=n(67);i=(n=(n=n(113))&&n.isMap)?i(n):r,e.exports=i},function(e,t,n){var r=n(40),i=n(16);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(390),i=n(67);i=(n=(n=n(113))&&n.isSet)?i(n):r,e.exports=i},function(e,t,n){var r=n(40),i=n(16);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){(function(r){t.log=function(){return"object"===("undefined"==typeof console?"undefined":_typeof(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(t){var n,r,i=this.useColors;t[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+t[0]+(i?"%c ":" ")+"+"+e.exports.humanize(this.diff),i&&(i="color: "+this.color,t.splice(1,0,i,"color: inherit"),t[r=n=0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))})),t.splice(r,0,i))},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.setItem("debug",e)}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e},t.useColors=function(){var e=function(e){e="debug_"+e.toLowerCase();try{return t.storage.getItem(e)}catch(t){return void 0!==r&&"env"in r?r.env[e.toUpperCase()]:void 0}}("colors");return!/^(no|off|false|disabled)$/i.test(e)&&(!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&Boolean("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(392)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(69))},function(e,t,n){e.exports=function(e){function t(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[Math.abs(n)%r.colors.length]}function r(e){var n;function o(){if(o.enabled){for(var e=o,t=+new Date,i=t-(n||t),a=(e.diff=i,e.prev=n,e.curr=t,n=t,new Array(arguments.length)),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=r.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(t,n){return"%%"===t||(c++,"function"==typeof(n=r.formatters[n])&&(i=a[c],t=n.call(e,i),a.splice(c,1),c--)),t;var i})),r.formatArgs.call(e,a),(e.log||r.log).apply(e,a)}}return o.namespace=e,o.enabled=r.enabled(e),o.useColors=r.useColors(),o.color=t(e),o.destroy=i,"function"==typeof r.init&&r.init(o),r.instances.push(o),o}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}return(r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){r.save(e),r.names=[],r.skips=[];var t,n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(393),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=864e5;function r(e,t,n,r){return t=1.5*n<=t,Math.round(e/n)+" "+r+(t?"s":"")}e.exports=function(e,t){t=t||{};var i=_typeof(e);if(!("string"===i&&0<e.length)){if("number"===i&&isFinite(e))return(t.long?function(e){var t=Math.abs(e);return n<=t?r(e,t,n,"day"):36e5<=t?r(e,t,36e5,"hour"):6e4<=t?r(e,t,6e4,"minute"):1e3<=t?r(e,t,1e3,"second"):e+" ms"}:function(e){var t=Math.abs(e);return n<=t?Math.round(e/n)+"d":36e5<=t?Math.round(e/36e5)+"h":6e4<=t?Math.round(e/6e4)+"m":1e3<=t?Math.round(e/1e3)+"s":e+"ms"})(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}if(i=e,!(100<(i=String(i)).length)&&(i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i))){var o=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*n;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*o;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*o;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}},function(e,t,n){var r=n(395),i=n(175);n=n(88),e.exports=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:n},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){"use strict";var r=n(194),i=new r;e.exports=function(e,t){if(void 0===t)return e;i.has(t)||i.set(t,new r);var n=i.get(t);return n.has(e)||n.set(e,e.bind(t)),n.get(e)}},function(e,t,n){"use strict";e.exports=function(){var e,t;if("function"!=typeof WeakMap)return!1;try{e=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch(e){return!1}return"[object WeakMap]"===String(e)&&"function"==typeof e.set&&e.set({},1)===e&&"function"==typeof e.delete&&"function"==typeof e.has&&"one"===e.get(t)}},function(e,t,n){"use strict";var r,i=n(42),o=n(123),a=n(401),s=n(31),c=n(402),u=n(32),d=n(201),l=n(444),f=n(43).toStringTag,p=n(445),h=Array.isArray,v=Object.defineProperty,m=Object.prototype.hasOwnProperty,g=Object.getPrototypeOf;e.exports=r=function(){var e,t=arguments[0];if(this instanceof r)return e=p&&o&&WeakMap!==r?o(new WeakMap,g(this)):this,i(t)&&!h(t)&&(t=d(t)),v(e,"__weakMapData__",u("c","$weakMap$"+c())),t&&l(t,(function(t){s(t),e.set(t[0],t[1])})),e;throw new TypeError("Constructor requires 'new'")},p&&(o&&o(r,WeakMap),r.prototype=Object.create(WeakMap.prototype,{constructor:u(r)})),Object.defineProperties(r.prototype,{delete:u((function(e){return!!m.call(a(e),this.__weakMapData__)&&(delete e[this.__weakMapData__],!0)})),get:u((function(e){if(m.call(a(e),this.__weakMapData__))return e[this.__weakMapData__]})),has:u((function(e){return m.call(a(e),this.__weakMapData__)})),set:u((function(e,t){return v(a(e),this.__weakMapData__,u("c",t)),this})),toString:u((function(){return"[object WeakMap]"}))}),v(r.prototype,f,u("c","WeakMap"))},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r,i,o,a,s=Object.create;n(195)()||(r=n(196)),e.exports=r&&1===r.level?(a={configurable:!(o={}),enumerable:!(i={}),writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(e){o[e]="__proto__"===e?{configurable:!0,enumerable:!1,writable:!0,value:void 0}:a})),Object.defineProperties(i,o),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(e,t){return s(null===e?i:e,t)}):s},function(e,t,n){"use strict";var r=n(197);e.exports=function(e){if(r(e))return e;throw new TypeError(e+" is not an Object")}},function(e,t,n){"use strict";var r=Object.create(null),i=Math.random;e.exports=function(){for(var e;e=i().toString(36).slice(2),r[e];);return e}},function(e,t,n){"use strict";var r=n(404);e.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!r(e)}},function(e,t,n){"use strict";var r=n(124);e.exports=function(e){if(!r(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}}},function(e,t,n){"use strict";e.exports=function(){var e;return"function"==typeof __webpack_provided_Object_dot_assign&&(__webpack_provided_Object_dot_assign(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(407),i=n(31),o=Math.max;e.exports=function(e,t){var n,a,s,c=o(arguments.length,2);for(e=Object(i(e)),s=function(r){try{e[r]=t[r]}catch(r){n=n||r}},a=1;a<c;++a)r(t=arguments[a]).forEach(s);if(void 0!==n)throw n;return e}},function(e,t,n){"use strict";e.exports=n(408)()?Object.keys:n(409)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(42),i=Object.keys;e.exports=function(e){return i(r(e)?Object(e):e)}},function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return-1<r.call(this,e,arguments[1])}},function(e,t,n){"use strict";var r=n(123),i=n(200),o=n(32),a=n(43),s=n(203),c=Object.defineProperty,u=e.exports=function(e,t){if(!(this instanceof u))throw new TypeError("Constructor requires 'new'");s.call(this,e),t=t?i.call(t,"key+value")?"key+value":i.call(t,"key")?"key":"value":"value",c(this,"__kind__",o("",t))};r&&r(u,s),delete u.prototype.constructor,u.prototype=Object.create(s.prototype,{_resolve:o((function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e}))}),c(u.prototype,a.toStringTag,o("c","Array Iterator"))},function(e,t,n){"use strict";var r=n(91),i={object:!0,symbol:!0};e.exports=function(){var e,t=r.Symbol;if("function"!=typeof t)return!1;e=t("test symbol");try{String(e)}catch(e){return!1}return!!i[_typeof(t.iterator)]&&!!i[_typeof(t.toPrimitive)]&&!!i[_typeof(t.toStringTag)]}},function(e,t,n){"use strict";e.exports=function(){return"object"===("undefined"==typeof globalThis?"undefined":_typeof(globalThis))&&!!globalThis&&globalThis.Array===Array}},function(e,t){function n(){if("object"===("undefined"==typeof self?"undefined":_typeof(self))&&self)return self;if("object"===("undefined"==typeof window?"undefined":_typeof(window))&&window)return window;throw new Error("Unable to resolve global `this`")}e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},function(e,t,n){"use strict";var r,i,o,a=n(32),s=n(202),c=n(91).Symbol,u=n(418),d=n(419),l=(n=n(420),Object.create),f=Object.defineProperties,p=Object.defineProperty;if("function"==typeof c)try{String(c()),o=!0}catch(e){}else c=null;i=function(e){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return r(e)},e.exports=r=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return o?c(t):(n=l(i.prototype),t=void 0===t?"":String(t),f(n,{__description__:a("",t),__name__:a("",u(t))}))},d(r),n(r),f(i.prototype,{constructor:a(r),toString:a("",(function(){return this.__name__}))}),f(r.prototype,{toString:a((function(){return"Symbol ("+s(this).__description__+")"})),valueOf:a((function(){return s(this)}))}),p(r.prototype,r.toPrimitive,a("",(function(){var e=s(this);return"symbol"===_typeof(e)?e:e.toString()}))),p(r.prototype,r.toStringTag,a("c","Symbol")),p(i.prototype,r.toStringTag,a("c",r.prototype[r.toStringTag])),p(i.prototype,r.toPrimitive,a("c",r.prototype[r.toPrimitive]))},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"===_typeof(e)||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},function(e,t,n){"use strict";var r=n(32),i=(n=Object.create,Object.defineProperty),o=Object.prototype,a=n(null);e.exports=function(e){for(var t,n,s=0;a[e+(s||"")];)++s;return a[e+=s||""]=!0,i(o,t="@@"+e,r.gs(null,(function(e){n||(n=!0,i(this,t,r(e)),n=!1)}))),t}},function(e,t,n){"use strict";var r=n(32),i=n(91).Symbol;e.exports=function(e){return Object.defineProperties(e,{hasInstance:r("",i&&i.hasInstance||e("hasInstance")),isConcatSpreadable:r("",i&&i.isConcatSpreadable||e("isConcatSpreadable")),iterator:r("",i&&i.iterator||e("iterator")),match:r("",i&&i.match||e("match")),replace:r("",i&&i.replace||e("replace")),search:r("",i&&i.search||e("search")),species:r("",i&&i.species||e("species")),split:r("",i&&i.split||e("split")),toPrimitive:r("",i&&i.toPrimitive||e("toPrimitive")),toStringTag:r("",i&&i.toStringTag||e("toStringTag")),unscopables:r("",i&&i.unscopables||e("unscopables"))})}},function(e,t,n){"use strict";var r=n(32),i=n(202),o=Object.create(null);e.exports=function(e){return Object.defineProperties(e,{for:r((function(t){return o[t]||(o[t]=e(String(t)))})),keyFor:r((function(e){for(var t in i(e),o)if(o[t]===e)return t}))})}},function(e,t,n){"use strict";var r=n(31);e.exports=function(){return r(this).length=0,this}},function(e,t,n){"use strict";var r=n(54),i=n(423),o=n(427),a=n(428),s=n(199),c=n(438),u=Function.prototype.bind,d=Object.defineProperty,l=Object.prototype.hasOwnProperty,f=function(e,t,n){var r=i(t)&&o(t.value),s=a(t);return delete s.writable,delete s.value,s.get=function(){return!n.overwriteDefinition&&l.call(this,e)?r:(t.value=u.call(r,n.resolveContext?n.resolveContext(this):this),d(this,e,t),this[e])},s};e.exports=function(e){var t=s(arguments[1]);return r(t.resolveContext)&&o(t.resolveContext),c(e,(function(e,n){return f(n,e,t)}))}},function(e,t,n){"use strict";var r=n(204),i=n(54);e.exports=function(e){return i(e)?e:r(e,"Cannot use %v",arguments[1])}},function(e,t,n){"use strict";var r=n(54),i=n(124),o=Object.prototype.toString;e.exports=function(e){if(!r(e))return null;if(i(e)){var t=e.toString;if("function"!=typeof t)return null;if(t===o)return null}try{return""+e}catch(e){return null}}},function(e,t,n){"use strict";var r=n(426),i=/[\n\r\u2028\u2029]/g;e.exports=function(e){return null===(e=r(e))?"<Non-coercible to string value>":(e=100<e.length?e.slice(0,99)+"":e).replace(i,(function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},function(e,t,n){"use strict";e.exports=function(e){try{return e.toString()}catch(t){try{return String(e)}catch(e){return null}}}},function(e,t,n){"use strict";var r=n(204),i=n(198);e.exports=function(e){return i(e)?e:r(e,"%v is not a plain function",arguments[1])}},function(e,t,n){"use strict";var r=n(429),i=n(125),o=n(31);e.exports=function(e){var t=Object(o(e)),n=arguments[1],a=Object(arguments[2]);if(t!==e&&!n)return t;var s={};return n?r(n,(function(t){(a.ensure||t in e)&&(s[t]=e[t])})):i(s,e),s}},function(e,t,n){"use strict";e.exports=n(430)()?Array.from:n(431)},function(e,t,n){"use strict";e.exports=function(){var e,t=Array.from;return"function"==typeof t&&(e=t(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},function(e,t,n){"use strict";var r=n(43).iterator,i=n(89),o=n(432),a=n(433),s=n(70),c=n(31),u=n(42),d=n(90),l=Array.isArray,f=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;e.exports=function(e){var t,n,v,m,g,b,y,_,w,E,S=arguments[1],C=arguments[2];if(e=Object(c(e)),u(S)&&s(S),this&&this!==Array&&o(this))t=this;else{if(!S){if(i(e))return 1!==(g=e.length)?Array.apply(null,e):((m=new Array(1))[0]=e[0],m);if(l(e)){for(m=new Array(g=e.length),n=0;n<g;++n)m[n]=e[n];return m}}m=[]}if(!l(e))if(void 0!==(w=e[r])){for(y=s(w).call(e),t&&(m=new t),_=y.next(),n=0;!_.done;)E=S?f.call(S,C,_.value,n):_.value,t?(p.value=E,h(m,n,p)):m[n]=E,_=y.next(),++n;g=n}else if(d(e)){for(g=e.length,t&&(m=new t),v=n=0;n<g;++n)E=e[n],n+1<g&&55296<=(b=E.charCodeAt(0))&&b<=56319&&(E+=e[++n]),E=S?f.call(S,C,E,v):E,t?(p.value=E,h(m,v,p)):m[v]=E,++v;g=v}if(void 0===g)for(g=a(e.length),t&&(m=new t(g)),n=0;n<g;++n)E=S?f.call(S,C,e[n],n):e[n],t?(p.value=E,h(m,n,p)):m[n]=E;return t&&(p.value=null,m.length=g),m}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);e.exports=function(e){return"function"==typeof e&&i(r.call(e))}},function(e,t,n){"use strict";var r=n(434),i=Math.max;e.exports=function(e){return i(0,r(e))}},function(e,t,n){"use strict";var r=n(435),i=Math.abs,o=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?r(e)*o(i(e)):e}},function(e,t,n){"use strict";e.exports=n(436)()?Math.sign:n(437)},function(e,t,n){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&1===e(10)&&-1===e(-20)}},function(e,t,n){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:0<e?1:-1}},function(e,t,n){"use strict";var r=n(70),i=n(439),o=Function.prototype.call;e.exports=function(e,t){var n={},a=arguments[2];return r(t),i(e,(function(e,r,i,s){n[r]=o.call(t,a,e,r,i,s)})),n}},function(e,t,n){"use strict";e.exports=n(440)("forEach")},function(e,t,n){"use strict";var r=n(70),i=n(31),o=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,c=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,u){var d,l=arguments[2],f=arguments[3];return n=Object(i(n)),r(u),d=s(n),f&&d.sort("function"==typeof f?o.call(f,n):void 0),"function"!=typeof e&&(e=d[e]),a.call(e,d,(function(e,r){return c.call(n,e)?a.call(u,l,n[e],e,n,r):t}))}}},function(e,t,n){"use strict";var r=n(123),i=n(32),o=n(43),a=n(203),s=Object.defineProperty,c=e.exports=function(e){if(!(this instanceof c))throw new TypeError("Constructor requires 'new'");e=String(e),a.call(this,e),s(this,"__length__",i("",e.length))};r&&r(c,a),delete c.prototype.constructor,c.prototype=Object.create(a.prototype,{_next:i((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:i((function(e){var t;return e=this.__list__[e],this.__nextIndex__!==this.__length__&&55296<=(t=e.charCodeAt(0))&&t<=56319?e+this.__list__[this.__nextIndex__++]:e}))}),s(c.prototype,o.toStringTag,i("c","String Iterator"))},function(e,t,n){"use strict";var r=n(443);e.exports=function(e){if(r(e))return e;throw new TypeError(e+" is not iterable")}},function(e,t,n){"use strict";var r=n(89),i=n(42),o=n(90),a=n(43).iterator,s=Array.isArray;e.exports=function(e){return!(!i(e)||!s(e)&&!o(e)&&!r(e)&&"function"!=typeof e[a])}},function(e,t,n){"use strict";var r=n(89),i=n(70),o=n(90),a=n(201),s=Array.isArray,c=Function.prototype.call,u=Array.prototype.some;e.exports=function(e,t){var n,d,l,f,p,h,v,m,g=arguments[2];if(s(e)||r(e)?n="array":o(e)?n="string":e=a(e),i(t),l=function(){f=!0},"array"===n)u.call(e,(function(e){return c.call(t,g,e,l),f}));else if("string"===n)for(h=e.length,p=0;p<h&&(v=e[p],p+1<h&&55296<=(m=v.charCodeAt(0))&&m<=56319&&(v+=e[++p]),c.call(t,g,v,l),!f);++p);else for(d=e.next();!d.done;){if(c.call(t,g,d.value,l),f)return;d=e.next()}}},function(e,t,n){"use strict";e.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},function(e,t,n){var r=n(92),i=n(93),o=n(128),a=n(33),s=n(67),c=n(94),u=Math.min;e.exports=function(e,t,n){for(var d=n?o:i,l=e[0].length,f=e.length,p=f,h=Array(f),v=1/0,m=[];p--;){var g=e[p];p&&t&&(g=a(g,s(t))),v=u(g.length,v),h[p]=!n&&(t||120<=l&&120<=g.length)?new r(p&&g):void 0}g=e[0];var b=-1,y=h[0];e:for(;++b<l&&m.length<v;){var _=g[b],w=t?t(_):_;if(_=n||0!==_?_:0,!(y?c(y,w):d(m,w,n))){for(p=f;--p;){var E=h[p];if(!(E?c(E,w):d(e[p],w,n)))continue e}y&&y.push(w),m.push(_)}}return m}},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(205),i=n(450),o=n(451);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(129);e.exports=function(e){return r(e)?e:[]}},function(e,t,n){"use strict";(function(t){var r=n(17),i=n(207),o=n(454),a=n(213);function s(e){e=new o(e);var t=i(o.prototype.request,e);return r.extend(t,o.prototype,e),r.extend(t,e),t}var c=s(n(210));c.Axios=o,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n(214),c.CancelToken=n(467),c.isCancel=n(209),c.all=function(e){return t.all(e)},c.spread=n(468),c.isAxiosError=n(469),e.exports=c,e.exports.default=c}).call(this,n(0))},function(e,t,n){"use strict";(function(t){var r=n(17),i=n(208),o=n(455),a=n(456),s=n(213);function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=[a,void 0],r=t.resolve(e);for(this.interceptors.request.forEach((function(e){n.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){n.push(e.fulfilled,e.rejected)}));n.length;)r=r.then(n.shift(),n.shift());return r},c.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=c}).call(this,n(0))},function(e,t,n){"use strict";var r=n(17);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";(function(t){var r=n(17),i=n(457),o=n(209),a=n(210);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(n){return o(n)||(s(e),n&&n.response&&(n.response.data=i(n.response.data,n.response.headers,e.transformResponse))),t.reject(n)}))}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(17);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(17);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(212);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(17);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){return(e=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)")))?decodeURIComponent(e[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(463),i=n(464);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(17),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o={};return e&&r.forEach(e.split("\n"),(function(e){n=e.indexOf(":"),t=r.trim(e.substr(0,n)).toLowerCase(),n=r.trim(e.substr(n+1)),!t||o[t]&&0<=i.indexOf(t)||(o[t]="set-cookie"===t?(o[t]||[]).concat([n]):o[t]?o[t]+", "+n:n)})),o}},function(e,t,n){"use strict";var r,i,o,a=n(17);function s(e){return i&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}e.exports=a.isStandardBrowserEnv()?(i=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),r=s(window.location.href),function(e){return(e=a.isString(e)?s(e):e).protocol===r.protocol&&e.host===r.host}):function(){return!0}},function(e,t,n){"use strict";(function(t){var r=n(214);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");this.promise=new t((function(e){n=e}));var n,i=this;e((function(e){i.reason||(i.reason=new r(e),n(i.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i}).call(this,n(0))},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===_typeof(e)&&!0===e.isAxiosError}},function(e,t,n){var r=n(215)("pick",n(47));r.placeholder=n(130),e.exports=r},function(e,t,n){var r=n(472),i=n(130),o=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=t.apply(void 0,r);return e.apply(void 0,r),i}}}e.exports=function e(t,n,u,d){var l="function"==typeof n,f=n===Object(n);if(f&&(d=u,u=n,n=void 0),null==u)throw new TypeError;var p=!("cap"in(d=d||{}))||d.cap,h=!("curry"in d)||d.curry,v=!("fixed"in d)||d.fixed,m=!("immutable"in d)||d.immutable,g=!("rearg"in d)||d.rearg,b=l?u:i,y="curry"in d&&d.curry,_="fixed"in d&&d.fixed,w="rearg"in d&&d.rearg,E=l?u.runInContext():void 0,S=l?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},C=S.ary,T=S.assign,O=S.clone,x=S.curry,I=S.forEach,A=S.isArray,k=S.isError,R=S.isFunction,D=S.isWeakMap,N=S.keys,P=S.rearg,M=S.toInteger,L=S.toPath,j=N(r.aryMethod),U={castArray:function(e){return function(){var t=arguments[0];return A(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],r=(t=e(t,n)).length;return p&&"number"==typeof n?(n=2<n?n-2:1,r&&r<=n?t:a(t,n)):t}},mixin:function(e){return function(t){var n=this;if(!R(n))return e(n,Object(t));var r=[];return I(N(t),(function(e){R(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),I(r,(function(e){var t=e[1];R(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:M(t)+1;return x(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return x(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),d)}}};function F(e,t,n){var i,a;return!v||!_&&r.skipFixed[e]?t:void 0===(e=(e=r.methodSpread[e])&&e.start)?C(t,n):(i=t,a=e,function(){for(var e=arguments.length,t=e-1,n=Array(e);e--;)n[e]=arguments[e];var r=n[a],s=n.slice(0,a);return r&&o.apply(s,r),a!=t&&o.apply(s,n.slice(a+1)),i.apply(this,s)})}function B(e,t,n){return g&&1<n&&(w||!r.skipRearg[e])?P(t,r.methodRearg[e]||r.aryRearg[n]):t}function V(e,t){for(var n=-1,r=(t=L(t)).length,i=r-1,o=e=O(Object(e));null!=o&&++n<r;){var a=t[n],s=o[a];null==s||R(s)||k(s)||D(s)||(o[a]=O(n==i?s:Object(s))),o=o[a]}return e}function z(t,n){var i=r.aliasToReal[t]||t,o=r.remap[i]||i,a=d;return function(t){var r=l?E:S,s=l?E[o]:n;return t=T(T({},a),t),e(r,i,s,t)}}function W(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var i=g?0:n-1;return r[i]=t(r[i]),e.apply(void 0,r)}}function H(e,t,n){var i,o,u=r.aliasToReal[e]||e,d=t;return(e=U[u])?d=e(t):m&&(r.mutate.array[u]?d=c(t,s):r.mutate.object[u]?d=c(t,(o=t,function(e){return o({},e)})):r.mutate.set[u]&&(d=c(t,V))),I(j,(function(e){return I(r.aryMethod[e],(function(t){var n;if(u==t)return t=(t=r.methodSpread[u])&&t.afterRearg,i=t?F(u,B(u,d,e),e):B(u,F(u,d,e),e),t=i=function(e,t){if(p){var n=r.iterateeRearg[e];if(n)return o=n,W(t,(function(e){var t,n=o.length;return t=P(a(e,n),o),2==n?function(e,n){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}}));if(n=!l&&r.iterateeAry[e])return i=n,W(t,(function(e){return"function"==typeof e?a(e,i):e}))}var i,o;return t}(u,i),n=e,i=y||h&&1<n?x(t,n):t,!1})),!i})),(i=(i=i||d)==t?y?x(i,1):function(){return t.apply(this,arguments)}:i).convert=z(u,t),i.placeholder=t.placeholder=n,i}if(!f)return H(n,u,b);var G=u,q=[];return I(j,(function(e){I(r.aryMethod[e],(function(e){var t=G[r.remap[e]||e];t&&q.push([e,H(e,t,G)])}))})),I(N(G),(function(e){var t=G[e];if("function"==typeof t){for(var n=q.length;n--;)if(q[n][0]==e)return;t.convert=z(e,t),q.push([e,t])}})),I(q,(function(e){G[e[0]]=e[1]})),G.convert=function(e){return G.runInContext.convert(e)(void 0)},G.placeholder=G,I(N(G),(function(e){I(r.realToAlias[e]||[],(function(t){G[t]=G[e]}))})),G}},function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e,n=Object.prototype.hasOwnProperty,r=t.aliasToReal,i={};for(e in r){var o=r[e];n.call(i,o)?i[o].push(e):i[o]=[e]}return i}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(e,t,n){e.exports={ary:n(474),assign:n(176),clone:n(36),curry:n(492),forEach:n(111),isArray:n(10),isError:n(493),isFunction:n(15),isWeakMap:n(494),iteratee:n(495),keys:n(114),rearg:n(510),toInteger:n(96),toPath:n(513)}},function(e,t,n){var r=n(131);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},function(e,t,n){var r=n(95),i=n(14);e.exports=function(e,t,n){var o=1&t,a=r(e);return function t(){return(this&&this!==i&&this instanceof t?a:e).apply(o?n:this,arguments)}}},function(e,t,n){var r=n(120),i=n(95),o=n(218),a=n(221),s=n(227),c=n(134),u=n(14);e.exports=function(e,t,n){var d=i(e);return function i(){for(var l=arguments.length,f=Array(l),p=l,h=s(i);p--;)f[p]=arguments[p];return(l-=(h=l<3&&f[0]!==h&&f[l-1]!==h?[]:c(f,h)).length)<n?a(e,t,o,i.placeholder,void 0,f,h,void 0,void 0,n-l):r(this&&this!==u&&this instanceof i?d:e,this,f)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},function(e,t,n){var r=n(132),i=n(222),o=n(479),a=n(481);e.exports=function(e){var t=o(e),n=a[t];return"function"==typeof n&&t in r.prototype&&(e===n||!!(t=i(n))&&e===t[0])}},function(e,t,n){var r=n(480),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=i.call(r,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}},function(e,t){e.exports={}},function(e,t,n){var r=n(132),i=n(224),o=n(133),a=n(10),s=n(16),c=n(482),u=Object.prototype.hasOwnProperty;function d(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof i)return e;if(u.call(e,"__wrapped__"))return c(e)}return new i(e)}d.prototype=o.prototype,e.exports=d.prototype.constructor=d},function(e,t,n){var r=n(132),i=n(224),o=n(53);e.exports=function(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){return(e=e.match(n))?e[1].split(r):[]}},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var i=r-1;return t[i]=(1<r?"& ":"")+t[i],t=t.join(2<r?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,n){var r=n(111),i=n(93),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(o,(function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)})),e.sort()}},function(e,t,n){var r=n(53),i=n(66),o=Math.min;e.exports=function(e,t){for(var n=e.length,a=o(t.length,n),s=r(e);a--;){var c=t[a];e[a]=i(c,n)?s[c]:void 0}return e}},function(e,t,n){var r=n(120),i=n(95),o=n(14);e.exports=function(e,t,n,a){var s=1&t,c=i(e);return function t(){for(var i=-1,u=arguments.length,d=-1,l=a.length,f=Array(l+u),p=this&&this!==o&&this instanceof t?c:e;++d<l;)f[d]=a[d];for(;u--;)f[d++]=arguments[++i];return r(p,s?n:this,f)}}},function(e,t,n){var r=n(219),i=n(220),o=n(134),a="__lodash_placeholder__",s=Math.min;e.exports=function(e,t){var n,c=e[1],u=t[1],d=c|u,l=128==u&&8==c||128==u&&256==c&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==c;return(d<131||l)&&(1&u&&(e[2]=t[2],d|=1&c?0:4),(l=t[3])&&(n=e[3],e[3]=n?r(n,l,t[4]):l,e[4]=n?o(e[3],a):t[4]),(l=t[5])&&(n=e[5],e[5]=n?i(n,l,t[6]):l,e[6]=n?o(e[5],a):t[6]),(l=t[7])&&(e[7]=l),128&u&&(e[8]=null==e[8]?t[8]:s(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=d),e}},function(e,t,n){var r=n(228);e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(491),i=/^\s+/;e.exports=function(e){return e&&e.slice(0,r(e)+1).replace(i,"")}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){var r=n(131);function i(e,t,n){return(e=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t)).placeholder=i.placeholder,e}i.placeholder={},e.exports=i},function(e,t,n){var r=n(29),i=n(16),o=n(135);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}},function(e,t,n){var r=n(40),i=n(16);e.exports=function(e){return i(e)&&"[object WeakMap]"==r(e)}},function(e,t,n){var r=n(77),i=n(34);e.exports=function(e){return i("function"==typeof e?e:r(e,1))}},function(e,t,n){var r=n(497),i=n(501),o=n(234);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(78),i=n(229);e.exports=function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var d=(u=n[a])[0],l=e[d],f=u[1];if(c&&u[2]){if(void 0===l&&!(d in e))return!1}else{var p,h=new r;if(!(void 0===(p=o?o(l,f,d,e,t,h):p)?i(f,l,3,o,h):p))return!1}}return!0}},function(e,t,n){var r=n(78),i=n(230),o=n(499),a=n(500),s=n(40),c=n(10),u=n(65),d=n(85),l="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,g){var b=c(e),y=c(t),_=b?f:s(e),w=(y=y?f:s(t),(_=_==l?p:_)==p),E=(y=y==l?p:y)==p;if((y=_==y)&&u(e)){if(!u(t))return!1;w=!(b=!0)}return y&&!w?(g=g||new r,b||d(e)?i(e,t,n,v,m,g):o(e,t,_,n,v,m,g)):1&n||(b=w&&h.call(e,"__wrapped__"),_=E&&h.call(t,"__wrapped__"),!b&&!_)?!!y&&(g=g||new r,a(e,t,n,v,m,g)):m(b?e.value():e,_?t.value():t,n,v,g=g||new r)}},function(e,t,n){var r=n(38),i=n(187),o=n(51),a=n(230),s=n(232),c=n(97),u=(n=r?r.prototype:void 0)?n.valueOf:void 0;e.exports=function(e,t,n,r,d,l,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!l(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":if(p=p||c,e.size!=t.size&&!(1&r))return!1;var h=f.get(e);return h?h==t:(r|=2,f.set(e,t),h=a(p(e),p(t),r,d,l,f),f.delete(e),h);case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},function(e,t,n){var r=n(182),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var c=1&n,u=r(e),d=u.length;if(d!=r(t).length&&!c)return!1;for(var l=d;l--;){var f=u[l];if(!(c?f in t:i.call(t,f)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;for(var v=!0,m=(s.set(e,t),s.set(t,e),c);++l<d;){var g,b=e[f=u[l]],y=t[f];if(!(void 0===(g=o?c?o(y,b,f,t,e,s):o(b,y,f,e,t,s):g)?b===y||a(b,y,n,o,s):g)){v=!1;break}m=m||"constructor"==f}return v&&!m&&(p=e.constructor)!=(h=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof p&&p instanceof p&&"function"==typeof h&&h instanceof h)&&(v=!1),s.delete(e),s.delete(t),v}},function(e,t,n){var r=n(233),i=n(30);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},function(e,t,n){var r=n(229),i=n(56),o=n(236),a=n(136),s=n(233),c=n(234),u=n(46);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},function(e,t,n){var r=n(190);e.exports=function(e){var t=(e=r(e,(function(e){return 500===t.size&&t.clear(),e}))).cache;return e}},function(e,t,n){var r=n(38),i=n(33),o=n(10),a=n(71),s=(n=r?r.prototype:void 0)?n.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(57),i=n(64),o=n(10),a=n(66),s=n(112),c=n(46);e.exports=function(e,t,n){for(var u=-1,d=(t=r(t,e)).length,l=!1;++u<d;){var f=c(t[u]);if(!(l=null!=e&&n(e,f)))break;e=e[f]}return l||++u!=d?l:!!(d=null==e?0:e.length)&&s(d)&&a(f,d)&&(o(e)||i(e))}},function(e,t,n){var r=n(508),i=n(509),o=n(136),a=n(46);e.exports=function(e){return o(e)?r(a(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(98);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(131);n=(n=n(137))((function(e,t){return r(e,256,void 0,void 0,void 0,t)})),e.exports=n},function(e,t,n){var r=n(237);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t,n){var r=n(38),i=n(64),o=n(10),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(33),i=n(53),o=n(10),a=n(71),s=n(235),c=n(46),u=n(58);e.exports=function(e){return o(e)?r(e,c):a(e)?[e]:i(s(u(e)))}},function(e,t,n){var r=n(515),i=n(236);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},function(e,t,n){var r=n(98),i=n(516),o=n(57);e.exports=function(e,t,n){for(var a=-1,s=t.length,c={};++a<s;){var u=t[a],d=r(e,u);n(d,u)&&i(c,o(u,e),d)}return c}},function(e,t,n){var r=n(83),i=n(57),o=n(66),a=n(9),s=n(46);e.exports=function(e,t,n,c){if(!a(e))return e;for(var u=-1,d=(t=i(t,e)).length,l=d-1,f=e;null!=f&&++u<d;){var p,h=s(t[u]),v=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;u!=l&&(p=f[h],void 0===(v=c?c(p,h,f):void 0)&&(v=a(p)?p:o(t[u+1])?[]:{})),r(f,h,v),f=f[h]}return e}},function(e,t,n){var r=n(215)("mapKeys",n(518));r.placeholder=n(130),e.exports=r},function(e,t,n){var r=n(63),i=n(99),o=n(34);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,t(e,i,o),e)})),n}},function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}},function(e,t,n){(function(e){var r,i,o,a,s,c,u,d,l,f,p,h,v,m;function g(e){throw new RangeError(p[e])}function b(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function y(e,t){var n="",r=(1<(r=e.split("@")).length&&(n=r[0]+"@",e=r[1]),(e=e.replace(f,".")).split("."));return n+b(r,t).join(".")}function _(e){for(var t,n,r=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function w(e){return b(e,(function(e){var t="";return 65535<e&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+m(e)})).join("")}function E(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,n){var r=0;for(e=n?v(e/u):e>>1,e+=v(e/t);h*s>>1<e;r+=a)e=v(e/h);return v(r+(h+1)*e/(e+c))}function C(e){var t,n,r,i,c,u,d,l=[],f=e.length,p=0,h=128,m=72,b=e.lastIndexOf("-");for(b<0&&(b=0),n=0;n<b;++n)128<=e.charCodeAt(n)&&g("not-basic"),l.push(e.charCodeAt(n));for(r=0<b?b+1:0;r<f;){for(i=p,c=1,u=a;f<=r&&g("invalid-input"),d=e.charCodeAt(r++),(a<=(d=d-48<10?d-22:d-65<26?d-65:d-97<26?d-97:a)||d>v((o-p)/c))&&g("overflow"),p+=d*c,!(d<(d=u<=m?1:m+s<=u?s:u-m));u+=a)c>v(o/(d=a-d))&&g("overflow"),c*=d;m=S(p-i,t=l.length+1,0==i),v(p/t)>o-h&&g("overflow"),h+=v(p/t),p%=t,l.splice(p++,0,h)}return w(l)}function T(e){for(var t,n,r,i,c,u,d,l,f,p,h=[],b=(e=_(e)).length,y=128,w=72,C=t=0;C<b;++C)(d=e[C])<128&&h.push(m(d));for(n=r=h.length,r&&h.push("-");n<b;){for(i=o,C=0;C<b;++C)y<=(d=e[C])&&d<i&&(i=d);for(i-y>v((o-t)/(l=n+1))&&g("overflow"),t+=(i-y)*l,y=i,C=0;C<b;++C)if((d=e[C])<y&&++t>o&&g("overflow"),d==y){for(c=t,u=a;!(c<(f=u<=w?1:w+s<=u?s:u-w));u+=a)h.push(m(E(f+(p=c-f)%(f=a-f),0))),c=v(p/f);h.push(m(E(c,0))),w=S(t,l,n==r),t=0,++n}++t,++y}return h.join("")}t&&t.nodeType,e&&e.nodeType,(r="object"==_typeof(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global)&&(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global)).global!==r&&r.window!==r&&r.self,o=2147483647,s=26,c=38,u=700,d=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=(a=36)-1,v=Math.floor,m=String.fromCharCode,i={version:"1.4.1",ucs2:{decode:_,encode:w},decode:C,encode:T,toASCII:function(e){return y(e,(function(e){return l.test(e)?"xn--"+T(e):e}))},toUnicode:function(e){return y(e,(function(e){return d.test(e)?C(e.slice(4).toLowerCase()):e}))}},void 0!==(r=function(){return i}.call(t,n,t,e))&&(e.exports=r)}).call(this,n(84)(e))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"===_typeof(e)&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(523),t.encode=t.stringify=n(524)},function(e,t,n){"use strict";e.exports=function(e,t,n,i){n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g,s=(e=e.split(t=t||"&"),t=1e3,i&&"number"==typeof i.maxKeys&&(t=i.maxKeys),e.length);0<t&&t<s&&(s=t);for(var c=0;c<s;++c){var u,d=0<=(d=(l=e[c].replace(a,"%20")).indexOf(n))?(u=l.substr(0,d),l.substr(d+1)):(u=l,""),l=decodeURIComponent(u);d=decodeURIComponent(d),Object.prototype.hasOwnProperty.call(o,l)?r(o[l])?o[l].push(d):o[l]=[o[l],d]:o[l]=d}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e){switch(_typeof(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}e.exports=function(e,t,n,s){return t=t||"&",n=n||"=","object"===_typeof(e=null===e?void 0:e)?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}},function(e,t,n){var r,i,o=n(241),a=n(242),s=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,d=t||[],l=(e=e||{}).node||r,f=(n=void 0!==e.clockseq?e.clockseq:i,null!=l&&null!=n||(f=o(),null==l&&(l=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==n&&(n=i=16383&(f[6]<<8|f[7]))),void 0!==e.msecs?e.msecs:(new Date).getTime()),p=void 0!==e.nsecs?e.nsecs:c+1,h=f-s+(p-c)/1e4;if(h<0&&void 0===e.clockseq&&(n=n+1&16383),1e4<=(p=(h<0||s<f)&&void 0===e.nsecs?0:p))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,i=n,h=(1e4*(268435455&(f+=122192928e5))+(c=p))%4294967296,d[u++]=h>>>24&255,d[u++]=h>>>16&255,d[u++]=h>>>8&255,d[u++]=255&h,e=f/4294967296*1e4&268435455,d[u++]=e>>>8&255,d[u++]=255&e,d[u++]=e>>>24&15|16,d[u++]=e>>>16&255,d[u++]=n>>>8|128,d[u++]=255&n;for(var v=0;v<6;++v)d[u+v]=l[v];return t||a(d)}},function(e,t,n){var r=n(241),i=n(242);e.exports=function(e,t,n){var o=t&&n||0,a=("string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),(e=e||{}).random||(e.rng||r)());if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){"use strict";var r=n(3)(n(18));e.exports=function(){function e(e){e=void 0===(e=(void 0===e?{}:e).waitTime)?50:e,(0,r.default)(this,"queue",[]),(0,r.default)(this,"running",!1),this.waitTime=e}var t=e.prototype;return t.add=function(e){this.queue.push(e),this.run()},t.run=function(){var e=this;this.running||(this.running=!0,function t(){0===e.queue.length?e.running=!1:e.queue.shift()((function(){setTimeout(t,e.waitTime)}))}())},e}()},function(e,t,n){"use strict";var r=n(9),i={for:"htmlFor",class:"className"};e.exports=function(e){function t(t){return 0<t.offsetWidth?"".concat(t.offsetWidth,"px"):new e(t).css("width")}function n(t){return 0<t.offsetHeight?"".concat(t.offsetHeight,"px"):new e(t).css("height")}e.prototype.attr=function(e,t){var n,o=this;if(r(e))Object.keys(e).forEach((function(t){n=i[t]||t,o.first.setAttribute(n,e[t])}));else{if(void 0===t)return this.first.getAttribute(i[e]||e);this.first.setAttribute(i[e]||e,t)}return this},e.prototype.removeAttr=function(e){var t=i[e]||e;return this.forEach((function(e){e.removeAttribute(t)})),this},e.prototype.html=function(e){return void 0!==e&&(this.first.innerHTML=e),this.first.innerHTML},e.prototype.center=function(t,n){var r;return this.forEach((function(i){r=new e(i),t=t||parseInt(r.width(),10),n=n||parseInt(r.height(),10),i="".concat(-.5*t,"px");var o="".concat(-.5*n,"px");r.css("margin","".concat(o," 0 0 ").concat(i)).addClass("OT_centered")})),this},e._attachToOTHelpers.centerElement=function(t,n,r){return new e(t).center(n,r)},e.prototype.width=function(e){return e?(this.css("width",e),this):this.isDisplayNone()?this.makeVisibleAndYield(t)[0]:t(this.get(0))},e._attachToOTHelpers.width=function(t,n){return t=new e(t).width(n),n?e._attachToOTHelpers:t},e.prototype.height=function(e){return e?(this.css("height",e),this):this.isDisplayNone()?this.makeVisibleAndYield(n)[0]:n(this.get(0))},e._attachToOTHelpers.height=function(t,n){return t=new e(t).height(n),n?e._attachToOTHelpers:t}}},function(e,t,n){"use strict";var r=n(2),i=(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).getComputedStyle,o={Firefox:"moz",Opera:"O",Chrome:"Webkit",Safari:"Webkit"};e.exports=function(e,t){function n(e,t){if(t in e.style)return t;var n=o[r.name]+t[0].toUpperCase()+t.slice(1);return n in e.style?n:t}var a={},s={};e.prototype.show=function(){return this.forEach((function(t){var n=t.style.display;""!==n&&"none"!==n||(t.style.display=a[t]||"",delete a[t]),"none"===i(t).getPropertyValue("display")&&(a[t]="none",t.style.display=function(t){if(s[t.ownerDocument]&&s[t.ownerDocument][t.nodeName])return s[t.ownerDocument][t.nodeName];s[t.ownerDocument]||(s[t.ownerDocument]={});var n,r=t.ownerDocument.createElement(t.nodeName);return t.ownerDocument.body.appendChild(r),n=new e(r).css("display"),s[t.ownerDocument][t.nodeName]=n,new e(r).remove(),n}(t))}))},e.prototype.hide=function(){return this.forEach((function(e){"none"!==e.style.display&&(a[e]=e.style.display,e.style.display="none")}))},e.prototype.css=function(e,t){var r,o,a;if(0!==this.length)return"string"!=typeof e?this.forEach((function(t){var r,i=t,o=e,a=i.style;for(r in o)o.hasOwnProperty(r)&&(a[n(i,r)]=o[r])})):void 0!==t?this.forEach((function(r){var i;i=t,r.style[n(r,e)]=i})):(o=n(r=this.first,o=e),a=""===(a=i(r).getPropertyValue(o))?r.style[o]:a)},e.prototype.makeVisibleAndYield=function(n){var r={display:"block",visibility:"hidden"},i=[];return this.forEach((function(o){(o=t(o))?i.push(function(t,n,r){var i,o=new e(t),a={};for(i in n)n.hasOwnProperty(i)&&(a[i]=t.style[i],o.css(i,n[i]));for(i in r=r(t),n)n.hasOwnProperty(i)&&o.css(i,a[i]||"");return r}(o,r,n)):i.push(void 0)})),i}}},function(e,t,n){"use strict";var r="Node";"undefined"!=typeof navigator&&(r=navigator.userAgent),e.exports=function(e){return void 0===e&&(e={userAgent:r}),/iPhone|iPad/.test(e.userAgent)||r.includes("Mac")&&"ontouchend"in document}},function(e,t,n){"use strict";e.exports=function(){var e=navigator.userAgent.match(/OS (\d+_\d+) like Mac/);if(null!==e&&e[1])return e[1].replace("_",".")}},function(e,t,n){"use strict";var r=/(Electron)\/([0-9]{1,}[.0-9]{0,})/;e.exports=function(e){return(e=e.match(r))&&parseFloat(e[2])}},function(e,t,n){"use strict";var r=n(534);function i(e,t){return!!t&&(r()?e.classList.contains(t):-1<e.className.indexOf(t))}e.exports=function(e){e.prototype.addClass=function(e){var t;return e&&(t=e.trim().split(/\s+/),this.forEach((function(e){var n=e,i=t;if(i&&0!==i.length&&1===n.nodeType){var o=i.length,a=0;if(r())for(;a<o;++a)n.classList.add(i[a]);else if(n.className||1!==i.length){for(var s=" ".concat(n.className," ");a<o;++a)~s.indexOf(" ".concat(i[a]," "))||(s+="".concat(i[a]," "));n.className=s.trim()}else n.className=i.join(" ")}}))),this},e.prototype.removeClass=function(e){var t;return e&&(t=e.trim().split(/\s+/),this.forEach((function(e){var n=e,i=t;if(i&&0!==i.length&&1===n.nodeType){var o=i.length,a=0;if(r())for(;a<o;++a)n.classList.remove(i[a]);else{for(var s=" ".concat(n.className," ").replace(/[\s+]/," ");a<o;++a)s=s.replace(" ".concat(i[a]," ")," ");n.className=s.trim()}}}))),this},e.prototype.toggleClass=function(e){var t;return e&&(t=e.trim().split(/\s+/),this.forEach((function(e){var n=e,o=t;if(o&&0!==o.length&&1===n.nodeType){var a=o.length,s=0;if(r())for(;s<a;++s)n.classList.toggle(o[s]);else{for(var c=" ".concat(n.className," ").replace(/[\s+]/," ");s<a;++s)i(n,o[s])?c=c.replace(" ".concat(o[s]," ")," "):c+="".concat(o[s]," ");n.className=c.trim()}}}))),this},e.prototype.hasClass=function(e){return this.some((function(t){return i(t,e)}))}}},function(e,t,n){"use strict";e.exports=function(){return"undefined"!=typeof document&&"classList"in document.createElement("a")}},function(e,t,n){"use strict";var r=n(536);e.exports=function(e){var t=0,n=0;e.prototype.observeStyleChanges=function(t,n){var i=[];return this.forEach((function(o){i.push(function(t,n,i){function o(n){switch(n){case"width":return new e(t).width();case"height":return new e(t).height();default:return new e(t).css(n)}}var a={},s=(n.forEach((function(e){a[e]=o(e)})),new((void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).MutationObserver)((function(s){var c={};s.forEach((function(r){var i;"style"===r.attributeName&&(i=new e(t).isDisplayNone(),n.forEach((function(e){var t;i&&("width"===e||"height"===e)||(t=o(e))!==a[e]&&(c[e]=[a[e],t],a[e]=t)})))})),r(c)||setTimeout((function(){i.call(null,c)}))})));return s.observe(t,{attributes:!0,attributeFilter:["style"],childList:!1,characterData:!1,subtree:!1}),s}(o,t,n))})),i},e.prototype.observeNodeOrChildNodeRemoval=function(t){var r=[];return this.forEach((function(i){var o,a,s;r.push((i=i,o=t,(a=new((void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).MutationObserver)((function(t){var n=[];t.forEach((function(e){e.removedNodes.length&&(n=n.concat(Array.prototype.slice.call(e.removedNodes)))})),n.length&&setTimeout((function(){o(new e(n))}))}))).observe(i,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),n++,s=a.disconnect,a.disconnect=function(){s.apply(a,arguments),n--},a))})),r},e.prototype.observeSize=function(e){var n=[];return this.forEach((function(r){var i,o,a,s;n.push((i=r,o=e,a={width:0,height:0},s=setInterval((function(){var e=i.getBoundingClientRect();a.width===e.width&&a.height===e.height||(o(e,a),a={width:e.width,height:e.height})}),200),t++,{disconnect:function(){clearInterval(s),t--}}))})),n},e._attachToOTHelpers.observeStyleChanges=function(t,n,r){return new e(t).observeStyleChanges(n,r)[0]},e._attachToOTHelpers.observeNodeOrChildNodeRemoval=function(t,n){return new e(t).observeNodeOrChildNodeRemoval(n)[0]},e.__testOnly||(e.__testOnly={}),e.__testOnly.sizeObserverCount=function(){return t},e.__testOnly.nodeRemovalObserverCount=function(){return n}}},function(e,t,n){var r=n(114),i=n(40),o=n(64),a=n(10),s=n(24),c=n(65),u=n(68),d=n(85),l=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||d(e)||o(e)))return!e.length;var t,n=i(e);if("[object Map]"==n||"[object Set]"==n)return!e.size;if(u(e))return!r(e).length;for(t in e)if(l.call(e,t))return!1;return!0}},function(e,t,n){"use strict";e.exports={1004:"Authentication error",1005:"Invalid Session ID",1006:"Connect Failed",1007:"Connect Rejected",1008:"Connect Time-out",1009:"Security Error",1010:"Not Connected",1011:"Invalid Parameter",1012:"Peer-to-peer Stream Play Failed",1013:"Connection Failed",1014:"API Response Failure",1015:"PeerConnection not connected, cannot call this method",1021:"Request Timeout",1026:"Terms of Service Violation: Export Compliance",1027:"Connection Limit Exceeded",1040:"Set Video Source Failure",1041:"Invalid Video Source",1500:"Unable to Publish",1501:"Unable to Subscribe",1502:"Unsupported Video Codec",1503:"No TURN server found",1520:"Unable to Force Disconnect",1530:"Unable to Force Unpublish",1540:"Unable to Force Mute",1553:"ICEWorkflow failed",1600:"createOffer, createAnswer, setLocalDescription, setRemoteDescription",1605:"Stream Limit Exceeded",2e3:"Internal Error",2001:"Unexpected Server Response",2021:"Proxy URL Timing Error",2022:"Proxy URL Already Set Error",2031:"getRtcStatsReport is not supported in this browser",4e3:"WebSocket Connection Failed",4001:"WebSocket Network Disconnected",5001:"Unable to access media engine"}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t,n,i,o){var a,s=n;return e.currentState=n,e.is=function(){return-1!==Array.prototype.indexOf.call(arguments,s)},e.isNot=function(){return-1===Array.prototype.indexOf.call(arguments,s)},function(n){s!==n&&(-1===t.indexOf(n)?o&&r(o)&&o("invalidState",n):(e.previousState=s,a=s,e.currentState=n,s=n,i&&r(i)&&i(n,a)))}}},function(e,t,n){"use strict";n=n(247);var r={};(e.exports=r).isElementNode=function(e){return e&&"object"===_typeof(e)&&1===e.nodeType},r.createElement=function(e,t,n,r){function i(e){"string"==typeof e?o.innerHTML+=e:o.appendChild(e)}var o=(r||document).createElement(e);return t=t||{},Object.keys(t).forEach((function(e){var n;"object"===_typeof(t[e])?(o[e]||(o[e]={}),n=t[e],Object.keys(n).forEach((function(t){o[e][t]=n[t]}))):"className"===e?o.className=t[e]:o.setAttribute(e,t[e])})),Array.isArray(n)?n.forEach(i):n&&i(n),o},n(r)},function(e,t,n){"use strict";var r=n(541);e.exports=function(e){((e=void 0===e?{}:e).isSessionProxied||n(542))(e.sessionId)&&r.forEach((function(t){t in e&&(e[t]="")}))}},function(e,t,n){"use strict";e.exports=["audioLocalAddress","audioRemoteAddress","videoLocalAddress","videoRemoteAddress"]},function(e,t,n){"use strict";var r=n(20).sessions;e.exports=function(e){return!!(e=r.get(e))&&!!e._.getProxyUrl()}},function(e,t,n){"use strict";e.exports=["buildHash","minimumVersion","debug",["websiteURL","websiteUrl"],["cdnURL","cdnUrl"],["loggingURL","loggingUrl"],["apiURL","apiUrl"],["supportSSL",!0],["cdnURLSSL","cdnUrl"],["loggingURLSSL","loggingUrl"],["apiURLSSL","apiUrl"],["assetURL","assetUrl"]]},function(e,t,n){"use strict";e.exports=["apiUrl","apiURL","apiURLSSL"]},function(e,t,n){"use strict";e.exports=function(){var e=(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).OT,t=(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).TB;return function(){var n=(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).OT;return(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).OT=e,(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).TB=t,n}}},function(e,t,n){"use strict";e.exports=function(e){function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=_construct2(e,r);return Object.setPrototypeOf(o,t.prototype),o}var n,r;return t.prototype=Object.create(e.prototype),Object.defineProperties(t.prototype,(n=e.prototype,r={},Object.getOwnPropertyNames(n).forEach((function(e){r[e]=Object.getOwnPropertyDescriptor(n,e)})),r)),Object.keys(e).forEach((function(n){t[n]=e[n]})),t}},function(e,t,n){"use strict";var r=n(28);e.exports=function(e,t){var i,o=e&&e.window,a={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(i in t)hasOwnProperty.call(t,i)&&(a[i]=t[i]);var s=r.log,c=(e=r.detectBrowser(o),n(548)||null),u=n(550)||null,d=n(554)||null,l=n(556)||null,f=n(557)||null,p={browserDetails:e,commonShim:f,extractVersion:r.extractVersion,disableLog:r.disableLog,disableWarnings:r.disableWarnings};switch(e.browser){case"chrome":if(!c||!c.shimPeerConnection||!a.shimChrome)return s("Chrome shim is not included in this adapter release."),p;s("adapter.js shimming chrome."),p.browserShim=c,f.shimCreateObjectURL(o),c.shimGetUserMedia(o),c.shimMediaStream(o),c.shimSourceObject(o),c.shimPeerConnection(o),c.shimOnTrack(o),c.shimAddTrackRemoveTrack(o),c.shimGetSendersWithDtmf(o),c.shimSenderReceiverGetStats(o),c.fixNegotiationNeeded(o),f.shimRTCIceCandidate(o),f.shimMaxMessageSize(o),f.shimSendThrowTypeError(o);break;case"firefox":if(!d||!d.shimPeerConnection||!a.shimFirefox)return s("Firefox shim is not included in this adapter release."),p;s("adapter.js shimming firefox."),p.browserShim=d,f.shimCreateObjectURL(o),d.shimGetUserMedia(o),d.shimSourceObject(o),d.shimPeerConnection(o),d.shimOnTrack(o),d.shimRemoveStream(o),d.shimSenderGetStats(o),d.shimReceiverGetStats(o),d.shimRTCDataChannel(o),f.shimRTCIceCandidate(o),f.shimMaxMessageSize(o),f.shimSendThrowTypeError(o);break;case"edge":if(!u||!u.shimPeerConnection||!a.shimEdge)return s("MS edge shim is not included in this adapter release."),p;s("adapter.js shimming edge."),p.browserShim=u,f.shimCreateObjectURL(o),u.shimGetUserMedia(o),u.shimPeerConnection(o),u.shimReplaceTrack(o),u.shimGetDisplayMedia(o),f.shimMaxMessageSize(o),f.shimSendThrowTypeError(o);break;case"safari":if(!l||!a.shimSafari)return s("Safari shim is not included in this adapter release."),p;s("adapter.js shimming safari."),p.browserShim=l,f.shimCreateObjectURL(o),l.shimRTCIceServerUrls(o),l.shimCreateOfferLegacy(o),l.shimCallbacksAPI(o),l.shimLocalStreamsAPI(o),l.shimRemoteStreamsAPI(o),l.shimTrackEventTransceiver(o),l.shimGetUserMedia(o),f.shimRTCIceCandidate(o),f.shimMaxMessageSize(o),f.shimSendThrowTypeError(o);break;default:s("Unsupported browser!")}return p}},function(e,t,n){"use strict";(function(t){var r=n(28),i=r.log;function o(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var o=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&function e(t,n,r){n&&!r.has(n.id)&&(r.set(n.id,n),Object.keys(n).forEach((function(i){i.endsWith("Id")?e(t,t.get(n[i]),r):i.endsWith("Ids")&&n[i].forEach((function(n){e(t,t.get(n),r)}))})))}(e,n,i)}))})),i}e.exports={shimGetUserMedia:n(549),shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(e){var t;"object"!==_typeof(e)||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype?r.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e})):(Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0}),t=e.RTCPeerConnection.prototype.setRemoteDescription,e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return n._ontrackpoly||(n._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track},o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)})),t.stream.getTracks().forEach((function(r){var i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r},o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)}))},n.addEventListener("addstream",n._ontrackpoly)),t.apply(n,arguments)})},shimGetSendersWithDtmf:function(e){var t,n,r,i,o,a;"object"===_typeof(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype?(t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}},e.RTCPeerConnection.prototype.getSenders||(e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()},n=e.RTCPeerConnection.prototype.addTrack,e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i},r=e.RTCPeerConnection.prototype.removeTrack,e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments),-1!==(e=this._senders.indexOf(e))&&this._senders.splice(e,1)}),i=e.RTCPeerConnection.prototype.addStream,e.RTCPeerConnection.prototype.addStream=function(e){var n=this;n._senders=n._senders||[],i.apply(n,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))},o=e.RTCPeerConnection.prototype.removeStream,e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._senders=t._senders||[],o.apply(t,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}):"object"===_typeof(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&(a=e.RTCPeerConnection.prototype.getSenders,e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(e,[]);return t.forEach((function(t){t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}}))},shimSenderReceiverGetStats:function(e){var n,i,a,s;"object"===_typeof(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver&&("getStats"in e.RTCRtpSender.prototype||((n=e.RTCPeerConnection.prototype.getSenders)&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=n.apply(e,[]);return t.forEach((function(t){t._pc=e})),t}),(i=e.RTCPeerConnection.prototype.addTrack)&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return o(t,e.track,!0)}))}),"getStats"in e.RTCRtpReceiver.prototype||((a=e.RTCPeerConnection.prototype.getReceivers)&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=a.apply(e,[]);return t.forEach((function(t){t._pc=e})),t}),r.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return o(t,e.track,!1)}))}),"getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype&&(s=e.RTCPeerConnection.prototype.getStats,e.RTCPeerConnection.prototype.getStats=function(){var n,r,i,o;return 0<arguments.length&&arguments[0]instanceof e.MediaStreamTrack?(n=arguments[0],this.getSenders().forEach((function(e){e.track===n&&(r?o=!0:r=e)})),this.getReceivers().forEach((function(e){return e.track===n&&(i?o=!0:i=e),e.track===n})),o||r&&i?t.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():i?i.getStats():t.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))):s.apply(this,arguments)}))},shimSourceObject:function(e){var t=e&&e.URL;"object"!==_typeof(e)||!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var n=this;this._srcObject=e,this.src&&t.revokeObjectURL(this.src),e?(this.src=t.createObjectURL(e),e.addEventListener("addtrack",(function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)})),e.addEventListener("removetrack",(function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)}))):this.src=""}})},shimAddTrackRemoveTrackWithNative:function(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack,n=(e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r},e.RTCPeerConnection.prototype.addStream),r=(e.RTCPeerConnection.prototype.addStream=function(e){var t=this,r=(this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),t.getSenders()),i=(n.apply(this,arguments),t.getSenders().filter((function(e){return-1===r.indexOf(e)})));this._shimmedLocalStreams[e.id]=[e].concat(i)},e.RTCPeerConnection.prototype.removeStream),i=(e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)},e.RTCPeerConnection.prototype.removeTrack);e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}},shimAddTrackRemoveTrack:function(e){if(e.RTCPeerConnection){var n=r.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&65<=n.version)return this.shimAddTrackRemoveTrackWithNative(e);var i=e.RTCPeerConnection.prototype.getLocalStreams,o=(e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=i.apply(this);return e._reverseStreams=e._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))},e.RTCPeerConnection.prototype.addStream),a=(e.RTCPeerConnection.prototype.addStream=function(t){var n,r=this;r._streams=r._streams||{},r._reverseStreams=r._reverseStreams||{},t.getTracks().forEach((function(e){if(r.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),r._reverseStreams[t.id]||(n=new e.MediaStream(t.getTracks()),r._streams[t.id]=n,r._reverseStreams[n.id]=t,t=n),o.apply(r,[t])},e.RTCPeerConnection.prototype.removeStream),s=(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._streams=t._streams||{},t._reverseStreams=t._reverseStreams||{},a.apply(t,[t._streams[e.id]||e]),delete t._reverseStreams[(t._streams[e.id]||e).id],delete t._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(n,r){var i,o=this;if("closed"===o.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(1!==(i=[].slice.call(arguments,1)).length||!i[0].getTracks().find((function(e){return e===n})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(o.getSenders().find((function(e){return e.track===n})))throw new DOMException("Track already exists.","InvalidAccessError");return o._streams=o._streams||{},o._reverseStreams=o._reverseStreams||{},(i=o._streams[r.id])?(i.addTrack(n),t.resolve().then((function(){o.dispatchEvent(new Event("negotiationneeded"))}))):(i=new e.MediaStream([n]),o._streams[r.id]=i,o._reverseStreams[i.id]=r,o.addStream(i)),o.getSenders().find((function(e){return e.track===n}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(e,[function(n){n=u(e,n),t[0].apply(null,[n])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(e,arguments).then((function(t){return u(e,t)}))}})),e.RTCPeerConnection.prototype.setLocalDescription),c=(e.RTCPeerConnection.prototype.setLocalDescription=function(){var e,t,n;return arguments.length&&arguments[0].type&&(arguments[0]=(e=this,n=(t=arguments[0]).sdp,Object.keys(e._reverseStreams||[]).forEach((function(t){t=e._reverseStreams[t];var r=e._streams[t.id];n=n.replace(new RegExp(t.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n}))),s.apply(this,arguments)},Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription"));Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=c.get.apply(this);return""===e.type?e:u(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===n.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==n)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");n._streams=n._streams||{},Object.keys(n._streams).forEach((function(r){n._streams[r].getTracks().find((function(t){return e.track===t}))&&(t=n._streams[r])})),t&&(1===t.getTracks().length?n.removeStream(n._reverseStreams[t.id]):t.removeTrack(e.track),n.dispatchEvent(new Event("negotiationneeded")))}}function u(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){t=e._reverseStreams[t];var r=e._streams[t.id];n=n.replace(new RegExp(r.id,"g"),t.id)})),new RTCSessionDescription({type:t.type,sdp:n})}},shimPeerConnection:function(e){var n,o,a=r.detectBrowser(e);!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=function(t,n){return i("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy),new e.webkitRTCPeerConnection(t,n)},e.RTCPeerConnection.prototype=e.webkitRTCPeerConnection.prototype,e.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.webkitRTCPeerConnection.generateCertificate}})),e.RTCPeerConnection&&(n=e.RTCPeerConnection.prototype.getStats,e.RTCPeerConnection.prototype.getStats=function(e,r,i){var o=this,a=arguments;if(0<arguments.length&&"function"==typeof e)return n.apply(this,arguments);if(0===n.length&&(0===arguments.length||"function"!=typeof e))return n.apply(this,[]);var s=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},c=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};return 2<=arguments.length?n.apply(this,[function(e){a[1](c(s(e)))},e]):new t((function(e,t){n.apply(o,[function(t){e(c(s(t)))},t])})).then(r,i)},a.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(n){var r=e.RTCPeerConnection.prototype[n];e.RTCPeerConnection.prototype[n]=function(){var e=arguments,n=this,i=new t((function(t,i){r.apply(n,[e[0],t,i])}));return e.length<2?i:i.then((function(){e[1].apply(null,[])}),(function(t){3<=e.length&&e[2].apply(null,[t])}))}})),a.version<52&&["createOffer","createAnswer"].forEach((function(n){var r=e.RTCPeerConnection.prototype[n];e.RTCPeerConnection.prototype[n]=function(){var e,n=this;return arguments.length<1||1===arguments.length&&"object"===_typeof(arguments[0])?(e=1===arguments.length?arguments[0]:void 0,new t((function(t,i){r.apply(n,[t,i,e])}))):r.apply(this,arguments)}})),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}})),o=e.RTCPeerConnection.prototype.addIceCandidate,e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),t.resolve())})},fixNegotiationNeeded:function(e){r.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){if("stable"===e.target.signalingState)return e}))},shimGetDisplayMedia:function(e,t){!e.navigator||!e.navigator.mediaDevices||"getDisplayMedia"in e.navigator.mediaDevices||("function"!=typeof t?console.error("shimGetDisplayMedia: getSourceId argument is not a function"):(e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))},e.navigator.getDisplayMedia=function(t){return r.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),e.navigator.mediaDevices.getDisplayMedia(t)}))}}}).call(this,n(0))},function(e,t,n){"use strict";(function(t){var r=n(28),i=r.log;e.exports=function(e){function n(e,t){if(61<=c.version)return t(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===_typeof(e.audio)&&((o=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])})((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=d(e.audio)),e&&"object"===_typeof(e.video)){var n,r=(r=e.video.facingMode)&&("object"===_typeof(r)?r:{ideal:r}),o=c.version<66;if(r&&("user"===r.exact||"environment"===r.exact||"user"===r.ideal||"environment"===r.ideal)&&(!u.mediaDevices.getSupportedConstraints||!u.mediaDevices.getSupportedConstraints().facingMode||o)&&(delete e.video.facingMode,"environment"===r.exact||"environment"===r.ideal?n=["back","rear"]:"user"!==r.exact&&"user"!==r.ideal||(n=["front"]),n))return u.mediaDevices.enumerateDevices().then((function(o){var a=(o=o.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return n.some((function(t){return-1!==e.label.toLowerCase().indexOf(t)}))}));return(a=!a&&o.length&&-1!==n.indexOf("back")?o[o.length-1]:a)&&(e.video.deviceId=r.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=d(e.video),i("chrome: "+JSON.stringify(e)),t(e)}));e.video=d(e.video)}return i("chrome: "+JSON.stringify(e)),t(e)}function o(e){return 64<=c.version?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}}function a(e){return new t((function(t,n){u.getUserMedia(e,t,n)}))}var s,c=r.detectBrowser(e),u=e&&e.navigator,d=function(e){if("object"!==_typeof(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){var r,i,o;"require"!==n&&"advanced"!==n&&"mediaSource"!==n&&(void 0!==(r="object"===_typeof(e[n])?e[n]:{ideal:e[n]}).exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact),i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t},void 0!==r.ideal&&(t.optional=t.optional||[],o={},"number"==typeof r.ideal?(o[i("min",n)]=r.ideal,t.optional.push(o),(o={})[i("max",n)]=r.ideal):o[i("",n)]=r.ideal,t.optional.push(o)),void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])})))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t};u.getUserMedia=function(e,t,r){n(e,(function(e){u.webkitGetUserMedia(e,t,(function(e){r&&r(o(e))}))}))},u.mediaDevices||(u.mediaDevices={getUserMedia:a,enumerateDevices:function(){return new t((function(t){var n={audio:"audioinput",video:"videoinput"};return e.MediaStreamTrack.getSources((function(e){t(e.map((function(e){return{label:e.label,kind:n[e.kind],deviceId:e.id,groupId:""}})))}))}))},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),u.mediaDevices.getUserMedia?(s=u.mediaDevices.getUserMedia.bind(u.mediaDevices),u.mediaDevices.getUserMedia=function(e){return n(e,(function(e){return s(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return t.reject(o(e))}))}))}):u.mediaDevices.getUserMedia=a,void 0===u.mediaDevices.addEventListener&&(u.mediaDevices.addEventListener=function(){i("Dummy mediaDevices.addEventListener called.")}),void 0===u.mediaDevices.removeEventListener&&(u.mediaDevices.removeEventListener=function(){i("Dummy mediaDevices.removeEventListener called.")})}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(28),i=n(551),o=n(552);e.exports={shimGetUserMedia:n(553),shimPeerConnection:function(e){var t,n=r.detectBrowser(e),a=(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),n.version<15025&&(t=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled"),Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){t.set.call(this,e);var n=new Event("enabled");n.enabled=e,this.dispatchEvent(n)}}))),!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender),o(e,n.version));e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=i(e.iceServers)),new a(e)},e.RTCPeerConnection.prototype=a.prototype},shimReplaceTrack:function(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)},shimGetDisplayMedia:function(e,t){var n;"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)&&(n=e.navigator.getDisplayMedia,e.navigator.mediaDevices.getDisplayMedia=function(t){return n.call(e.navigator,t)},e.navigator.getDisplayMedia=function(t){return r.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),n.call(e.navigator,t)})}}},function(e,t,n){"use strict";var r=n(28);e.exports=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){var i,o;if(e&&(e.urls||e.url))return o=e.urls||e.url,e.url&&!e.urls&&r.deprecated("RTCIceServer.url","RTCIceServer.urls"),o=(o=(i="string"==typeof o)?[o]:o).filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&14393<=t&&-1===e.indexOf("?transport=udp"):n=!0})),delete e.url,e.urls=i?o[0]:o,!!o.length}))}},function(e,t,n){"use strict";(function(t){var r=n(251);function i(e,t,n,i,o){return t=r.writeRtpDescription(e.kind,t),t=(t=(t+=r.writeIceParameters(e.iceGatherer.getLocalParameters()))+r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"))+"a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?t+="a=sendrecv\r\n":e.rtpSender?t+="a=sendonly\r\n":e.rtpReceiver?t+="a=recvonly\r\n":t+="a=inactive\r\n",e.rtpSender&&(n=e.rtpSender._initialTrackId||e.rtpSender.track.id,e.rtpSender._initialTrackId=n,t=t+"a="+(o="msid:"+(i?i.id:"-")+" "+n+"\r\n")+"a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o,e.sendEncodingParameters[0].rtx&&(t=(t+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+o)+"a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")),t+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(t+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),t}function o(e,t){function n(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]}var r={codecs:[],headerExtensions:[],fecMechanisms:[]};return e.codecs.forEach((function(i){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(i.name.toLowerCase()===a.name.toLowerCase()&&i.clockRate===a.clockRate&&("rtx"!==i.name.toLowerCase()||!i.parameters||!a.parameters.apt||function(e,t,r,i){return e=n(e.parameters.apt,r),r=n(t.parameters.apt,i),e&&r&&e.name.toLowerCase()===r.name.toLowerCase()}(i,a,e.codecs,t.codecs))){(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(i.numChannels,a.numChannels),r.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<i.rtcpFeedback.length;t++)if(i.rtcpFeedback[t].type===e.type&&i.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var n=0;n<t.headerExtensions.length;n++){var i=t.headerExtensions[n];if(e.uri===i.uri){r.headerExtensions.push(i);break}}})),r}function a(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function s(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function c(e,t){return(t=new Error(t)).name=e,t.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],t}e.exports=function(e,n){function u(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function d(t,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,e.setTimeout((function(){t._dispatchEvent("track",o)}))}function l(t){var i,o,a,s=this,u=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){s[e]=u[e].bind(u)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",t=JSON.parse(JSON.stringify(t||{})),this.usingBundle="max-bundle"===t.bundlePolicy,"negotiate"===t.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(t.rtcpMuxPolicy||(t.rtcpMuxPolicy="require"),t.iceTransportPolicy){case"all":case"relay":break;default:t.iceTransportPolicy="all"}switch(t.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:t.bundlePolicy="balanced"}if(t.iceServers=(i=t.iceServers||[],o=n,a=!1,(i=JSON.parse(JSON.stringify(i))).filter((function(e){var t,n;if(e&&(e.urls||e.url))return n=e.urls||e.url,e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead."),n=(n=(t="string"==typeof n)?[n]:n).filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||a?0===e.indexOf("stun:")&&14393<=o&&-1===e.indexOf("?transport=udp"):a=!0})),delete e.url,e.urls=t?n[0]:n,!!n.length}))),this._iceGatherers=[],t.iceCandidatePoolSize)for(var d=t.iceCandidatePoolSize;0<d;d--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:t.iceServers,gatherPolicy:t.iceTransportPolicy}));else t.iceCandidatePoolSize=0;this._config=t,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1}Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},l.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(e,t){var n=0<this.transceivers.length;return e={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0},this.usingBundle&&n?(e.iceTransport=this.transceivers[0].iceTransport,e.dtlsTransport=this.transceivers[0].dtlsTransport):(n=this._createIceAndDtlsTransports(),e.iceTransport=n.iceTransport,e.dtlsTransport=n.dtlsTransport),t||this.transceivers.push(e),e},l.prototype.addTrack=function(t,n){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw c("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r=r||this._createTransceiver(t.kind),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},l.prototype.addStream=function(e){var t,r=this;15025<=n?e.getTracks().forEach((function(t){r.addTrack(t,e)})):(t=e.clone(),e.getTracks().forEach((function(e,n){var r=t.getTracks()[n];e.addEventListener("enabled",(function(e){r.enabled=e.enabled}))})),t.getTracks().forEach((function(e){r.addTrack(e,t)})))},l.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw c("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&-1<this.localStreams.indexOf(r)&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},l.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},l.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},l.prototype._createIceGatherer=function(t,n){var r=this;if(n&&0<t)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},l.prototype._gather=function(t,n){var i,o=this,a=this.transceivers[n].iceGatherer;a.onlocalcandidate||(i=this.transceivers[n].bufferedCandidateEvents,this.transceivers[n].bufferedCandidateEvents=null,a.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),a.onlocalcandidate=function(e){var i,s;o.usingBundle&&0<n||((i=new Event("icecandidate")).candidate={sdpMid:t,sdpMLineIndex:n},(s=!(e=e.candidate)||0===Object.keys(e).length)?"new"!==a.state&&"gathering"!==a.state||(a.state="completed"):("new"===a.state&&(a.state="gathering"),e.component=1,e.ufrag=a.getLocalParameters().usernameFragment,e=r.writeCandidate(e),i.candidate=__webpack_provided_Object_dot_assign(i.candidate,r.parseCandidate(e)),i.candidate.candidate=e,i.candidate.toJSON=function(){return{candidate:i.candidate.candidate,sdpMid:i.candidate.sdpMid,sdpMLineIndex:i.candidate.sdpMLineIndex,usernameFragment:i.candidate.usernameFragment}}),(e=r.getMediaSections(o._localDescription.sdp))[i.candidate.sdpMLineIndex]+=s?"a=end-of-candidates\r\n":"a="+i.candidate.candidate+"\r\n",o._localDescription.sdp=r.getDescription(o._localDescription.sdp)+e.join(""),e=o.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state})),"gathering"!==o.iceGatheringState&&(o.iceGatheringState="gathering",o._emitGatheringStateChange()),s||o._dispatchEvent("icecandidate",i),e&&(o._dispatchEvent("icecandidate",new Event("icecandidate")),o.iceGatheringState="complete",o._emitGatheringStateChange()))},e.setTimeout((function(){i.forEach((function(e){a.onlocalcandidate(e)}))}),0))},l.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null),r=(n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()},new e.RTCDtlsTransport(n));return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},l.prototype._disposeIceAndDtlsTransports=function(e){var t;(t=this.transceivers[e].iceGatherer)&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer),(t=this.transceivers[e].iceTransport)&&(delete t.onicestatechange,delete this.transceivers[e].iceTransport),(t=this.transceivers[e].dtlsTransport)&&(delete t.ondtlsstatechange,delete t.onerror,delete this.transceivers[e].dtlsTransport)},l.prototype._transceive=function(e,t,i){var a=o(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),i&&e.rtpReceiver&&0<a.codecs.length&&("video"===e.kind&&e.recvEncodingParameters&&n<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},l.prototype.setLocalDescription=function(e){var n,i,s,u=this;return-1===["offer","answer"].indexOf(e.type)?t.reject(c("TypeError",'Unsupported type "'+e.type+'"')):!a("setLocalDescription",e.type,u.signalingState)||u._isClosed?t.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+u.signalingState)):("offer"===e.type?(n=r.splitSections(e.sdp),i=n.shift(),n.forEach((function(e,t){e=r.parseRtpParameters(e),u.transceivers[t].localCapabilities=e})),u.transceivers.forEach((function(e,t){u._gather(e.mid,t)}))):"answer"===e.type&&(i=(n=r.splitSections(u._remoteDescription.sdp)).shift(),s=0<r.matchPrefix(i,"a=ice-lite").length,n.forEach((function(e,t){var n,a=u.transceivers[t],c=a.iceGatherer,d=a.iceTransport,l=a.dtlsTransport,f=a.localCapabilities,p=a.remoteCapabilities;r.isRejected(e)&&0===r.matchPrefix(e,"a=bundle-only").length||a.rejected||(n=r.getIceParameters(e,i),e=r.getDtlsParameters(e,i),s&&(e.role="server"),u.usingBundle&&0!==t||(u._gather(a.mid,t),"new"===d.state&&d.start(c,n,s?"controlling":"controlled"),"new"===l.state&&l.start(e)),t=o(f,p),u._transceive(a,0<t.codecs.length,!1))}))),u._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?u._updateSignalingState("have-local-offer"):u._updateSignalingState("stable"),t.resolve())},l.prototype.setRemoteDescription=function(i){var l=this;if(-1===["offer","answer"].indexOf(i.type))return t.reject(c("TypeError",'Unsupported type "'+i.type+'"'));if(!a("setRemoteDescription",i.type,l.signalingState)||l._isClosed)return t.reject(c("InvalidStateError","Can not set remote "+i.type+" in state "+l.signalingState));var f={},p=(l.remoteStreams.forEach((function(e){f[e.id]=e})),[]),h=r.splitSections(i.sdp),v=h.shift(),m=0<r.matchPrefix(v,"a=ice-lite").length,g=0<r.matchPrefix(v,"a=group:BUNDLE ").length,b=(l.usingBundle=g,r.matchPrefix(v,"a=ice-options:")[0]);return l.canTrickleIceCandidates=!!b&&0<=b.substr(14).split(" ").indexOf("trickle"),h.forEach((function(t,a){var c,d,h,b,y,_,w,E,S,C,T,O,x,I=r.splitLines(t),A=r.getKind(t),k=r.isRejected(t)&&0===r.matchPrefix(t,"a=bundle-only").length,R=(I=I[0].substr(2).split(" ")[2],r.getDirection(t,v)),D=r.parseMsid(t),N=r.getMid(t)||r.generateIdentifier();k||"application"===A&&("DTLS/SCTP"===I||"UDP/DTLS/SCTP"===I)?l.transceivers[a]={mid:N,kind:A,protocol:I,rejected:!0}:(!k&&l.transceivers[a]&&l.transceivers[a].rejected&&(l.transceivers[a]=l._createTransceiver(A,!0)),I=r.parseRtpParameters(t),k||(b=r.getIceParameters(t,v),(y=r.getDtlsParameters(t,v)).role="client"),d=r.parseRtpEncodingParameters(t),_=r.parseRtcpParameters(t),w=0<r.matchPrefix(t,"a=end-of-candidates",v).length,t=r.matchPrefix(t,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return 1===e.component})),("offer"===i.type||"answer"===i.type)&&!k&&g&&0<a&&l.transceivers[a]&&(l._disposeIceAndDtlsTransports(a),l.transceivers[a].iceGatherer=l.transceivers[0].iceGatherer,l.transceivers[a].iceTransport=l.transceivers[0].iceTransport,l.transceivers[a].dtlsTransport=l.transceivers[0].dtlsTransport,l.transceivers[a].rtpSender&&l.transceivers[a].rtpSender.setTransport(l.transceivers[0].dtlsTransport),l.transceivers[a].rtpReceiver&&l.transceivers[a].rtpReceiver.setTransport(l.transceivers[0].dtlsTransport)),"offer"!==i.type||k?"answer"!==i.type||k||(k=(c=l.transceivers[a]).iceGatherer,O=c.iceTransport,E=c.dtlsTransport,x=c.rtpReceiver,S=c.sendEncodingParameters,h=c.localCapabilities,l.transceivers[a].recvEncodingParameters=d,l.transceivers[a].remoteCapabilities=I,l.transceivers[a].rtcpParameters=_,t.length&&"new"===O.state&&(!m&&!w||g&&0!==a?t.forEach((function(e){s(c.iceTransport,e)})):O.setRemoteCandidates(t)),g&&0!==a||("new"===O.state&&O.start(k,b,"controlling"),"new"===E.state&&E.start(y)),!o(c.localCapabilities,c.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&c.sendEncodingParameters[0].rtx&&delete c.sendEncodingParameters[0].rtx,l._transceive(c,"sendrecv"===R||"recvonly"===R,"sendrecv"===R||"sendonly"===R),!x||"sendrecv"!==R&&"sendonly"!==R?delete c.rtpReceiver:(T=x.track,D?(f[D.stream]||(f[D.stream]=new e.MediaStream),u(T,f[D.stream]),p.push([T,x,f[D.stream]])):(f.default||(f.default=new e.MediaStream),u(T,f.default),p.push([T,x,f.default])))):((c=l.transceivers[a]||l._createTransceiver(A)).mid=N,c.iceGatherer||(c.iceGatherer=l._createIceGatherer(a,g)),t.length&&"new"===c.iceTransport.state&&(!w||g&&0!==a?t.forEach((function(e){s(c.iceTransport,e)})):c.iceTransport.setRemoteCandidates(t)),h=e.RTCRtpReceiver.getCapabilities(A),n<15019&&(h.codecs=h.codecs.filter((function(e){return"rtx"!==e.name}))),S=c.sendEncodingParameters||[{ssrc:1001*(2*a+2)}],O=!1,"sendrecv"===R||"sendonly"===R?(O=!c.rtpReceiver,x=c.rtpReceiver||new e.RTCRtpReceiver(c.dtlsTransport,A),O&&(T=x.track,(C=D&&"-"===D.stream?C:D?(f[D.stream]||(f[D.stream]=new e.MediaStream,Object.defineProperty(f[D.stream],"id",{get:function(){return D.stream}})),Object.defineProperty(T,"id",{get:function(){return D.track}}),f[D.stream]):(f.default||(f.default=new e.MediaStream),f.default))&&(u(T,C),c.associatedRemoteMediaStreams.push(C)),p.push([T,x,C]))):c.rtpReceiver&&c.rtpReceiver.track&&(c.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===c.rtpReceiver.track.id}));n&&(n=n,(t=t).removeTrack(n),t.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:n})))})),c.associatedRemoteMediaStreams=[]),c.localCapabilities=h,c.remoteCapabilities=I,c.rtpReceiver=x,c.rtcpParameters=_,c.sendEncodingParameters=S,c.recvEncodingParameters=d,l._transceive(l.transceivers[a],!1,O)))})),void 0===l._dtlsRole&&(l._dtlsRole="offer"===i.type?"active":"passive"),l._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?l._updateSignalingState("have-remote-offer"):l._updateSignalingState("stable"),Object.keys(f).forEach((function(t){var n,r=f[t];r.getTracks().length&&(-1===l.remoteStreams.indexOf(r)&&(l.remoteStreams.push(r),(n=new Event("addstream")).stream=r,e.setTimeout((function(){l._dispatchEvent("addstream",n)}))),p.forEach((function(e){var t=e[0],n=e[1];r.id===e[2].id&&d(l,t,n,[r])})))})),p.forEach((function(e){e[2]||d(l,e[0],e[1],[])})),e.setTimeout((function(){l&&l.transceivers&&l.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&0<e.iceTransport.getRemoteCandidates().length&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),t.resolve()},l.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(e){this.signalingState=e,e=new Event("signalingstatechange"),this._dispatchEvent("signalingstatechange",e)},l.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){var e;t.needNegotiation&&(t.needNegotiation=!1,e=new Event("negotiationneeded"),t._dispatchEvent("negotiationneeded",e))}),0))},l.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",0<t.failed?e="failed":0<t.checking?e="checking":0<t.disconnected?e="disconnected":0<t.new?e="new":0<t.connected?e="connected":0<t.completed&&(e="completed"),e!==this.iceConnectionState&&(this.iceConnectionState=e,e=new Event("iceconnectionstatechange"),this._dispatchEvent("iceconnectionstatechange",e))},l.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",0<t.failed?e="failed":0<t.connecting?e="connecting":0<t.disconnected?e="disconnected":0<t.new?e="new":0<t.connected&&(e="connected"),e!==this.connectionState&&(this.connectionState=e,e=new Event("connectionstatechange"),this._dispatchEvent("connectionstatechange",e))},l.prototype.createOffer=function(){var o=this;if(o._isClosed)return t.reject(c("InvalidStateError","Can not call createOffer after close"));var a=o.transceivers.filter((function(e){return"audio"===e.kind})).length,s=o.transceivers.filter((function(e){return"video"===e.kind})).length;if(d=arguments[0]){if(d.mandatory||d.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==d.offerToReceiveAudio&&(a=!0===d.offerToReceiveAudio?1:!1===d.offerToReceiveAudio?0:d.offerToReceiveAudio),void 0!==d.offerToReceiveVideo&&(s=!0===d.offerToReceiveVideo?1:!1===d.offerToReceiveVideo?0:d.offerToReceiveVideo)}for(o.transceivers.forEach((function(e){"audio"===e.kind?--a<0&&(e.wantReceive=!1):"video"===e.kind&&--s<0&&(e.wantReceive=!1)}));0<a||0<s;)0<a&&(o._createTransceiver("audio"),a--),0<s&&(o._createTransceiver("video"),s--);var u=r.writeSessionBoilerplate(o._sdpSessionId,o._sdpSessionVersion++),d=(o.transceivers.forEach((function(t,i){var a=t.track,s=t.kind,c=t.mid||r.generateIdentifier();t.mid=c,t.iceGatherer||(t.iceGatherer=o._createIceGatherer(i,o.usingBundle)),c=e.RTCRtpSender.getCapabilities(s),n<15019&&(c.codecs=c.codecs.filter((function(e){return"rtx"!==e.name}))),c.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),t.remoteCapabilities&&t.remoteCapabilities.codecs&&t.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),c.headerExtensions.forEach((function(e){(t.remoteCapabilities&&t.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))})),i=t.sendEncodingParameters||[{ssrc:1001*(2*i+1)}],a&&15019<=n&&"video"===s&&!i[0].rtx&&(i[0].rtx={ssrc:i[0].ssrc+1}),t.wantReceive&&(t.rtpReceiver=new e.RTCRtpReceiver(t.dtlsTransport,s)),t.localCapabilities=c,t.sendEncodingParameters=i})),"max-compat"!==o._config.bundlePolicy&&(u+="a=group:BUNDLE "+o.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",o.transceivers.forEach((function(e,t){u=u+i(e,e.localCapabilities,"offer",e.stream,o._dtlsRole)+"a=rtcp-rsize\r\n",!e.iceGatherer||"new"===o.iceGatheringState||0!==t&&o.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,u+="a="+r.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))})),new e.RTCSessionDescription({type:"offer",sdp:u}));return t.resolve(d)},l.prototype.createAnswer=function(){var a=this;if(a._isClosed)return t.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==a.signalingState&&"have-local-pranswer"!==a.signalingState)return t.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+a.signalingState));var s=r.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++),u=(a.usingBundle&&(s+="a=group:BUNDLE "+a.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n",r.getMediaSections(a._remoteDescription.sdp).length),d=(a.transceivers.forEach((function(e,t){if(!(u<t+1)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?s+="m=application 0 DTLS/SCTP 5000\r\n":s+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?s+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(s+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(s+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var r;e.stream&&("audio"===e.kind?r=e.stream.getAudioTracks()[0]:"video"===e.kind&&(r=e.stream.getVideoTracks()[0]),r&&15019<=n&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1})),!(t=o(e.localCapabilities,e.remoteCapabilities)).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,s+=i(e,t,"answer",e.stream,a._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(s+="a=rtcp-rsize\r\n")}})),new e.RTCSessionDescription({type:"answer",sdp:s}));return t.resolve(d)},l.prototype.addIceCandidate=function(e){var n,i=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?t.reject(new TypeError("sdpMLineIndex or sdpMid required")):new t((function(t,o){if(!i._remoteDescription)return o(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<i.transceivers.length;u++)if(i.transceivers[u].mid===e.sdpMid){a=u;break}var d=i.transceivers[a];if(!d)return o(c("OperationError","Can not add ICE candidate"));if(d.rejected)return t();var l=0<Object.keys(e.candidate).length?r.parseCandidate(e.candidate):{};if("tcp"===l.protocol&&(0===l.port||9===l.port))return t();if(l.component&&1!==l.component)return t();if((0===a||0<a&&d.iceTransport!==i.transceivers[0].iceTransport)&&!s(d.iceTransport,l))return o(c("OperationError","Can not add ICE candidate"));0===(d=e.candidate.trim()).indexOf("a=")&&(d=d.substr(2)),(n=r.getMediaSections(i._remoteDescription.sdp))[a]+="a="+(l.type?d:"end-of-candidates")+"\r\n",i._remoteDescription.sdp=r.getDescription(i._remoteDescription.sdp)+n.join("")}else for(var f=0;f<i.transceivers.length&&(i.transceivers[f].rejected||(i.transceivers[f].iceTransport.addRemoteCandidate({}),(n=r.getMediaSections(i._remoteDescription.sdp))[f]+="a=end-of-candidates\r\n",i._remoteDescription.sdp=r.getDescription(i._remoteDescription.sdp)+n.join(""),!i.usingBundle));f++);t()}))},l.prototype.getStats=function(n){if(n&&n instanceof e.MediaStreamTrack){var r=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===n?r=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===n&&(r=e.rtpReceiver)})),r)return r.getStats();throw c("InvalidAccessError","Invalid selector.")}var i=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&i.push(e[t].getStats())}))})),t.all(i).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n;(t=e[t])&&t.prototype&&t.prototype.getStats&&(n=t.prototype.getStats,t.prototype.getStats=function(){return n.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])})),t}))})}));var f=["createOffer","createAnswer"];return f.forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(f=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),l}}).call(this,n(0))},function(e,t,n){"use strict";(function(t){e.exports=function(e){var n=(e=e&&e.navigator).mediaDevices.getUserMedia.bind(e.mediaDevices);e.mediaDevices.getUserMedia=function(e){return n(e).catch((function(e){return t.reject({name:{PermissionDeniedError:"NotAllowedError"}[(e=e).name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}})}))}}}).call(this,n(0))},function(e,t,n){"use strict";(function(t){var r=n(28);e.exports={shimGetUserMedia:n(555),shimOnTrack:function(e){"object"!==_typeof(e)||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.transceiver={receiver:n.receiver},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),"object"===_typeof(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(e){"object"!==_typeof(e)||!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}})},shimPeerConnection:function(e){var n,i,o,a=r.detectBrowser(e);"object"===_typeof(e)&&(e.RTCPeerConnection||e.mozRTCPeerConnection)&&(e.RTCPeerConnection||(e.RTCPeerConnection=function(t,n){if(a.version<38&&t&&t.iceServers){for(var r=[],i=0;i<t.iceServers.length;i++){var o=t.iceServers[i];if(o.hasOwnProperty("urls"))for(var s=0;s<o.urls.length;s++){var c={url:o.urls[s]};0===o.urls[s].indexOf("turn")&&(c.username=o.username,c.credential=o.credential),r.push(c)}else r.push(t.iceServers[i])}t.iceServers=r}return new e.mozRTCPeerConnection(t,n)},e.RTCPeerConnection.prototype=e.mozRTCPeerConnection.prototype,e.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.mozRTCPeerConnection.generateCertificate}}),e.RTCSessionDescription=e.mozRTCSessionDescription,e.RTCIceCandidate=e.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}})),n=e.RTCPeerConnection.prototype.addIceCandidate,e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),t.resolve())},i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats,e.RTCPeerConnection.prototype.getStats=function(e,t,n){return o.apply(this,[e||null]).then((function(e){var n,r;if(a.version<48&&(n=e,r=new Map,Object.keys(n).forEach((function(e){r.set(e,n[e]),r[e]=n[e]})),e=r),a.version<53&&!t)try{e.forEach((function(e){e.type=i[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,n){e.set(n,__webpack_provided_Object_dot_assign({},t,{type:i[t.type]||t.type}))}))}return e})).then(t,n)})},shimSenderGetStats:function(e){var n,r;"object"===_typeof(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype||((n=e.RTCPeerConnection.prototype.getSenders)&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=n.apply(e,[]);return t.forEach((function(t){t._pc=e})),t}),(r=e.RTCPeerConnection.prototype.addTrack)&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):t.resolve(new Map)}))},shimReceiverGetStats:function(e){var t;"object"===_typeof(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype||((t=e.RTCPeerConnection.prototype.getReceivers)&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(e,[]);return n.forEach((function(t){t._pc=e})),n}),r.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}))},shimRemoveStream:function(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;r.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&-1!==e.getTracks().indexOf(n.track)&&t.removeTrack(n)}))})},shimRTCDataChannel:function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},shimGetDisplayMedia:function(e,n){!e.navigator||!e.navigator.mediaDevices||"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(r){return r&&r.video?(!0===r.video?r.video={mediaSource:n}:r.video.mediaSource=n,e.navigator.mediaDevices.getUserMedia(r)):((r=new DOMException("getDisplayMedia without video constraints is undefined")).name="NotFoundError",r.code=8,t.reject(r))},e.navigator.getDisplayMedia=function(t){return r.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),e.navigator.mediaDevices.getDisplayMedia(t)})}}}).call(this,n(0))},function(e,t,n){"use strict";(function(t){var r=n(28),i=r.log;e.exports=function(e){function n(e,t,n){function r(e){if("object"!==_typeof(e)||e.require)return e;var t=[];return Object.keys(e).forEach((function(n){var r,i;"require"!==n&&"advanced"!==n&&"mediaSource"!==n&&(void 0===(r=e[n]="object"===_typeof(e[n])?e[n]:{ideal:e[n]}).min&&void 0===r.max&&void 0===r.exact||t.push(n),void 0!==r.exact&&("number"==typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),void 0!==r.ideal&&(e.advanced=e.advanced||[],i={},"number"==typeof r.ideal?i[n]={min:r.ideal,max:r.ideal}:i[n]=r.ideal,e.advanced.push(i),delete r.ideal,Object.keys(r).length||delete e[n]))})),t.length&&(e.require=t),e}return e=JSON.parse(JSON.stringify(e)),l.version<38&&(i("spec: "+JSON.stringify(e)),e.audio&&(e.audio=r(e.audio)),e.video&&(e.video=r(e.video)),i("ff37: "+JSON.stringify(e))),f.mozGetUserMedia(e,t,(function(e){n(p(e))}))}var o,a,s,c,u,d,l=r.detectBrowser(e),f=e&&e.navigator,p=(e=e&&e.MediaStreamTrack,function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}});f.mediaDevices||(f.mediaDevices={getUserMedia:function(e){return new t((function(t,r){n(e,t,r)}))},addEventListener:function(){},removeEventListener:function(){}}),f.mediaDevices.enumerateDevices=f.mediaDevices.enumerateDevices||function(){return new t((function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])}))},l.version<41&&(o=f.mediaDevices.enumerateDevices.bind(f.mediaDevices),f.mediaDevices.enumerateDevices=function(){return o().then(void 0,(function(e){if("NotFoundError"===e.name)return[];throw e}))}),l.version<49&&(a=f.mediaDevices.getUserMedia.bind(f.mediaDevices),f.mediaDevices.getUserMedia=function(e){return a(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("The object can not be found here.","NotFoundError");return t}),(function(e){return t.reject(p(e))}))}),55<l.version&&"autoGainControl"in f.mediaDevices.getSupportedConstraints()||(s=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},c=f.mediaDevices.getUserMedia.bind(f.mediaDevices),f.mediaDevices.getUserMedia=function(e){return"object"===_typeof(e)&&"object"===_typeof(e.audio)&&(e=JSON.parse(JSON.stringify(e)),s(e.audio,"autoGainControl","mozAutoGainControl"),s(e.audio,"noiseSuppression","mozNoiseSuppression")),c(e)},e&&e.prototype.getSettings&&(u=e.prototype.getSettings,e.prototype.getSettings=function(){var e=u.apply(this,arguments);return s(e,"mozAutoGainControl","autoGainControl"),s(e,"mozNoiseSuppression","noiseSuppression"),e}),e&&e.prototype.applyConstraints&&(d=e.prototype.applyConstraints,e.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===_typeof(e)&&(e=JSON.parse(JSON.stringify(e)),s(e,"autoGainControl","mozAutoGainControl"),s(e,"noiseSuppression","mozNoiseSuppression")),d.apply(this,[e])})),f.getUserMedia=function(e,t,i){if(l.version<44)return n(e,t,i);r.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),f.mediaDevices.getUserMedia(e).then(t,i)}}}).call(this,n(0))},function(e,t,n){"use strict";(function(t){var r=n(28);e.exports={shimLocalStreamsAPI:function(e){var t;"object"===_typeof(e)&&e.RTCPeerConnection&&("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getStreamById=function(e){var t=null;return this._localStreams&&this._localStreams.forEach((function(n){n.id===e&&(t=n)})),this._remoteStreams&&this._remoteStreams.forEach((function(n){n.id===e&&(t=n)})),t}),"addStream"in e.RTCPeerConnection.prototype||(t=e.RTCPeerConnection.prototype.addTrack,e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),-1===this._localStreams.indexOf(e)&&this._localStreams.push(e);var n=this;e.getTracks().forEach((function(r){t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e,n){return n&&(this._localStreams?-1===this._localStreams.indexOf(n)&&this._localStreams.push(n):this._localStreams=[n]),t.call(this,e,n)}),"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t,n,r=this._localStreams.indexOf(e);-1!==r&&(this._localStreams.splice(r,1),t=this,n=e.getTracks(),this.getSenders().forEach((function(e){-1!==n.indexOf(e.track)&&t.removeTrack(e)})))}))},shimRemoteStreamsAPI:function(e){var t;"object"===_typeof(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams||[]}),"onaddstream"in e.RTCPeerConnection.prototype||(Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=e)}}),t=e.RTCPeerConnection.prototype.setRemoteDescription,e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){var n;e._remoteStreams||(e._remoteStreams=[]),0<=e._remoteStreams.indexOf(t)||(e._remoteStreams.push(t),(n=new Event("addstream")).stream=t,e.dispatchEvent(n))}))}),t.apply(e,arguments)}))},shimCallbacksAPI:function(e){var n,r,i,o,a;"object"===_typeof(e)&&e.RTCPeerConnection&&(e=e.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,o=e.setRemoteDescription,a=e.addIceCandidate,e.createOffer=function(e,r){var i=n.apply(this,[2<=arguments.length?arguments[2]:e]);return r?(i.then(e,r),t.resolve()):i},e.createAnswer=function(e,n){var i=r.apply(this,[2<=arguments.length?arguments[2]:e]);return n?(i.then(e,n),t.resolve()):i},e.setLocalDescription=function(e,n,r){return e=i.apply(this,[e]),r?(e.then(n,r),t.resolve()):e},e.setRemoteDescription=function(e,n,r){return e=o.apply(this,[e]),r?(e.then(n,r),t.resolve()):e},e.addIceCandidate=function(e,n,r){return e=a.apply(this,[e]),r?(e.then(n,r),t.resolve()):e})},shimGetUserMedia:function(e){var t=e&&e.navigator;t.getUserMedia||(t.webkitGetUserMedia?t.getUserMedia=t.webkitGetUserMedia.bind(t):t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t)))},shimRTCIceServerUrls:function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var i=[],o=0;o<e.iceServers.length;o++){var a=e.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(r.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,i.push(a)):i.push(e.iceServers[o])}e.iceServers=i}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},shimTrackEventTransceiver:function(e){"object"===_typeof(e)&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){var n;return e&&(void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio),n=this.getTransceivers().find((function(e){return e.sender.track&&"audio"===e.sender.track.kind})),!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo),n=this.getTransceivers().find((function(e){return e.sender.track&&"video"===e.sender.track.kind})),!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection("sendonly"):"recvonly"===n.direction&&n.setDirection("inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video")),t.apply(this,arguments)}}}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(251),i=n(28);e.exports={shimRTCIceCandidate:function(e){var t;!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype||(t=e.RTCIceCandidate,e.RTCIceCandidate=function(e){var n,i,o;return"object"===_typeof(e)&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length?(n=new t(e),i=r.parseCandidate(e.candidate),(o=__webpack_provided_Object_dot_assign(n,i)).toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o):new t(e)},e.RTCIceCandidate.prototype=t.prototype,i.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t})))},shimCreateObjectURL:function(e){var t,n,r,o,a,s,c=e&&e.URL;"object"===_typeof(e)&&e.HTMLMediaElement&&"srcObject"in e.HTMLMediaElement.prototype&&c.createObjectURL&&c.revokeObjectURL&&(t=c.createObjectURL.bind(c),n=c.revokeObjectURL.bind(c),r=new Map,o=0,c.createObjectURL=function(e){var n;return"getTracks"in e?(n="polyblob:"+ ++o,r.set(n,e),i.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),n):t(e)},c.revokeObjectURL=function(e){n(e),r.delete(e)},a=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src"),Object.defineProperty(e.HTMLMediaElement.prototype,"src",{get:function(){return a.get.apply(this)},set:function(e){return this.srcObject=r.get(e)||null,a.set.apply(this,[e])}}),s=e.HTMLMediaElement.prototype.setAttribute,e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=r.get(arguments[1])||null),s.apply(this,arguments)})},shimMaxMessageSize:function(e){var t,n;!e.RTCSctpTransport&&e.RTCPeerConnection&&(t=i.detectBrowser(e),"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}}),n=e.RTCPeerConnection.prototype.setRemoteDescription,e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e,i,o,a,s;return this._sctp=null,function(e){return(e=r.splitSections(e.sdp)).shift(),e.some((function(e){return(e=r.parseMLine(e))&&"application"===e.kind&&-1!==e.protocol.indexOf("SCTP")}))}(arguments[0])&&(a=i=function(e){return null===(e=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/))||e.length<2||(e=parseInt(e[1],10))!=e?-1:e}(arguments[0]),s=65536,a=s="firefox"===t.browser?t.version<57?-1===a?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637:s,s=arguments[0],i=i,o=65536,"firefox"===t.browser&&57===t.version&&(o=65535),0<(s=r.matchPrefix(s.sdp,"a=max-message-size:")).length?o=parseInt(s[0].substr(19),10):"firefox"===t.browser&&-1!==i&&(o=2147483637),s=o,e=0===a&&0===s?Number.POSITIVE_INFINITY:0===a||0===s?Math.max(a,s):Math.min(a,s),i={},Object.defineProperty(i,"maxMessageSize",{get:function(){return e}}),this._sctp=i),n.apply(this,arguments)})},shimSendThrowTypeError:function(e){var t;function n(e,t){var n=e.send;e.send=function(){var r=(r=arguments[0]).length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype&&(t=e.RTCPeerConnection.prototype.createDataChannel,e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},i.wrapPeerConnectionEvent(e,"datachannel",(function(e){return n(e.channel,e.target),e})))}}},function(e,t,n){"use strict";(function(t){var r=n(6);function i(){return"undefined"==typeof document||"complete"===document.readyState||"interactive"===document.readyState&&document.body}var o=!1,a={isDomLoaded:i,isDomUnloaded:function(){return o},whenUnloaded:new t((function(e){"undefined"!=typeof window&&window.addEventListener("unload",(function(){o=!0,a.emit("unload"),e()}))})),whenLoaded:new t((function(e){var t;i()?e():(t=function t(){document.removeEventListener("DOMContentLoaded",t),document.removeEventListener("load",t),a.emit("load"),e()},document.addEventListener("DOMContentLoaded",t),document.addEventListener("load",t))}))};r(a),e.exports=a}).call(this,n(0))},function(e,t,n){var r=n(78),i=n(255),o=n(238),a=n(560),s=n(9),c=n(52),u=n(256);e.exports=function e(t,n,d,l,f){t!==n&&o(n,(function(o,c){var p;f=f||new r,s(o)?a(t,n,c,d,e,l,f):(p=l?l(u(t,c),o,c+"",t,n,f):void 0,i(t,c,p=void 0===p?o:p))}),c)}},function(e,t,n){var r=n(255),i=n(179),o=n(188),a=n(53),s=n(189),c=n(64),u=n(10),d=n(129),l=n(65),f=n(15),p=n(9),h=n(135),v=n(85),m=n(256),g=n(561);e.exports=function(e,t,n,b,y,_,w){var E,S,C,T=m(e,n),O=m(t,n),x=w.get(O);x||((t=void 0===(x=_?_(T,O,n+"",e,t,w):void 0))&&(S=!(E=u(O))&&l(O),C=!E&&!S&&v(O),x=O,E||S||C?x=u(T)?T:d(T)?a(T):S?i(O,!(t=!1)):C?o(O,!(t=!1)):[]:h(O)||c(O)?c(x=T)?x=g(T):p(T)&&!f(T)||(x=s(O)):t=!1),t&&(w.set(O,x),y(x,O,b,_,w),w.delete(O))),r(e,n,x)}},function(e,t,n){var r=n(39),i=n(52);e.exports=function(e){return r(e,i(e))}},function(e,t,n){"use strict";var r=n(148),i=n(257),o=n(258),a=n(263),s=n(1)("normalizeConstraintInput"),c={"320x240":{width:320,height:240},"320x180":{width:320,height:180},"640x480":{width:640,height:480},"640x360":{width:640,height:360},"1280x720":{width:1280,height:720},"1280x960":{width:1280,height:960},"1920x1080":{width:1920,height:1080}},u=[1,7,15,30];function d(e){return e._inject&&e._inject.logging||s}function l(e,t,n,r,i){if(void 0!==t)return(n=n(t))||i.warn("Invalid ".concat(e," passed to the Publisher. Got: ").concat(t,", expecting one of ").concat(r)),n}function f(e,t){var n,r=d(t),i=void 0===(i=t["publish".concat(o(e))])||Boolean(i);return r=void 0===(n=t["".concat(e,"Source")])||null!==n&&!1!==n&&("object"===_typeof(n)?!t["isCustom".concat(o(e),"Track")]&&("string"!=typeof n.deviceId?(r.warn("Invalid ".concat(e,"Source passed to Publisher. Expected either a device ID or ")+"device."),!0):n.deviceId):"string"!=typeof n?(r.warn("Ignoring invalid ".concat(e,"Source parameter")),!0):n),"audio"===e&&t.isScreenSharing&&!a&&!1!==r&&(t.audioSource&&d(t).warn("Invalid audioSource passed to Publisher - when using screen sharing no audioSource may be used"),r=!1),{source:r,publish:i}}var p=["user","environment","left","right"];e.exports=function(e){var t=d(e),n=e.env||{},o=e.isScreenSharing,a=e.isCustomAudioTrack,s=e.isCustomVideoTrack;return o&&!i&&r(e.usingOptionalMandatoryStyle,"Screensharing only uses optional-mandatory constraints right now"),["echoCancellation","autoGainControl","noiseSuppression"].forEach((function(t){!1!==e[t]&&__webpack_provided_Object_dot_assign(e,_defineProperty3({},t,!0))})),{isScreenSharing:o,isCustomAudioTrack:a,isCustomVideoTrack:s,audio:f("audio",e),video:f("video",e),usingOptionalMandatoryStyle:e.usingOptionalMandatoryStyle,enableRenegotiation:e.enableRenegotiation,enableStereo:e.enableStereo,noiseSuppression:e.noiseSuppression,autoGainControl:e.autoGainControl,echoCancellation:e.echoCancellation,disableAudioProcessing:e.disableAudioProcessing,videoDimensions:l("resolution",e.resolution,(function(e){return c[e]}),'"'.concat(Object.keys(c).join('", "'),'"'),t),frameRate:(a=n,s=l("frameRate",e.frameRate,(function(e){return-1!==u.indexOf(e)?e:void 0}),u.join(","),t),"Chrome"===a.name&&-1!==a.userAgent.indexOf("Mac OS X")&&1===s?2:s),maxResolution:function(){if(void 0===e.maxResolution)return o?{width:1920,height:1920}:void 0;var n={width:e.maxResolution.width,height:e.maxResolution.height};return Object.keys(n).forEach((function(e){var r=n[e];("number"!=typeof r||1920<r)&&(t.warn("Invalid maxResolution passed to the Publisher. maxResolution.".concat(e," must be less than or equal to 1920")),n[e]=1920)})),n}(),facingMode:function(e,t){if(void 0===e||0<=p.indexOf(e))return e;d(t).warn("Invalid facingMode passed to Publisher. Expected one of: ".concat(p.join(", ")))}(e.facingMode,e)}}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!__webpack_provided_Object_dot_assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"!==Object.keys(__webpack_provided_Object_dot_assign({},r)).join("")?void 0:1}catch(e){return}}()?__webpack_provided_Object_dot_assign:function(e,t){for(var n,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in n=Object(arguments[s]))i.call(n,c)&&(a[c]=n[c]);if(r)for(var u=r(n),d=0;d<u.length;d++)o.call(n,u[d])&&(a[u[d]]=n[u[d]])}return a}},function(e,t,n){(function(e,r){var i,o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},a=/%[sdj%]/g,s=(t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(i<=n)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),s=r[n];n<i;s=r[++n])m(s)||!w(s)?o+=" "+s:o+=" "+c(s);return o},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}},{});function c(e,n){var r={seen:[],stylize:d};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){return(t=c.styles[t])?"["+c.colors[t][0]+"m"+e+"["+c.colors[t][1]+"m":e}function d(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&C(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n))return b(o=n.inspect(r,e))?o:l(e,o,r);if(o=function(e,t){return y(t)?e.stylize("undefined","undefined"):b(t)?(n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",e.stylize(n,"string")):g(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0;var n}(e,n))return o;var i,o=Object.keys(n),a=(i={},o.forEach((function(e,t){i[e]=!0})),i);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),S(n)&&(0<=o.indexOf("message")||0<=o.indexOf("description")))return f(n);if(0===o.length){if(C(n))return c=n.name?": "+n.name:"",e.stylize("[Function"+c+"]","special");if(_(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return f(n)}var s,c="",u=!1,d=["{","}"];return h(n)&&(u=!0,d=["[","]"]),C(n)&&(c=" [Function"+(n.name?": "+n.name:"")+"]"),_(n)&&(c=" "+RegExp.prototype.toString.call(n)),E(n)&&(c=" "+Date.prototype.toUTCString.call(n)),S(n)&&(c=" "+f(n)),0!==o.length||u&&0!=n.length?r<0?_(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),s=u?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)I(t,String(a))?o.push(p(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))})),o}(e,n,r,a,o):o.map((function(t){return p(e,n,r,a,t,u)})),e.seen.pop(),60<s.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)?d[0]+(""===c?"":c+"\n ")+" "+s.join(",\n  ")+" "+d[1]:d[0]+c+" "+s.join(", ")+" "+d[1]):d[0]+c+d[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i,o){var a,s;if((t=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=t.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):t.set&&(s=e.stylize("[Setter]","special")),I(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(t.value)<0?-1<(s=m(n)?l(e,t.value,null):l(e,t.value,n-1)).indexOf("\n")&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;a=(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return void 0===e}function _(e){return w(e)&&"[object RegExp]"===T(e)}function w(e){return"object"===_typeof(e)&&null!==e}function E(e){return w(e)&&"[object Date]"===T(e)}function S(e){return w(e)&&("[object Error]"===T(e)||e instanceof Error)}function C(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){var r;return y(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),s[n]||(new RegExp("\\b"+n+"\\b","i").test(i)?(r=e.pid,s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}):s[n]=function(){}),s[n]},(t.inspect=c).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=v,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=b,t.isSymbol=function(e){return"symbol"===_typeof(e)},t.isUndefined=y,t.isRegExp=_,t.isObject=w,t.isDate=E,t.isError=S,t.isFunction=C,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===_typeof(e)||void 0===e},t.isBuffer=n(565);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;n=[O((e=new Date).getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":"),[e.getDate(),x[e.getMonth()],n].join(" "),t.format.apply(t,arguments)},t.inherits=n(566),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(e,t){var n;return e||((n=new Error("Promise was rejected with a falsy value")).reason=e,e=n),t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!=typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,i=new r((function(e,r){t=e,n=r})),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(i){n(i)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=A,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");function o(){return i.apply(a,arguments)}var a=this;t.apply(this,n).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(k,t,o)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,o(t)),n}}).call(this,n(69),n(0))},function(e,t){e.exports=function(e){return e&&"object"===_typeof(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){function n(){}e.super_=t,n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(568),i=n(261),o=n(262),a=n(58);e.exports=function(e){return function(t){t=a(t);var n=(s=i(t)?o(t):void 0)?s[0]:t.charAt(0),s=s?r(s,1).join(""):t.slice(1);return n[e]()+s}}},function(e,t,n){var r=n(260);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&i<=n?e:r(e,t,n)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n,r="["+(n="\\ud800-\\udfff")+"]",i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c=(c="[\\ufe0e\\ufe0f]?")+(u="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?")+"(?:\\u200d(?:"+[n="[^"+n+"]",a,s].join("|")+")"+c+u+")*",u="(?:"+[n+i+"?",i,a,s,r].join("|")+")",d=RegExp(o+"(?="+o+")|"+u+c,"g");e.exports=function(e){return e.match(d)||[]}},function(e,t,n){"use strict";e.exports=["screen","window","tab","browser","application"]},function(e,t,n){"use strict";var r=n(1),i=n(44)(),o=n(49),a=n(119),s=n(574),c=n(577),u="/opentok/webrtc/docs/js/release-notes.html",d=i.onlyLocal(),l=r("setLogLevel"),f=o((function(){l.info("%c".concat("\n          \n   \n               \n               \n              \n                   "),'font-family: "Fire Code", Courier, "Courier New", Consolas, "DejaVu Sans Mono"'),l.info("OpenTok JS SDK ".concat(d.version)),l.info("Release notes: ".concat(d.websiteUrl).concat(u)),l.info("Known issues: ".concat(d.websiteUrl).concat(u,"l#knownIssues"))}));function p(e){var t;return void 0!==e&&(s(a,{priority:e})||0===e)||(t=c(a,(function(e,t){return"OT.".concat(t.toUpperCase()," = ").concat(e.priority)})).join(", "),l.error("level must be one of: OT.NONE = 0, ".concat(t)),l.warn("Using OT.WARN instead"),e=a.warn.priority),r.setLogLevel(e),e>=a.debug.priority&&f(),l.info("OpenTok JS SDK now uses the debug library. More info at ".concat("https://www.npmjs.com/package/debug#browser-support")),l.info("Changed log level to: ".concat(e)),e}p((d.debug?a.debug:a.warn).priority),e.exports=p},function(e,t,n){var r=n(96);e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=r(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},function(e,t,n){var r=n(231),i=n(34),o=n(575),a=n(10),s=n(122);e.exports=function(e,t,n){var c=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),c(e,i(t,3))}},function(e,t,n){var r=n(266);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},function(e,t,n){var r=n(24);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(e,t,n){var r=n(33),i=n(34),o=n(578),a=n(10);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},function(e,t,n){var r=n(266),i=n(24);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},function(e,t,n){"use strict";e.exports=function(e){return"http:"!==e.substr(0,5)&&"https:"!==e.substr(0,6)&&"data:image/png;base64,"!==e.substr(0,22)?"data:image/png;base64,".concat(e):e}},function(e,t,n){"use strict";var r=n(55),i=n(1)("Style");e.exports=function(e,t){var n=this,o={},a={buttonDisplayMode:["auto","mini","mini-auto","off","on"],nameDisplayMode:["auto","off","on"],audioLevelDisplayMode:["auto","off","on"],showSettingsButton:[!0,!1],showSpeakerButton:null,showMicButton:[!0,!1],backgroundImageURI:null,showControlBar:[!0,!1],showArchiveStatus:[!0,!1],archiveStatusDisplayMode:["auto","off","on"],videoDisabledDisplayMode:["auto","off","on"],audioBlockedDisplayMode:["auto","off","on"]};n.getAll=function(){return r(o)},n.get=function(e){return e?o[e]:n.getAll()},n.setAll=function(e,t){return Object.keys(e).forEach((function(r){n.set(r,e[r],t)})),n},n.set=function(e,r,s){i.debug("setStyle: ".concat(e.toString()));var c,u=function(e){switch(e){case"true":return!0;case"false":return!1;default:return e}}(r);return function(e,t){return void 0!==(e=a[e])&&(null===e||-1!==e.indexOf(t))}(e,u)?u!==(c=o[e])&&(o[e]=u,s||t(e,r,c)):i.warn("Style.set::Invalid style property passed ".concat(e," : ").concat(u)),n},e&&n.setAll(e,!0)}},function(e,t,n){"use strict";var r=n(55);e.exports=function(e){var t;return(e=r(e)).backgroundImageURI&&(t=e.backgroundImageURI.split(":")[0],e.backgroundImageURI=-1!==["http","https","data"].indexOf(t)?t:"other"),e}},function(e,t,n){"use strict";var r=n(2),i=n(269);e.exports=function(){return Boolean("Node"!==r.name&&!r.isIosWebView&&(!!i()||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).navigator.mediaDevices&&(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).navigator.mediaDevices.getUserMedia||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).navigator.webkitGetUserMedia||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).navigator.mozGetUserMedia))}},function(e,t,n){"use strict";var r=n(2);e.exports=function(){return"Node"!==r.name&&(!("function"!=typeof(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).webkitRTCPeerConnection||!(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).webkitRTCPeerConnection.prototype.addStream)||"function"==typeof(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).RTCPeerConnection||"function"==typeof(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).mozRTCPeerConnection&&20<r.version)}},function(e,t,n){"use strict";e.exports=void 0!==(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).WebSocket},function(e,t){e.exports='<div id="tb_alert"><div id="section-normal-install" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires <a target="_blank" href="https://www.google.com/chrome/">Google Chrome</a>, <a target="_blank" href="http://www.mozilla.org/firefox">Firefox</a>, <a target="_blank" href="https://www.microsoft.com/en-us/edge">Edge</a>, or <a target="_blank" href="https://www.apple.com/safari/">Safari</a>.</div></div><div id="section-upgrade-install" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires a newer version of <a target="_blank" href="https://www.google.com/chrome/">Google Chrome</a>, <a target="_blank" href="http://www.mozilla.org/firefox">Firefox</a>, <a target="_blank" href="https://www.microsoft.com/en-us/edge">Edge</a>, or <a target="_blank" href="https://www.apple.com/safari/">Safari</a>.</div><div class="continue-text"><a href="#" role="OT_close">Continue at my own risk.</a></div></div><div id="section-supported-mobile-browser" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires a newer version of <a target="_blank" href="https://www.google.com.au/chrome/browser/mobile/">Google Chrome</a>.</div><div class="continue-text"><a href="#" role="OT_close">Continue at my own risk.</a></div></div><div id="section-mobile-browser" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application is not supported on your mobile device\'s browser at this time.</div></div></div>'},function(e,t,n){"use strict";var r=n(3)(n(59));n=n(41),e.exports=function(e){function t(t,n){n=void 0===(n=(void 0===n?{}:n).destroyOnClose)||n;var r=e.call(this)||this;return r.modalDiv=document.createElement("div"),r.modalDiv.classList.add("OT_ModalDialog"),r.modalDiv.innerHTML=t,t=r.modalDiv.querySelectorAll("[role=OT_close]"),[].forEach.call(t,(function(e){return e.addEventListener("click",(function(e){e.preventDefault(),r.close()}))})),r.close(),document.body.appendChild(r.modalDiv),n&&r.on("closed",(function(){return r.destroy()})),r}(0,r.default)(t,e);var n=t.prototype;return n.open=function(){this.modalDiv.style.display="block",this.emit("opened")},n.close=function(){this.modalDiv.style.display="none",this.emit("closed")},n.destroy=function(){this.modalDiv.innerHTML="",this.modalDiv.parentNode.removeChild(this.modalDiv),this.emit("destroyed")},n.el=function(e){return this.modalDiv.querySelector(e)},t}(n)},function(e,t,n){var r=n(588),i=n(270),o=n(589),a=n(590);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(270);function i(t,n,o){return function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){return}}}()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,n){var i=[null];return i.push.apply(i,t),t=new(Function.bind.apply(e,i)),n&&r(t,n.prototype),t},i.apply(null,arguments)}e.exports=i},function(e,t,n){"use strict";(function(t){e.exports=function(e,n){return n=n||function(){},e.then((function(e){return new t((function(e){e(n())})).then((function(){return e}))}),(function(e){return new t((function(e){e(n())})).then((function(){throw e}))}))}}).call(this,n(0))},function(e,t,n){var r=n(57),i=n(593),o=n(594),a=n(46);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var r=n(98),i=n(260);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},function(e,t,n){var r=n(135);e.exports=function(e){return r(e)?void 0:e}},function(e,t,n){var r=n(34),i=n(24),o=n(30);e.exports=function(e){return function(t,n,a){var s,c=Object(t);return-1<(i(t)||(s=r(n,3),t=o(t),n=function(e){return s(c[e],e,c)}),n=e(t,n,a))?c[s?t[n]:n]:void 0}}},function(e,t,n){var r=n(92),i=n(93),o=n(128),a=n(94),s=n(598),c=n(97);e.exports=function(e,t,n){var u=-1,d=i,l=e.length,f=!0,p=[],h=p;if(n)f=!1,d=o;else if(200<=l){var v=t?null:s(e);if(v)return c(v);f=!1,d=a,h=new r}else h=t?[]:p;e:for(;++u<l;){var m=e[u],g=t?t(m):m;if(m=n||0!==m?m:0,f&&g==g){for(var b=h.length;b--;)if(h[b]===g)continue e;t&&h.push(g),p.push(m)}else d(h,g,n)||(h!==p&&h.push(g),p.push(m))}return p}},function(e,t,n){var r=n(185),i=n(223);n=n(97),n=r&&1/n(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i,e.exports=n},function(e,t,n){"use strict";(function(t){var r=n(3),i=r(n(12)),o=r(n(13)),a=n(1)("hasValidPeerConnection");function s(){return(s=(0,o.default)(i.default.mark((function e(n){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=new n({iceServers:[]}),e.next=8;break;case 4:return e.prev=4,e.t0=e.catch(0),a.error("Error occurred creating PeerConnection",e.t0),e.abrupt("return",!1);case 8:e.prev=8,e.next=11;var i=r;return new t((function(e){i.addEventListener("signalingstatechange",(function(){return e(!0)})),i.createOffer({offerToReceiveAudio:1}).then((function(e){return i.setLocalDescription(e)})).then((function(){return setTimeout((function(){e(!1)}),1e3)}))}));case 11:e.next=18;break;case 13:e.prev=13,e.t1=e.catch(8),a.error("Error occurred checking the validity of the PeerConnection",e.t1);try{r.close()}catch(e){}return e.abrupt("return",!1);case 18:e.prev=18,r.close(),e.next=26;break;case 22:return e.prev=22,e.t2=e.catch(18),a.error("Error occurred closing PeerConnection",e.t2),e.abrupt("return",!1);case 26:return e.abrupt("return",!0);case 27:case"end":return e.stop()}}),e,null,[[0,4],[8,13],[18,22]])})))).apply(this,arguments)}e.exports=function(e){return s.apply(this,arguments)}}).call(this,n(0))},function(e,t,n){var r=function(){return this||"object"===("undefined"==typeof self?"undefined":_typeof(self))&&self}()||Function("return this")(),i=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(601),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t,n){(function(t){!function(n){"use strict";var r,i,o,a,s,c,u,d=Object.prototype,l=d.hasOwnProperty,f=(v="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",p=v.asyncIterator||"@@asyncIterator",h=v.toStringTag||"@@toStringTag",v="object"===_typeof(e),m=n.regeneratorRuntime;function g(e,t,n,u){var d,l,f,p;return t=t&&t.prototype instanceof y?t:y,t=Object.create(t.prototype),u=new O(u||[]),t._invoke=(d=e,l=n,f=u,p=i,function(e,t){if(p===a)throw new Error("Generator is already running");if(p===s){if("throw"===e)throw t;return I()}for(f.method=e,f.arg=t;;){var n=f.delegate;if(n&&(n=function e(t,n){var i=t.iterator[n.method];if(i===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=r,e(t,n),"throw"===n.method))return c;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}return"throw"===(i=b(i,t.iterator,n.arg)).type?(n.method="throw",n.arg=i.arg,n.delegate=null,c):(i=i.arg)?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,c):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,c)}(n,f))){if(n===c)continue;return n}if("next"===f.method)f.sent=f._sent=f.arg;else if("throw"===f.method){if(p===i)throw p=s,f.arg;f.dispatchException(f.arg)}else"return"===f.method&&f.abrupt("return",f.arg);if(p=a,"normal"===(n=b(d,l,f)).type){if(p=f.done?s:o,n.arg!==c)return{value:n.arg,done:f.done}}else"throw"===n.type&&(p=s,f.method="throw",f.arg=n.arg)}}),t}function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function y(){}function _(){}function w(){}function E(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function S(e){var n;this._invoke=function(r,i){function o(){return new t((function(n,o){!function n(r,i,o,a){var s;if("throw"!==(r=b(e[r],e,i)).type)return(i=(s=r.arg).value)&&"object"===_typeof(i)&&l.call(i,"__await")?t.resolve(i.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):t.resolve(i).then((function(e){s.value=e,o(s)}),(function(e){return n("throw",e,o,a)}));a(r.arg)}(r,i,n,o)}))}return n=n?n.then(o,o):o()}}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t,n=e[f];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return t=-1,(n=function n(){for(;++t<e.length;)if(l.call(e,t))return n.value=e[t],n.done=!1,n;return n.value=r,n.done=!0,n}).next=n}return{next:I}}function I(){return{value:r,done:!0}}m?v&&(e.exports=m):((m=n.regeneratorRuntime=v?e.exports:{}).wrap=g,i="suspendedStart",o="suspendedYield",a="executing",s="completed",c={},(n={})[f]=function(){return this},(v=(v=Object.getPrototypeOf)&&v(v(x([]))))&&v!==d&&l.call(v,f)&&(n=v),u=w.prototype=y.prototype=Object.create(n),(_.prototype=u.constructor=w).constructor=_,w[h]=_.displayName="GeneratorFunction",m.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},m.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,h in e||(e[h]="GeneratorFunction")),e.prototype=Object.create(u),e},m.awrap=function(e){return{__await:e}},E(S.prototype),S.prototype[p]=function(){return this},m.AsyncIterator=S,m.async=function(e,t,n,r){var i=new S(g(e,t,n,r));return m.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(u),u[h]="Generator",u[f]=function(){return this},u.toString=function(){return"[object Generator]"},m.keys=function(e){var t,n=[];for(t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},m.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=l.call(o,"catchLoc"),c=l.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,T(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),c}})}(function(){return this||"object"===("undefined"==typeof self?"undefined":_typeof(self))&&self}()||Function("return this")())}).call(this,n(0))},function(e,t,n){"use strict";(function(t){var r=n(36),i=n(2),o=n(603),a=n(73),s=n(1)("createPeerConnection");e.exports=function(e){var n=e.window,c=e.config;return e=e.constraints,(s.debug("called"),c=r(c)).iceServers=o(i,c.iceServers),a()&&(c.sdpSemantics="plan-b"),n=new n.RTCPeerConnection(c,e),t.resolve(n)}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(7),i=n(271),o={Edge:function(e){var t=!1;return e.map((function(e){if(e){var n=e.urls||e.url&&[e.url];if(n&&0!==(n=n.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||t?0===e.indexOf("stun:"):t=!0}))).length)return r(i(e,["url","urls"]),{urls:n})}})).filter((function(e){return void 0!==e}))},Safari:function(e){return e.map((function(e){if(void 0!==e.urls&&void 0===e.url)return e;var t=e.urls||e.url&&[e.url];return r(i(e,["url","urls"]),{urls:t})}))}};e.exports=function(e,t){var n=e.name;return e.isEdge&&(n=e.isLegacyEdge?"Edge":"ChromiumEdge"),(e=o[n])?e(t):t}},function(e,t,n){"use strict";function r(e){var t=e.sdp,n=e.from;return e=e.to,t.replace(new RegExp("^(a=fmtp:\\d+ .*profile-level-id=)".concat(n),"gmi"),"$1".concat(e))}var i=n(50),o=n(2),a="42001f",s="42e01f";e.exports={local:{offer:function(e,t){var n=(e=void 0===e?{}:e).numSimulcastStreams,c=e.audioBitrate,u=void 0===(u=e.priorityVideoCodec)?"":u,d=void 0===(l=e.codecFlags)?{}:l,l=void 0!==(l=e.enableStereo)&&l,f=void 0!==(f=e.enableDtx)&&f,p=(e=void 0!==(e=e.replaceBaselineProfile)&&e,i.filterExcessSSRCs(t));return 1<n&&(p=i.enableSimulcast(p,n)),0<c&&(p=i.setAudioBitrate(p,c)),p=i.modifyReceiveStereo(p,!1),p=i.modifySendStereo(p,Boolean(l)),p=i.modifyDtx(p,Boolean(f)),o.isLegacyEdge||Object.keys(d).filter((function(e){return!1===d[e]})).forEach((function(e){p=i.removeVideoCodec(p,e)})),u&&!o.isLegacyEdge?p=i.reprioritizeVideoCodec(p,u,"top"):"h264"!==u&&(p=i.reprioritizeVideoCodec(p,"h264","bottom")),t=p,e&&(t=r({sdp:p,from:a,to:s})),{local:p,remote:t}},answer:function(e,t){var n=(e=void 0===e?{}:e).audioBitrate,o=e.codecFlags,c=void 0!==(c=e.enableStereo)&&c,u=void 0!==(u=e.enableDtx)&&u,d=(e=void 0!==(e=e.replaceBaselineProfile)&&e,t);return 0<n&&(d=i.setAudioBitrate(d,n)),d=i.modifyReceiveStereo(d,Boolean(c)),d=i.modifySendStereo(d,!1),d=i.modifyDtx(d,Boolean(u)),o&&Object.keys(o).filter((function(e){return!1===o[e]})).forEach((function(e){d=i.removeVideoCodec(d,e)})),t=d,e&&(t=r({sdp:d,from:a,to:s})),{local:d,remote:t}}},remote:{offer:function(e,t){return e=void 0!==(e=e.replaceBaselineProfile)&&e,-1===t.indexOf("a=rtcp-fb")&&(t=t.replace(/^m=video(.*)$/gim,"m=video$1\r\n".concat("a=rtcp-fb:* ccm fir\r\na=rtcp-fb:* nack "))),{local:t=e?r({sdp:t,from:s,to:a}):t}},answer:function(e,t){var n=(e=void 0===e?{}:e).audioBitrate;return e=void 0!==(e=e.replaceBaselineProfile)&&e,0<n&&(t=i.setAudioBitrate(t,n)),{local:t=e?r({sdp:t,from:s,to:a}):t}}}}},function(e,t,n){var r=n(38),i=n(53),o=n(40),a=n(24),s=n(275),c=n(606),u=n(232),d=n(97),l=n(262),f=n(276),p=r?r.iterator:void 0;e.exports=function(e){if(!e)return[];if(a(e))return(s(e)?l:i)(e);if(p&&e[p])return c(e[p]());var t=o(e);return("[object Map]"==t?u:"[object Set]"==t?d:f)(e)}},function(e,t){e.exports=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}},function(e,t,n){var r=n(33);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},function(e,t,n){"use strict";e.exports=function(e,t){var n=[],r=null;"function"==typeof e.getReceivers?(e=e.getReceivers().find((function(e){return"audio"===e.track.kind})))&&(n=e.getSynchronizationSources()):r=new Error("peerConnection does not support getReceivers function"),t&&t(r,n)}},function(e,t,n){"use strict";(function(t){function r(e){this.pending=[],this._processBinding=this.maybeProcessPending.bind(this),e&&this.setPeerConnection(e)}var i=n(610);r.prototype.setPeerConnection=function(e){if(this.pc)throw new Error("Peer connection already set");this.pc=e,this._forwardIceCandidate=i(this.pc,"addIceCandidate"),this.pc.addEventListener("signalingstatechange",this._processBinding),this.maybeProcessPending()},r.prototype.canAddCandidates=function(){return!!(this.pc&&"closed"!==this.pc.iceConnectionState&&this.pc.remoteDescription&&this.pc.remoteDescription.type&&this.pc.localDescription&&this.pc.localDescription.type)},r.prototype.addIceCandidate=function(e){if(this.canAddCandidates())return this._forwardIceCandidate(e);var n=this.pending;return new t((function(t,r){n.push({iceCandidate:e,resolve:t,reject:r})}))},r.prototype.maybeProcessPending=function(){this.canAddCandidates()&&this.process()},r.prototype.process=function(){for(;this.pending.length;){var e=this.pending.shift();this._forwardIceCandidate(e.iceCandidate).then(e.resolve).catch(e.reject)}},r.prototype.destroy=function(){this.pc&&this.pc.removeEventListener("signalingstatechange",this._processBinding),this._processBinding=null,this.pc=null},e.exports=r}).call(this,n(0))},function(e,t,n){"use strict";(function(t){e.exports=function(e,n){var r=e[n];return function(n){return new t((function(t,i){(i=r.apply(e,[n,t,i]))&&"function"==typeof i.then&&t(i)}))}}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(155),i=n(2),o=n(1)("offerProcessor"),a=n(50),s=n(612);e.exports=function(e,t,n,c,u,d,l,f,p,h,v,m){function g(t){var n=a.hasSendStereo(d.sdp),i=a.hasSendDtx(d.sdp),o=a.getAudioBitrate(d.sdp),s=(n=r(u,"local","answer",{enableStereo:n,enableDtx:i,audioBitrate:o,replaceBaselineProfile:m,codecFlags:l},t.sdp),i=new c({type:t.type,sdp:n.local}),{type:t.type,sdp:n.remote});return e.setLocalDescription(i).then((function(){return p(s)})).catch(b("Error while setting LocalDescription","SetLocalDescription"))}var b=function(e,t){return function(n){o.error(e),o.error(n),h&&h(e,n,t)}},y=new c({type:d.type,sdp:r(u,"remote","offer",{replaceBaselineProfile:m},d.sdp).local}),_=b("Error while setting RemoteDescription","SetRemoteDescription");return s(y,f,i,t,n).then((function(){return v(!0),y})).catch((function(e){if(v(!1),!a.hasMediaType(y.sdp,"audio"))throw new Error("Unsupported video without audio for fallback");return o.debug("Couldn't set remote description",y,e,", trying without video"),e=new c({type:d.type,sdp:a.disableMediaType(y.sdp,"video")}),o.debug("offer without video",e.sdp),e})).then((function(t){return e.setRemoteDescription(t)})).then((function(){return e.createAnswer().then(g).catch(b("Error while setting createAnswer","CreateAnswer"))})).catch(_)}},function(e,t,n){"use strict";(function(t){var r=n(73);e.exports=function(e,n,i,o,a){if(!o)return t.resolve(!0);function s(){try{u.close()}catch(e){}}var c={iceServers:[]},u=(r()&&(c.sdpSemantics="plan-b"),new o(c));return u.setRemoteDescription(new a(e)).then((function(){s()})).catch((function(e){throw s(),e}))}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(61),i=n(614);e.exports=function(e){function t(e){var t=new i(e);return n.push(t),t.on("close",(function(){var e;e=t,n.filter((function(t){return e!==t}))})),t}var n=[],o={},a={sentMessages:0,recvMessages:0};return o.add=function(n,r){return t(e.createDataChannel(n,r))},o.addMany=function(e){for(var t in e)e.hasOwnProperty(t)&&o.add(t,e[t])},o.get=function(e,t){return r(n,(function(n){return n.equals(e,t)}))},o.getOrAdd=function(e,t){return o.get(e,t)||o.add(e,t)},o.getQosData=function(){var e={sentMessages:0,recvMessages:0};return n.forEach((function(t){e.sentMessages+=t.getQosData().sentMessages,e.recvMessages+=t.getQosData().recvMessages})),e},o.sampleQos=function(){var e=o.getQosData(),t={sentMessages:e.sentMessages-a.sentMessages,recvMessages:e.recvMessages-a.recvMessages};return a=e,t},o.destroy=function(){n.forEach((function(e){e.close()})),n=[]},e.addEventListener("datachannel",(function(e){t(e.channel)})),o}},function(e,t,n){"use strict";function r(e){this.data=e.data,this.source=e.source,this.lastEventId=e.lastEventId,this.origin=e.origin,this.timeStamp=e.timeStamp,this.type=e.type,this.ports=e.ports,this.path=e.path}var i=n(6),o=n(1)("DataChannel");e.exports=function(e){function t(e){return s.push(e),a}function n(t){return e.send(t),c.sentMessages++,a}var a={},s=[],c={sentMessages:0,recvMessages:0};return i(a,!0),a.label=e.label,a.id=e.id,a.reliable=e.reliable,a.negotiated=e.negotiated,a.ordered=e.ordered,a.protocol=e.protocol,a._channel=e,a.close=function(){e.close()},a.equals=function(e,t){if(a.label!==e)return!1;for(var n in t)if(t.hasOwnProperty(n)&&a[n]!==t[n])return!1;return!0},a.getQosData=function(){return c},a.send=t,e.addEventListener("open",(function(){a.send=n;for(var e;e=s.shift();)a.send(e)}),!1),e.addEventListener("close",(function(e){a.send=t,a.trigger("close",e)}),!1),e.addEventListener("error",(function(e){o.error(e)}),!1),e.addEventListener("message",(function(e){e=new r(e),c.recvMessages++,a.trigger("message",e)}),!1),a}},function(e,t,n){"use strict";var r=n(7),i=n(155),o=n(1)("subscribeProcessor");e.exports=function(e){function t(e,t){return function(n){o.error(e,n);var r=new Error(e);throw r.reason=n,r.prefix=t,r}}var n=e.peerConnection,a=e.NativeRTCSessionDescription,s=e.sdpTransforms,c=e.numSimulcastStreams,u=e.offerOverrides,d=e.offerConstraints,l=e.replaceBaselineProfile;return o.debug("subscribeProcessor: creating offer"),n.createOffer(d).then((function(e){o.debug("subscribeProcessor: offer created",e);var d=i(s,"local","offer",r({numSimulcastStreams:c,replaceBaselineProfile:l},u),e.sdp),f=new a({type:e.type,sdp:d.local}),p=new a({type:e.type,sdp:d.remote});return o.debug("subscribeProcessor: setting local description"),n.setLocalDescription(f).then((function(){return p}),t("Error while setting LocalDescription","SetLocalDescription"))}),t("Error while creating Offer","CreateOffer")).then((function(e){return{sdp:e.sdp,type:e.type}}))}},function(e,t,n){"use strict";var r,i=(r=n(3))(n(12)),o=r(n(13)),a=n(50),s=(r=a.mediaDirections).RECVONLY,c=r.INACTIVE,u=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.createOffer();case 4:return r=e.sent,e.next=7,t.setLocalDescription(r);case 7:r=t.remoteDescription.sdp,o=a.changeMediaDirection(r,n),t.setRemoteDescription({type:t.remoteDescription.type,sdp:o});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();e.exports={changeMediaDirectionToInactive:function(e){return u(e,c)},changeMediaDirectionToRecvOnly:function(e){return u(e,s)}}},function(e,t,n){"use strict";function r(e,t){var n,r;if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator])return(n=e[Symbol.iterator]()).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.__esModule=!0,t.parseStatsOldAPI=g,t.parseStatsNewAPI=b,t.default=function(e,t,n,r,i){return l?b(e,t,n,r,i):g(e,0,n,0,i)};var o=n(2),a=n(5),s=n(1)("QoS"),c=n(50),u=n(279),d=n(618),l=n(102)(),f=n(157),p=["audioCodec","audioSentBytes","audioSentPackets","audioSentPacketsLost","audioRtt","videoCodec","videoHeight","videoHeightInput","videoSentBytes","videoFrameRateSent","videoSentPackets","videoRtt","videoSentPacketsLost","videoWidthInput","videoWidth"],h=["audioCodec","audioRecvBytes","audioRecvPackets","audioRecvPacketsLost","videoCodec","videoHeight","videoRecvBytes","videoRecvPackets","videoRecvPacketsLost","videoFrameRateReceived","videoWidth"],v=function(e,t){return s.debug("Raw stats for peer conn ".concat(e.id,":"),t)},m=function(e){var t=e.portNumber||e.port;return e=e.ipAddress||e.address||e.ip,"".concat(e,":").concat(t)};function g(e,t,n,r,i){e.getStats((function(t){if(t.result){for(var r=t.result(),o=(v(e,r),function(e,t){return r.filter((function(n){return n.id===t.stat(e)}))[0]}),a=function(e){return o("localCandidateId",e)},s=function(e){return o("remoteCandidateId",e)},c=0;c<r.length;c++){var d=r[c];d.stat&&("true"===d.stat("googActiveConnection")&&(-1<d.stat("googChannelId").indexOf("audio")?(n.audioLocalAddress=d.stat("googLocalAddress"),n.audioRemoteAddress=d.stat("googRemoteAddress"),n.audioLocalCandidateType=d.stat("googLocalCandidateType"),n.audioRemoteCandidateType=d.stat("googRemoteCandidateType"),n.audioTransportType=d.stat("googTransportType"),n.audioLocalRelayProtocol=u(a(d).stat("priority")),n.audioRemoteRelayProtocol=u(s(d).stat("priority"))):-1<d.stat("googChannelId").indexOf("video")&&(n.videoLocalAddress=d.stat("googLocalAddress"),n.videoRemoteAddress=d.stat("googRemoteAddress"),n.videoLocalCandidateType=d.stat("googLocalCandidateType"),n.videoRemoteCandidateType=d.stat("googRemoteCandidateType"),n.videoTransportType=d.stat("googTransportType"),n.videoLocalRelayProtocol=u(a(d).stat("priority")),n.videoRemoteRelayProtocol=u(s(d).stat("priority")))),l=d,0<Number(l.stat("audioInputLevel"))?(n.audioSentPackets=Number(l.stat("packetsSent")),n.audioSentPacketsLost=Number(l.stat("packetsLost")),n.audioSentBytes=Number(l.stat("bytesSent")),n.audioCodec=l.stat("googCodecName"),n.audioRtt=Number(l.stat("googRtt"))/1e3):0<Number(l.stat("audioOutputLevel"))&&(n.audioRecvPackets=Number(l.stat("packetsReceived")),n.audioRecvPacketsLost=Number(l.stat("packetsLost")),n.audioRecvBytes=Number(l.stat("bytesReceived")),n.audioCodec=l.stat("googCodecName")),l=d,0<Number(l.stat("googFrameRateSent"))?(n.videoSentBytes=Number(l.stat("bytesSent")),n.videoSentPackets=Number(l.stat("packetsSent")),n.videoSentPacketsLost=Number(l.stat("packetsLost")),n.videoRtt=Number(l.stat("googRtt"))/1e3,n.videoFrameRate=Number(l.stat("googFrameRateInput")),n.videoWidth=Number(l.stat("googFrameWidthSent")),n.videoHeight=Number(l.stat("googFrameHeightSent")),n.videoFrameRateSent=Number(l.stat("googFrameRateSent")),n.videoWidthInput=Number(l.stat("googFrameWidthInput")),n.videoHeightInput=Number(l.stat("googFrameHeightInput")),n.videoCodec=l.stat("googCodecName")):0<Number(l.stat("googFrameRateReceived"))&&(n.videoRecvBytes=Number(l.stat("bytesReceived")),n.videoRecvPackets=Number(l.stat("packetsReceived")),n.videoRecvPacketsLost=Number(l.stat("packetsLost")),n.videoFrameRate=Number(l.stat("googFrameRateOutput")),n.videoFrameRateReceived=Number(l.stat("googFrameRateReceived")),n.videoFrameRateDecoded=Number(l.stat("googFrameRateDecoded")),n.videoWidth=Number(l.stat("googFrameWidthReceived")),n.videoHeight=Number(l.stat("googFrameHeightReceived")),n.videoCodec=l.stat("googCodecName")))}"videoCodec"in n&&!n.videoLocalAddress&&["LocalAddress","RemoteAddress","LocalCandidateType","RemoteCandidateType","TransportType","LocalRelayProtocol","RemoteRelayProtocol"].forEach((function(e){n["video".concat(e)]=n["audio".concat(e)]}))}var l;i(null,n)}))}function b(e,t,n,i,s){function u(r,s){var u,d;"outboundrtp"===s?l(r):"inboundrtp"===s&&(n.videoRecvPackets=r.packetsReceived,n.videoRecvPacketsLost=r.packetsLost,n.videoRecvBytes=r.bytesReceived),(o.isFirefox&&["outboundrtp","inboundrtp"].includes(s)||!i&&"inboundrtp"===s)&&(n.videoFrameRate=function(){return("videoSentBytes"in n?0<n.videoSentBytes:0<n.videoRecvBytes)?o.isFirefox&&o.version<96?Number(r.framerateMean):(n[e="outboundrtp"===s?"framesEncoded":"framesDecoded"]=r[e],f({currentStatFrames:r[e],currentTimestamp:r.timestamp,prevStatFrames:t[e],prevTimestamp:t.timeStamp||Date.now()})):0;var e}()),void 0===n.videoCodec&&-1!==["Safari"].indexOf(a.env.name)&&void 0!==r.codecId&&(d=("answer"===e.remoteDescription.type?e.remoteDescription:e.localDescription).sdp,u=r.codecId.lastIndexOf("_"),d=c.getCodecsAndCodecMap(d,"video"),-1!==u&&void 0!==d&&(n.videoCodec=d.codecMap[r.codecId.substring(u+1)]))}var l=function(e){var t,r,i={packetsSent:"videoSentPackets",packetsLost:"videoSentPacketsLost",bytesSent:"videoSentBytes",framesPerSecond:"videoFrameRate",framesSent:"videoFrameRateSent",framesReceived:"videoFramesReceived",frameWidth:"videoWidth",frameHeight:"videoHeight"},o=["videoSentPackets","videoSentBytes"];for(t in i)t in e&&(o.includes(r=i[t])&&Number.isSafeInteger(n[r])?n[r]+=e[t]:n[r]=e[t])};e.getStats(null).then((function(t){function o(r){var i,o,s,p,h=x(r.type),v=r.id.toLowerCase();/(in|out)boundrtp$/.test(h)?(o=(i=/rtp/.test(v))&&/audio/.test(v),i=i&&/video/.test(v),o=o||"audio"===r.kind,i=i||"video"===r.kind,o?(o=r,"outboundrtp"===(s=h)?(n.audioSentPackets=o.packetsSent,n.audioSentPacketsLost=o.packetsLost,n.audioSentBytes=o.bytesSent):"inboundrtp"===s&&(n.audioRecvPackets=o.packetsReceived,n.audioRecvPacketsLost=o.packetsLost,n.audioRecvBytes=o.bytesReceived),void 0===n.audioCodec&&-1!==["Safari"].indexOf(a.env.name)&&void 0!==o.codecId&&(s=("answer"===e.remoteDescription.type?e.remoteDescription:e.localDescription).sdp,p=o.codecId.lastIndexOf("_"),s=c.getCodecsAndCodecMap(s,"audio"),-1!==p&&void 0!==s&&(n.audioCodec=s.codecMap[o.codecId.substring(p+1)]))):i&&u(r,h),r.hasOwnProperty("roundTripTime")&&("video"===(s=r.mediaType||r.kind)?O.push(r.roundTripTime):"audio"===s&&(n.audioRtt=r.roundTripTime)),"remoteinboundrtp"===h&&r.hasOwnProperty("packetsLost")&&(o=r.kind,p="".concat(o,"SentPacketsLost"),n[p]||(n[p]=0),n[p]+=r.packetsLost)):"transport"===h?(i=r.selectedCandidatePairId)&&(y=d(i,t)):"localcandidate"===h?(f=r.candidateType,b=m(r),w=r.protocol||r.transport):"remotecandidate"===h?(g=r.candidateType,_=m(r)):"track"===h&&0!==v.indexOf("video")?(E=r.frameWidth,S=r.frameHeight,l(r)):"mediasource"===h&&(r.hasOwnProperty("framesPerSecond")&&(n.videoFrameRate=r.framesPerSecond),r.hasOwnProperty("width")&&(n.videoWidthInput=r.width),r.hasOwnProperty("height")&&(n.videoHeightInput=r.height))}var f,g,b,y,_,w,E,S,C,T,O=[],x=function(e){return e.toLowerCase().replace(/[^a-z]/g,"")};if("function"==typeof t[Symbol.iterator]){v(e,Array.from(t));for(var I=r(t);!(A=I()).done;){var A=A.value;o(Array.isArray(A)?A[1]:A)}}else for(var k in v(e,t),t)t.hasOwnProperty(k)&&o(t[k]);e.currentRemoteDescription&&(n.useDtx=c.hasSendDtx(e.currentRemoteDescription.sdp)),i&&(n.videoRtt=function(){if(0===O.length)return null;var e=O.filter((function(e){return 0<e})),t=e.reduce((function(e,t){return e+t}),0);return e.length?t/e.length:0}()),(n.audioRecvBytes||n.audioSentBytes)&&(n.audioLocalCandidateType=f,n.audioLocalAddress=b,n.audioRemoteCandidateType=g,n.audioRemoteAddress=_,n.audioTransportType=w,n.audioLocalRelayProtocol=y,void 0===n.audioCodec&&(C=("answer"===e.remoteDescription.type?e.remoteDescription:e.localDescription).sdp,C=c.getCodecs(C,"audio"),n.audioCodec=C[0])),(n.videoRecvBytes||n.videoSentBytes)&&(n.videoLocalCandidateType=f,n.videoLocalAddress=b,n.videoRemoteCandidateType=g,n.videoRemoteAddress=_,n.videoTransportType=w,n.videoLocalRelayProtocol=y,void 0===n.videoCodec&&(C=("answer"===e.remoteDescription.type?e.remoteDescription:e.localDescription).sdp,C=c.getCodecs(C,"video"),n.videoCodec=C[0])),T=n,(i?p:h).forEach((function(e){T.hasOwnProperty(e)||(T[e]=null)})),n.videoWidth=n.videoWidth||E,n.videoHeight=n.videoHeight||S,s(null,n)})).catch((function(e){s(e)}))}},function(e,t,n){"use strict";var r=n(279);e.exports=function(e,t){var n="";return e&&t?((e=t.get(e))&&(e=e.localCandidateId)&&(t=t.get(e))&&(e=t.relayProtocol,t=t.priority,n=e?(e=e.toUpperCase(),"TURN/".concat(e)):r(t)),n):n}},function(e,t,n){"use strict";var r=n(3),i=(t.__esModule=!0,t.default=void 0,r(n(18)));t.default=function(){function e(){(0,i.default)(this,"value",null),(0,i.default)(this,"changeCount",0)}return e.prototype.onValue=function(e){e&&e!==this.value&&(this.value&&(this.changeCount+=1),this.value=e)},e}()},function(e,t,n){var r=n(9),i=n(621),o=n(228),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,d,l,f,p,h=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=c,r=u;return c=u=void 0,h=t,l=e.apply(r,n)}function y(e){var n=e-p;return void 0===p||t<=n||n<0||m&&d<=e-h}function _(){var e,n=i();if(y(n))return w(n);f=setTimeout(_,(e=t-((n=n)-p),m?s(e,d-(n-h)):e))}function w(e){return f=void 0,g&&c?b(e):(c=u=void 0,l)}function E(){var e=i(),n=y(e);if(c=arguments,u=this,p=e,n){if(void 0===f)return h=e=p,f=setTimeout(_,t),v?b(e):l;if(m)return clearTimeout(f),f=setTimeout(_,t),b(p)}return void 0===f&&(f=setTimeout(_,t)),l}return t=o(t)||0,r(n)&&(v=!!n.leading,d=(m="maxWait"in n)?a(o(n.maxWait)||0,t):d,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==f&&clearTimeout(f),c=p=u=f=void(h=0)},E.flush=function(){return void 0===f?l:w(i())},E}},function(e,t,n){var r=n(14);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";var r=n(49);t.check=function(e){return"Chrome"===(e=(e=void 0===e?{}:e).env||n(2)).name&&-1<e.userAgent.toLowerCase().indexOf("android")&&e.version<65},t.once=r((function(){return t.check()}))},function(e,t,n){"use strict";var r=n(35),i=n(5);e.exports=function(e){function t(e){c.nodeValue=e,o.setAttribute("title",e)}function n(){u&&(clearTimeout(u),u=null),l?i.addClass(a,"OT_active"):i.removeClass(a,"OT_active"),i.removeClass(d.domElement,"OT_archiving-".concat(l?"off":"on")),i.addClass(d.domElement,"OT_archiving-".concat(l?"on":"off")),e.show&&l?(t(f),i.addClass(s,"OT_mode-on"),i.removeClass(s,"OT_mode-auto"),d.setDisplayMode("on"),u=setTimeout((function(){i.addClass(s,"OT_mode-auto"),i.removeClass(s,"OT_mode-on")}),5e3)):e.show&&!h?(i.addClass(s,"OT_mode-on"),i.removeClass(s,"OT_mode-auto"),d.setDisplayMode("on"),t(p),u=setTimeout((function(){d.setDisplayMode("off")}),5e3)):d.setDisplayMode("off")}var o,a,s,c,u,d=this,l=e.archiving,f=e.archivingStarted||"Archiving on",p=e.archivingEnded||"Archiving off",h=!0;r(this,{mode:l&&e.show?"on":"off",nodeName:"h1",htmlAttributes:{className:"OT_archiving OT_edge-bar-item OT_edge-bottom"},onCreate:function(){o=i.createElement("div",{className:"OT_archiving-light-box"},""),a=i.createElement("div",{className:"OT_archiving-light"},""),o.appendChild(a),s=i.createElement("div",{className:"OT_archiving-status OT_mode-on OT_edge-bar-item OT_edge-bottom"},""),c=document.createTextNode(""),s.appendChild(c),d.domElement.appendChild(o),d.domElement.appendChild(s),n()}}),this.setShowArchiveStatus=function(t){e.show=t,d.domElement&&n.call(d)},this.setArchiving=function(e){l=e,h=!1,d.domElement&&n.call(d)}}},function(e,t,n){"use strict";e.exports=function(e){var t=(e=void 0===e?{}:e).global||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global);return function(){return t.navigator&&t.navigator.mediaDevices}}},function(e,t,n){"use strict";(function(t){var r=n(7),i=n(9),o=n(106),a=n(626),s=n(27),c=n(21),u=n(6);e.exports=function(e){function d(){var e=C||(x.mediaDevices?(e=x.mediaDevices).getUserMedia.bind(e):void 0);return e?e.apply(void 0,arguments):t.reject(new Error("Cannot find getUserMedia"))}function l(){var e=C||(x.mediaDevices&&x.getDisplayMedia?x.getDisplayMedia.bind(x):x.mediaDevices&&x.mediaDevices.getDisplayMedia?(e=x.mediaDevices).getDisplayMedia.bind(e):void 0);return e?e.apply(void 0,arguments):t.reject(new Error("Cannot find getDisplayMedia"))}function f(e,t){var n=e;return"AbortError"===n&&"string"==typeof t&&t.match(/(screen|tab).?capture/i)&&(n="ScreenCaptureError"),(n=(n=A[n])?_(n.name,new Error("".concat(n.message," (getUserMedia error: ").concat(e,")"))):new Error("Unknown error while getting user media: ".concat(e))).originalMessage=t,n.originalName=e,n}var p,h,v,m,g,b=(e=void 0===e?{}:e).env||n(2),y=e.Errors||n(4),_=e.otError||n(11)(),w=e.logging||n(1)("getUserMedia"),E=e.screenSharing||n(161)(),S=e.getDisplayMediaExtensionHelper||n(287),C=e.customGetUserMedia,T=e.global||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global),O=e.analytics||new s,x=T.navigator,I=T.location,A=(e={name:y.USER_MEDIA_ACCESS_DENIED,message:"End-user denied permission to hardware devices"},p={name:y.NOT_SUPPORTED,message:"A constraint specified is not supported by the browser."},h={name:y.CONSTRAINTS_NOT_SATISFIED,message:"It's not possible to satisfy one or more constraints passed into the getUserMedia function"},v={name:y.NO_DEVICES_FOUND,message:"No voice or video input devices are available on this machine."},m={name:y.HARDWARE_UNAVAILABLE,message:"The selected voice or video devices are unavailable. Verify that the chosen devices are not in use by another application."},g={name:y.UNABLE_TO_CAPTURE_SCREEN,message:"Unable to capture screen. Unknown error occurred"},e={AbortError:{name:y.UNABLE_TO_CAPTURE_MEDIA,message:"Unable to capture media. Unknown error occurred"},NotAllowedError:e,NotFoundError:v,NotReadableError:m,OverconstrainedError:h,SecurityError:r({},e,{message:"End-user denied permission to hardware devices or user media support may be disabled on this page"}),TypeError:h,PermissionDeniedError:e,PermissionDismissedError:e,NotSupportedError:p,ConstraintNotSatisfiedError:h,MandatoryUnsatisfiedError:h,OverConstrainedError:h,DevicesNotFoundError:v,NoDevicesFoundError:v,HardwareUnavailableError:m,SourceUnavailableError:m,TrackStartError:m,ScreenCaptureError:g,TabCaptureError:g},a({objectToTrack:e,keys:["PermissionDeniedError","PermissionDismissedError","NotSupportedError","ConstraintNotSatisfiedError","MandatoryUnsatisfiedError","OverConstrainedError","DevicesNotFoundError","NoDevicesFoundError","HardwareUnavailableError","SourceUnavailableError","TrackStartError","ScreenCaptureError","TabCaptureError"],onUsage:function(e){O.logEvent({action:"DeprecatedPropertyUsage:getUserMedia:errorMap",variation:"Event",payload:{key:e}})}}),e);return function(e,n){if(void 0===n&&(n=!1),w.debug("getUserMedia wrapper called with",e),function(e){if(!e||!i(e))return!0;for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}(e))return w.error("Couldn't get UserMedia: All constraints were false"),u(t.reject(_(y.NO_VALID_CONSTRAINTS,new Error("Video and Audio was disabled, you need to enable at least one"))));function r(){s=!1}n=n&&S.isSupportedInThisBrowser?l:d;var a=u(n(e).catch((function(e){var n,r,o,a=i(e=e)&&e.name?(o=e.name,"Cannot find getUserMedia"!==(n=e.message)&&"Cannot find getDisplayMedia"!==n||(o="Chrome"===b.name&&73<b.version&&"https:"!==T.location.protocol?"NotAllowedError":"NotSupportedError"),"Safari"===b.name&&"Error"===o&&(r=Object.prototype.toString.call(e).match(/^\[object (\w+Error)\]$/))&&(o=r[1]),(r=f(o,n)).constraintName=e.constraint||e.constraintName,r instanceof c||O.logEvent({action:"UnexpectedError:getUserMedia:parseErrorEvent",variation:"Event",payload:{name:r.name,message:r.message,originalMessage:r.originalMessage}}),r):"string"==typeof e?(o=f(e),O.logEvent({action:"CheckUnreachable:getUserMedia:parseErrorEvent",variation:"Event",payload:{info:"error is string",error:e}}),o):(O.logEvent({action:"CheckUnreachable:getUserMedia:parseErrorEvent",variation:"Event",payload:{info:"error was not string or object with name property",error:e}}),new Error("Unknown error type while getting media"));if(a.name===y.UNABLE_TO_CAPTURE_SCREEN)return new t((function(e,t){E.checkCapability((function(e){var n;"chrome"===e.extensionRequired?e.extensionRegistered&&!e.extensionInstalled?((n=_(y.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,a)).message="Screen sharing extension not installed see https://tokbox.com/developer/guides/screen-sharing/js/#chrome-extension",t(n)):e.extensionRegistered||((n=_(y.SCREEN_SHARING_EXTENSION_NOT_REGISTERED,a)).message="Screen sharing extension not registered see https://tokbox.com/developer/guides/screen-sharing/js/#chrome-extension",t(n)):t(a)}))}));throw a})).then((function(e){return w.debug("got stream:",{stream:e,tracks:e.getTracks(),trackLabels:e.getTracks().map((function(e){return e.label}))}),e}))),s=(n=-1!==I.protocol.indexOf("https")?500:100,!0);return a.then(r,r),o(n).then((function(){var e;s&&(e=function(){return a.emit("accessDialogClosed")},a.emit("accessDialogOpened"),a.then(e,e))})),a}}}).call(this,n(0))},function(e,t,n){"use strict";e.exports=function(e){var t=(e=void 0===e?{}:e).objectToTrack,n=e.keys,r=e.onUsage;if(!Array.isArray(n)&&void 0!==n)throw new Error("keys must be an array, or undefined");if("function"!=typeof r)throw new Error("onUsage must be a function");if(null==t)throw new Error("Expected objectToTrack to be a trackable object");Object.keys(t).forEach((function(e){var i;void 0!==n&&-1===n.indexOf(e)||(i=t[e],Object.defineProperty(t,e,{get:function(){return r(e),i},set:function(t){r(e,i=t)},enumerable:!0}))}))}},function(e,t,n){"use strict";var r=n(2),i=n(628).isCallbackBasedAPI,o=n(265),a=null,s=function(e,t){a.getSources(e,t)},c=function(e,t){a.getSources(e).then((function(e){t(void 0,e)}),t)};e.exports=function(e){void 0===e&&(e={});try{a=e.desktopCapturer||(r.isElectron?((t=function(){for(var e=void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global;"function"!=typeof e.require&&e.parent&&e.parent!==e;)e=e.parent;return e}()).require?t.require("electron"):t.electron).desktopCapturer:null),o=e.isElectronScreenSharingSource||o}catch(e){}var t;return{isSupportedInThisBrowser:null!==a,autoRegisters:!0,extensionRequired:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!0,window:!0,browser:!0},register:function(){return{isInstalled:function(e){return e(!0)},getConstraints:function(e,t,n){o(e)?n(void 0,{audio:!0,video:!1}):function(e,t){(i?s:c)({types:[e]},(function(n,r){n?t(n):(n=r[0])?(r={audio:!1,video:{mandatory:{chromeMediaSource:e,chromeMediaSourceId:n.id}}},t(void 0,r)):t(new Error("Could not find Electron source for screensharing"))}))}(e,n)}}}}}},function(e,t,n){"use strict";n=n(2).version<78,e.exports={isCallbackBasedAPI:n,isPromiseBasedAPI:!n}},function(e,t,n){"use strict";var r=n(2);n=n(159).default,e.exports={isSupportedInThisBrowser:!!r.isFirefox&&!n,autoRegisters:!0,extensionRequired:!1,extensionInstalled:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!1,window:!0,browser:!1},register:function(){return{isInstalled:function(e){e("object"===("undefined"==typeof OTScreenSharing?"undefined":_typeof(OTScreenSharing)))},getConstraints:function(e,t,n){t.video={mediaSource:e},t.browserWindow&&(t.video.browserWindow=t.browserWindow,delete t.browserWindow),void 0!==t.scrollWithPage&&(t.video.scrollWithPage=t.scrollWithPage,delete t.scrollWithPage),n(void 0,t)}}}}},function(e,t,n){"use strict";var r=n(3),i=r(n(12)),o=r(n(13)),a=r(n(25)),s=n(631).normaliseOptions,c=n(288).isMediaStreamTrack,u=n(148),d=n(7),l=n(140),f=n(289).default,p=n(4),h=n(47),v=n(11),m=n(290).isValidVideoContentHint,g=n(6),b=n(264),y=n(2),_=n(263),w="getUserMedia request was aborted";e.exports=function(e){void 0===e&&(e={}),["deviceHelpers","getUserMediaHelper"].forEach((function(t){u(e[t],"".concat(t," dependency must be injected into processPubOptions"))}));var t=e.generateConstraintInfo||n(254),r=e.global||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global),E=e.logging||n(1)("processPubOptions"),S=e.navigator||r.navigator,C=e.screenSharing||n(161)(),T=e.env||y,O=n(632)({navigator:S||{}}),x=(S=e).deviceHelpers,I=S.getUserMediaHelper;return function(e,n,u){function y(e){return"boolean"==typeof e}var S=s(e,n,E),A=b(S.videoSource),k=c(S.audioSource),R=c(S.videoSource),D=(e=!k&&null!==S.audioSource,!R&&null!==S.videoSource),N=e||D,P=l(S,{mirror:!A&&!R,publishAudio:!0,publishVideo:!0,showControls:!0,fitMode:A?"contain":"cover",audioFallbackEnabled:e=!A||k||_,insertDefaultUI:!0,enableRenegotiation:!1,enableStereo:!1,enableDtx:!1,disableAudioProcessing:!1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}),M=(void 0===P.videoContentHint||m(P.videoContentHint)||(E.warn("".concat(n,': Invalid content hint. Valid content hints are "text", "detail", "motion", or ""')),P.videoContentHint=""),P.name&&(P.name=String(P.name)),y(P.enableDtx)||(P.enableDtx=!1),y(P.enableStereo)||(P.enableStereo=!1),P.constraints?E.warn("".concat(n,": You have passed your own constraints not using ours")):(D=t((0,a.default)({isScreenSharing:A,isCustomAudioTrack:k,isCustomVideoTrack:R},h(P,["audioSource","publishAudio","videoSource","publishVideo","resolution","maxResolution","frameRate","facingMode","enableRenegotiation","enableStereo","disableAudioProcessing","echoCancellation","noiseSuppression","autoGainControl"]),{env:T,usingOptionalMandatoryStyle:O(A)})),d(P,D)),{isScreenSharing:A,isCustomAudioTrack:k,isCustomVideoTrack:R,shouldAllowAudio:e,properties:P});return g(M),M.getUserMedia=(0,o.default)(i.default.mark((function e(){var t,a,s,c,d,l,h,m,g;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M.emit.apply(M,["accessDialogOpened"].concat(t))},a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M.emit.apply(M,["accessDialogClosed"].concat(t))},N){e.next=7;break}return s=new r.MediaStream,k&&s.addTrack(S.audioSource),R&&s.addTrack(S.videoSource),e.abrupt("return",s);case 7:if(A)return e.next=10,C.getConstraints({onAccessDialogOpened:t,onAccessDialogClosed:a,videoSource:S.videoSource,constraints:P.constraints});e.next=15;break;case 10:if(P.constraints=e.sent,u())throw v(p.CANCEL,new Error(w));e.next=13;break;case 13:e.next=25;break;case 15:return e.next=17,x.shouldAskForDevices();case 17:if(c=e.sent,u())throw v(p.CANCEL,new Error(w));e.next=20;break;case 20:E.debug("".concat(n,": shouldAskForDevices:"),c),c.video||(E.warn("".concat(n,": Setting video constraint to false, there are no video sources")),P.constraints.video=!1),c.audio||(E.warn("".concat(n,": Setting audio constraint to false, there are no audio sources")),P.constraints.audio=!1),M.videoDevices=c.videoDevices,M.audioDevices=c.audioDevices;case 25:if(d=P.constraints,E.debug("".concat(n,": onConstraintsFound"),d),u())throw v(p.CANCEL,new Error(w));e.next=29;break;case 29:return l="Failed to acquire functional stream, this might be caused by the following iOS bug: https://bugs.webkit.org/show_bug.cgi?id=188088",h="Failed to acquire functional stream, this might be caused by the following iOS bug: https://bugs.webkit.org/show_bug.cgi?id=204106",m=function(e){return"NotReadableError"===e.originalName&&"Failed starting capture of a video track"===e.originalMessage},g=function(){var e=(0,o.default)(i.default.mark((function e(){var r,o,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=I(d,A)).on("accessDialogOpened",t),r.on("accessDialogClosed",a),e.prev=3,e.next=6,r;case 6:if(o=e.sent,T.isiOS&&P.publishVideo&&o.getVideoTracks().length&&"ended"===o.getVideoTracks()[0].readyState)throw o.getTracks().forEach((function(e){return e.stop()})),new Error(l);e.next=11;break;case 11:return e.abrupt("return",o);case 14:if(e.prev=14,e.t0=e.catch(3),!T.isiOS){e.next=34;break}if(m(e.t0)&&13<=T.iOSVersion&&T.iOSVersion<14)return e.prev=18,s=I({audio:!0,video:!1},!1),e.next=22,s;e.next=32;break;case 22:e.sent.getTracks().forEach((function(e){return e.stop()})),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(18),E.debug("".concat(n,": error disposing audio track"),e.t1);case 29:throw new Error(h);case 32:if(e.t0.name===p.HARDWARE_UNAVAILABLE)throw new Error(l);e.next=34;break;case 34:throw e.t0;case 35:return e.prev=35,setTimeout((function(){r.off("accessDialogOpened",t),r.off("accessDialogClosed",a)})),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[3,14,35,38],[18,26]])})));return function(){return e.apply(this,arguments)}}(),e.next=35,f(g,(function(e,t){return!(![l,h].includes(e.message)||1!==t||u())&&1e3}))();case 35:if(s=e.sent,u())throw s.getTracks().forEach((function(e){e.stop()})),v(p.CANCEL,new Error(w));e.next=39;break;case 39:return k&&s.addTrack(S.audioSource),R&&s.addTrack(S.videoSource),e.abrupt("return",s);case 42:case"end":return e.stop()}}),e)}))),M}}},function(e,t,n){"use strict";var r=n(288).isMediaStreamTrack,i=n(36),o=n(2);t.normaliseOptions=function(e,t,n){var a;return!1===(e=e&&"object"===_typeof(e)?i(e):{}).audioSource&&(e.audioSource=null),!1===e.videoSource&&(e.videoSource=null),void 0===e.minVideoBitrate||"number"==typeof e.minVideoBitrate&&0<e.minVideoBitrate||(n.warn("".concat(t,": Invalid minVideoBitrate in publisher properties. minVideoBitrate must ")+"be a positive number"),delete e.minVideoBitrate),void 0===e.audioBitrate||6e3<=e.audioBitrate&&e.audioBitrate<=51e4||(n.warn("".concat(t,": Invalid audioBitrate in publisher properties. audioBitrate must ")+"be a number between ".concat(6e3," and ").concat(51e4," bits per second")),delete e.audioBitrate),"Firefox"===o.name&&o.version<49&&(a="Firefox 48 and below",r(e.audioSource)&&(e.audioSource=null,n.warn("".concat(t,": Cannot use custom tracks with ").concat(a,". Setting audioSource to null"))),r(e.videoSource)&&(e.videoSource=null,n.warn("".concat(t,": Cannot use custom tracks with ").concat(a,". Setting videoSource to null")))),e}},function(e,t,n){"use strict";var r=n(2),i=r.name,o=r.version,a=n(257);e.exports=function(e){var t=void 0===(e=(void 0===e?{}:e).navigator)?window.navigator:e;return function(e){return e&&!a||!(t.mediaDevices&&t.mediaDevices.getUserMedia)||"Chrome"===i&&o<61}}},function(e,t,n){"use strict";e.exports=function(e){void 0===e&&(e={}),["processPubOptions"].forEach((function(t){if(!e[t])throw new Error("".concat(t," dependency must be injected into OT.getUserMedia"))}));var t=e.logging||n(1)("getUserMedia"),r=e.processPubOptions;return function(e){return r(e=void 0===e?{}:e,"OT.getUserMedia",(function(){return!1})).getUserMedia().catch((function(e){throw t.error("OT.getUserMedia failed to getUserMedia: ".concat(e)),e}))}}},function(e,t,n){"use strict";e.exports=function(e,t){function n(t,n){return function(){throw new Error("Cannot ".concat(t," ").concat(n,", ").concat(e," is destroyed"))}}Object.keys(t).forEach((function(e){"function"==typeof t[e]?t[e]=n("call",e):Object.defineProperty(t,e,{get:n("get",e),set:n("set",e)})}))}},function(e,t,n){"use strict";e.exports=function(e){var t;"srcObject"in e||(t=window&&window.URL,"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(e,"srcObject",{get:function(){return this._srcObject},set:function(e){var n=this;if(this._srcObject=e,this.src&&t.revokeObjectURL(this.src),e)return this.src=t.createObjectURL(e),e.addEventListener("addtrack",(function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)})),e.addEventListener("removetrack",(function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)})),this._srcObject;this.src=""}}))}},function(e,t,n){"use strict";e.exports=function(e){return!(!(r=e)||"function"!=typeof r.getBoundingClientRect)&&(r=(r=e).getBoundingClientRect(),t=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,t=r.top<=t&&0<=r.top+r.height,n=r.left<=n&&0<=r.left+r.width,t&&n)&&null!==(r=e).offsetParent&&!function e(t){return!(!t.style||"hidden"!==t.style.visibility)||!!t.parentNode&&e(t.parentNode)}(r);var t,n,r}},function(e,t,n){"use strict";var r=n(104),i=n(5),o={0:"rotate(0deg)",270:"rotate(90deg)",90:"rotate(-90deg)",180:"rotate(180deg)"};e.exports=function(e,t,n){var a=n;r(e,{isRotated:{get:function(){return this.orientation()&&(270===this.orientation().videoOrientation||90===this.orientation().videoOrientation)}},orientation:{get:function(){return a},set:function(n){var r=o[(a=n).videoOrientation]||o.ROTATED_NORMAL;switch(i.env.name){case"Chrome":case"Safari":t().style.webkitTransform=r;break;default:t().style.transform=r}e.trigger("orientationChanged",a)}},audioChannelType:{get:function(){return"mozAudioChannelType"in this.domElement?this.domElement.mozAudioChannelType:"unknown"},set:function(e){"mozAudioChannelType"in this.domElement&&(this.domElement.mozAudioChannelType=e)}}})}},function(e,t,n){"use strict";e.exports=function(){return function(e,t,n){var r=[];function i(i){setTimeout((function(){var s;r.length&&(e.getTracks().every((function(e){return"ended"===e.readyState}))?(a(),"function"==typeof t&&t()):(o(s=i.target),"function"==typeof n&&n(s)))}),100)}function o(e){e.removeEventListener&&e.removeEventListener("ended",i),e.onended===i&&(e.onended=null),0<=(e=r.indexOf(e))&&r.splice(e,1)}function a(){r.slice().forEach(o)}function s(){e.getTracks().forEach((function(e){r.push(e),e.onended=i,e.addEventListener&&e.addEventListener("ended",i)}))}return s(),{stop:a,refresh:function(){a(),s()}}}}},function(e,t,n){var r=n(63),i=n(99),o=n(34);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=setTimeout((function(){e((function(e,n){if(!e)for(var r=0;r<n.length;r+=1){var i=n[r];-1===i.id.indexOf("_send")||"ssrc"!==i.type||"audio"!==i.kind&&"audio"!==i.mediaType||0!==parseInt(i.bytesSent,10)||t()}}))}),3e3);return function(){clearTimeout(n)}}},function(e,t,n){"use strict";e.exports=function(e,t,n){function r(e){return"inbound-rtp"===e.type&&"audio"===(e.kind||e.mediaType)}function i(e){return e.id===o&&"track"===e.type&&"audio"===(e.kind||e.mediaType)}var o,a=null,s=0,c=n=void 0!==n&&n,u=setInterval((function(){e((function(e,n){var d;e||(e=n.find(r)||{},o=e.trackId,(e=n.find(i))&&(n=e.audioLevel,e=e.totalSamplesReceived,void 0!==n&&(d=e,n===a&&d===s?(clearInterval(u),t("audioLevelStuck")):(d=n,!c&&0===d&&0===a&&s<e&&(clearInterval(u),t("audioLevelStuckAt0"))),a=n,s=e)))}))}),500);return n||setTimeout((function(){c=!0}),3e3),{stop:function(){clearInterval(u)}}}},function(e,t,n){"use strict";(function(t){var r=new(n(27));e.exports=function(e){var i=(e=void 0===e?{}:e).analytics||r,o=e.errors||n(4),a=e.ExceptionCodes||n(8),s=e.otError||n(11)(),c=e.sessionObjects||n(20),u=e.uuid||n(19);return function(e){void 0===e&&(e=function(){});var n=u();function r(t){t?e(s(o.REPORT_ISSUE_FAILED,new Error("Error calling OT.reportIssue(). Check the client's network connection."),a.REPORT_ISSUE_ERROR)):e(null,n)}0===c.sessions.length()?i.logEvent({action:"ReportIssue",variation:"Event",payload:{reportIssueId:n}},null,r):t.all(c.sessions.map((function(e){return e.reportIssue({id:n})}))).then((function(){return r()}),r)}}}).call(this,n(0))},function(e,t,n){"use strict";e.exports=function(e){e=e.window;var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassive",null,n),e.removeEventListener("testPassive",null,n)}catch(e){}return t}},function(e,t,n){"use strict";var r=/^[0-9]+(\.[0-9]+)*$/;e.exports=function(e,t){if(!r.test(e)||!r.test(t))throw new Error("could not recognize version");var n=String(e).split(".").map(Number),i=String(t).split(".").map(Number);if(n.length!==i.length)throw new Error("versions must be same length");for(var o=n.length,a=0;a<o;a+=1)if(n[a]!==i[a])return n[a]>i[a];if(e!==t)throw new Error("versions should be equal");return!1}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(n=n=n(298))&&n.__esModule?n:{default:n};function o(){}function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.internalIsCanceled=!1,this.listeners=[]}!function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(a,[{key:"isCanceled",value:function(){return this.internalIsCanceled}},{key:"cancel",value:function(){this.internalIsCanceled||(this.internalIsCanceled=!0,this.listeners.forEach((function(e){return e()})),this.listeners=null)}},{key:"throwIfCanceled",value:function(){if(this.internalIsCanceled)throw new i.default("Operation has been canceled.")}},{key:"onCancel",value:function(e){var t=this;return this.internalIsCanceled?o:(this.listeners.push(e),function(){var n;t.listeners&&-1!==(n=t.listeners.indexOf(e))&&t.listeners.splice(n,1)})}},{key:"fork",value:function(){if(this.internalIsCanceled)return a.CANCELED;var e=new a;return this.onCancel((function(){return e.cancel()})),e}}]),n=a,(t.default=n).CANCELED=new n,n.CANCELED.internalIsCanceled=!0},function(e,t,n){"use strict";(function(t){var r=n(62),i=n(299).default,o=n(153);n(107)(),e.exports=function(e,n){var a=r(e),s=new t((function(t){function n(){(2<e.videoWidth()||2<e.videoHeight())&&t(!0)}a.on("videoDimensionsChanged",n),n()}));return i(o(s,n,(function(){return!1})),(function(){return a.removeAll()}))}}).call(this,n(0))},function(e,t,n){"use strict";(function(t){var r=n(62),i=n(299).default,o=n(153);n(107)(),e.exports=function(e,n){void 0===n&&(n=5e3);var a=r(e);return e=new t((function(e){a.on("timeupdate",e),a.on("loadedmetadata",e)})),i(o(e,n,(function(){return!1})),(function(){return a.removeAll()}))}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(1)("WidgetView:fixMini");e.exports=function(e){var t=e.clientWidth,n=e.clientHeight;e.classList.remove("OT_micro"),e.classList.remove("OT_mini"),(t<64||n<64)&&(e.classList.add("OT_micro"),r.debug("OT_micro class added",{clientWidth:t,clientHeight:n,microWidth:64,microHeight:64})),(t<128||n<128)&&(e.classList.add("OT_mini"),r.debug("OT_mini class added",{clientWidth:t,clientHeight:n,miniWidth:128,miniHeight:128}))}},function(e,t,n){"use strict";var r=n(19);e.exports=function(e,t){var n,i;if(e&&e.nodeName?((n=e).getAttribute("id")&&0!==n.getAttribute("id").length||n.setAttribute("id","OT_".concat(r())),i=n.getAttribute("id")):e&&(n=document.getElementById(e))&&(i=e),i=i||"OT_".concat(r().replace(/-/g,"_")),!n)return(n=document.createElement("div")).id=i,n.setAttribute("id",i),n.style.backgroundColor="#000000",document.body.appendChild(n),n;var o=document.createElement("div");switch(o.id="OT_".concat(r()),t){case"append":return n.appendChild(o),o;case"before":return n.parentNode.insertBefore(o,n),o;case"after":return n.parentNode.insertBefore(o,n.nextSibling),o;default:for(;n.firstChild;)n.removeChild(n.firstChild);return n}}},function(e,t,n){"use strict";e.exports=function(e,t){return void 0===t&&(t="px"),String(parseFloat(e,10))===String(e).trim()?"".concat(String(e).trim()).concat(t):e}},function(e,t,n){"use strict";(function(t){var r=n(74);e.exports=function(e,n){var i,o=void 0===(i=(n=void 0===n?{}:n).frequency)?60:i,a=void 0===(i=n.timeout)?2e3:i;return new t((function(t,n){var i=new r((function(){!function(){try{return e()}catch(e){return}}()||(clearTimeout(s),i.stop(),t())}),o),s=setTimeout((function(){i.stop(),n(new Error("TIMEOUT"))}),a);i.start()}))}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(11)(),i=n(4),o=n(8);e.exports=function(e){return"404"===String(e.code)?r(i.STREAM_NOT_FOUND,new Error("stream not found"),o.UNABLE_TO_SUBSCRIBE):"409"===String(e.code)&&"streamLimitExceeded"===e.message?r(i.STREAM_LIMIT_EXCEEDED,new Error("The limit for concurrent streams in the session has been reached"),o.STREAM_LIMIT_EXCEEDED):r(i.UNABLE_TO_SUBSCRIBE,new Error("subscriberCreate failed with unexpected code ".concat(e.code,": ").concat(e.message)),o.UNEXPECTED_SERVER_RESPONSE)}},function(e,t,n){"use strict";var r=n(26),i=n(48),o=n(103),a=n(22)();e.exports=function(e){var t=e.subscriber,n=e.audioLevelSampler,s=0,c=0,u=new o((function(){var e=t.listenerCount(r.AUDIO_LEVEL_UPDATED);1e4<i()-c&&0===e?u.stop():(s=n.sample(),0<e&&t.dispatchEvent(new a.AudioLevelUpdatedEvent(s)))}));return Object.defineProperty(t,"loudness",{get:function(){return u.start(),c=i(),s},set:function(){throw new TypeError("Cannot set readonly property loudness")},configurable:!0}),t.listenerCount(r.AUDIO_LEVEL_UPDATED)&&u.start(),t.on("audioLevelUpdated:added",(function(){u.start()})),t.once(r.SUBSCRIBER_DESTROYED,(function(){u.stop()})),{destroy:function(){n.destroy(),u.stop()}}}},function(e,t,n){"use strict";var r=n(253),i=n(145),o=n(655),a=n(301),s=n(302),c=n(158)(),u=n(656),d=n(1)("Subscriber");e.exports=function(e,t){var n,l=(t=void 0===t?{}:t).hasGetSynchronizationSupport;if(e){if(o({hasGetSynchronizationSupport:l}))return new r(e.getSynchronizationSources);if(a())return new r(e.getStats);if(s()){try{n=t.audioContext||c()}catch(e){d.warn("Failed to get AudioContext()",e)}if(u(n))return new i(n)}}}},function(e,t,n){"use strict";function r(){return window.RTCRtpReceiver&&"getSynchronizationSources"in window.RTCRtpReceiver.prototype}var i=n(2);e.exports=function(e){return((e=void 0===e?{}:e).hasGetSynchronizationSupport||r)()&&!i.isFirefox}},function(e,t,n){"use strict";e.exports=function(e){return(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).AudioContext&&e instanceof(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).AudioContext||(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).webkitAudioContext&&e instanceof(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).webkitAudioContext}},function(e,t,n){"use strict";var r=n(35),i=n(5);e.exports=function(e){var t=!1,n=!1,o=function(e){var r=-1<["auto","on"].indexOf(this.getDisplayMode());i.removeClass(e,"OT_video-disabled OT_video-disabled-warning OT_active"),r&&(t?i.addClass(e,"OT_video-disabled"):n&&i.addClass(e,"OT_video-disabled-warning"),i.addClass(e,"OT_active"))}.bind(this),a=(this.disableVideo=function(e){!0===(t=e)&&(n=!1),o(this.domElement)},this.setWarning=function(e){n=e,o(this.domElement)},r(this,{mode:e.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_video-disabled-indicator"}}),this.setDisplayMode.bind(this));this.setDisplayMode=function(e){a(e),o(this.domElement)}}},function(e,t,n){"use strict";var r=n(35),i=n(5);e.exports=function(e){function t(e){var t=-1<["auto","on"].indexOf(n.getDisplayMode());i.removeClass(e,["OT_audio-blocked","OT_active"].join(" ")),t&&(o&&i.addClass(e,"OT_audio-blocked"),i.addClass(e,"OT_active"))}var n=this,o=!1,a=(this.setAudioBlocked=function(e){o=e,t(n.domElement)},r(this,{mode:e.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_audio-blocked-indicator"}}),this.setDisplayMode.bind(this));this.setDisplayMode=function(e){a(e),t(n.domElement)}}},function(e,t,n){"use strict";var r=n(35),i=n(5);e.exports=function(e){function t(e){var t=-1<["auto","on"].indexOf(n.getDisplayMode());i.removeClass(e,["OT_active"].join(" ")),t&&o&&i.addClass(e,"OT_active")}var n=this,o=!1,a=(this.setVideoUnsupported=function(e){o=e,t(n.domElement)},r(this,{mode:e.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_video-unsupported"},htmlContent:'<div class="OT_video-unsupported-bar"></div><div class="OT_video-unsupported-img"></div><span class="OT_video-unsupported-text">Video format not supported</span>'}),this.setDisplayMode.bind(this));this.setDisplayMode=function(e){a(e),t(n.domElement)}}},function(e,t,n){"use strict";var r=n(47),i=n(7),o=n(61),a=n(75),s=n(157);e.exports=function(e,t){void 0===t&&(t=5e3);var n,c=!1,u={};return function s(){c||e((function(e,d){c||(e||((d=o(e=void 0===(e=d)?[]:e,(function(e){return a.isVideoInboundRtpStat(e)})))?i(u,r(d,["timestamp","framesDecoded"])):u.timestamp||i(u,{timestamp:Date.now(),framesDecoded:0})),n=setTimeout(s,t))}))}(),{getFrameRateFromStat:function(e){return s({currentStatFrames:e.framesDecoded,currentTimestamp:e.timestamp,prevStatFrames:u.framesDecoded,prevTimestamp:u.timestamp})},destroy:function(){c=!0,n&&(clearTimeout(n),n=null)}}}},function(e,t,n){"use strict";e.exports=function(e){function t(){s.forEach((function(e){return clearTimeout(e)}))}var n=e.connectivityState,r=e.onWarning,i=e.onTimeout,o=e.warningMs,a=e.timeoutMs,s=[];n.observe({onEnterConnecting:function(){s.push(setTimeout(r,o),setTimeout(i,a))},onEnterConnected:t,onEnterDisconnected:t})}},function(e,t,n){"use strict";var r=n(305);e.exports=function(e){return e=e.onInvalidTransition,new r({init:"disconnected",transitions:[{name:"beginConnect",from:"disconnected",to:"connecting"},{name:"connect",from:"connecting",to:"connected"},{name:"fail",from:["connecting","connected"],to:"disconnected"},{name:"cancel",from:["connecting","connected"],to:"disconnected"},{name:"disconnect",from:["connecting","connected"],to:"disconnected"}],methods:{onInvalidTransition:e}})}},function(e,t,n){"use strict";var r=n(74);e.exports=function(e){var t=e.connectivityState,n=(e=e.logAttempt,new r(e,.2,6));t.observe({onEnterConnecting:function(){n.start()},onEnterDisconnected:function(){n.stop()},onEnterConnected:function(){n.stop()}})}},function(e,t,n){var r=n(665),i=n(259);n=r((function(e,t,n){return e+(n?" ":"")+i(t)})),e.exports=n},function(e,t,n){var r=n(666),i=n(667),o=n(670),a=RegExp("[']","g");e.exports=function(e){return function(t){return r(o(i(t).replace(a,"")),e,"")}}},function(e,t){e.exports=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}},function(e,t,n){var r=n(668),i=n(58),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(o,r).replace(a,"")}},function(e,t,n){n=n(669)({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),e.exports=n},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t,n){var r=n(671),i=n(672),o=n(58),a=n(673);e.exports=function(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?(i(e)?a:r)(e):e.match(t)||[]}},function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},function(e,t){var n,r,i,o="["+(u="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000")+"]",a="["+(n="\\u2700-\\u27bf")+"]",s="["+(r="a-z\\xdf-\\xf6\\xf8-\\xff")+"]",c="(?:"+s+"|"+(u="[^"+(p="\\ud800-\\udfff")+u+"\\d+"+n+r+(i="A-Z\\xc0-\\xd6\\xd8-\\xde")+"]")+")",u="(?:"+(i="["+i+"]")+"|"+u+")",d="(?:['](?:d|ll|m|re|s|t|ve))?",l="(?:['](?:D|LL|M|RE|S|T|VE))?",f="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",p=(h="[\\ufe0e\\ufe0f]?")+f+"(?:\\u200d(?:"+["[^"+p+"]",n="(?:\\ud83c[\\udde6-\\uddff]){2}",r="[\\ud800-\\udbff][\\udc00-\\udfff]"].join("|")+")"+h+f+")*",h="(?:"+[a,n,r].join("|")+")"+p,v=RegExp([i+"?"+s+"+"+d+"(?="+[o,i,"$"].join("|")+")",u+"+"+l+"(?="+[o,i+c,"$"].join("|")+")",i+"?"+c+"+"+d,i+"+"+l,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",h].join("|"),"g");e.exports=function(e){return e.match(v)||[]}},function(e,t,n){"use strict";e.exports=function(e,t){var n=(e=e.getSenders().find((function(e){return"video"===e.track.kind}))).getParameters();n.encodings.forEach((function(e){e.active=t})),e.setParameters(n)}},function(e,t,n){"use strict";var r=n(47);e.exports=function(e){return r(e,["audioDeviceId","audioFallbackEnabled","audioSource","channels","classNames","constraints","disableAudioProcessing","echoCancellation","noiseSuppression","autoGainControl","enableRenegotiation","enableStereo","facingMode","fitMode","frameRate","height","insertDefaultUI","insertMode","audioBitrate","maxResolution","minVideoBitrate","mirror","name","publishAudio","publishVideo","resolution","showControls","style","videoContentHint","videoDeviceId","videoDimensions","videoSource","width"])}},function(e,t,n){"use strict";var r=n(26),i=n(48),o=n(103),a=n(22)();e.exports=function(e){var t=e.publisher,n=e.widgetView,s=0,c=0,u=new o((function(){var e,o=t.listenerCount(r.AUDIO_LEVEL_UPDATED);1e4<i()-c&&0===o?u.stop():(e=n&&n.video())&&(e=e.getAudioInputLevel(),s=e,0<o&&t.dispatchEvent(new a.AudioLevelUpdatedEvent(e)))}));Object.defineProperty(t,"loudness",{get:function(){return u.start(),c=i(),s},set:function(){throw new TypeError("Cannot set readonly property loudness")}}),t.listenerCount(r.AUDIO_LEVEL_UPDATED)&&u.start(),t.on("audioLevelUpdated:added",(function(){u.start()})),t.once(r.PUBLISHER_DESTROYED,(function(){u.stop()}))}},function(e,t,n){"use strict";var r=n(3),i=r(n(12)),o=r(n(13));e.exports=function(e){var t=!1;return function(){var n=(0,o.default)(i.default.mark((function n(){var r,o,a,s=arguments;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t)throw new Error("The previous call to this function has not yet completed.");n.next=2;break;case 2:for(t=!0,n.prev=3,r=s.length,o=new Array(r),a=0;a<r;a++)o[a]=s[a];return n.next=7,e.call.apply(e,[this].concat(_toConsumableArray(o)));case 7:return n.abrupt("return",n.sent);case 8:return n.prev=8,t=!1,n.finish(8);case 11:case"end":return n.stop()}}),n,this,[[3,,8,11]])})));return function(){return n.apply(this,arguments)}}()}},function(e,t,n){"use strict";var r=n(11)(),i=n(4);e.exports=function(e){var t=document.createElement("canvas");if(!t.captureStream)throw r(i.NOT_SUPPORTED,new Error("Your browser does not support HTMLCanvasElement.captureStream()"));return t.width=e.width,t.height=e.height,t.getContext("2d").fillRect(0,0,1,1),(e=t.captureStream().getVideoTracks()[0]).isCreatedCanvas=!0,e.enabled=!1,e}},function(e,t,n){"use strict";e.exports=function(e,t){return e&&(e=e.getVideoTracks()[0])?(t=t,(o=e=e).getSettings&&o.getSettings().deviceId||(i=(o=e).getConstraints&&o.getConstraints().deviceId?o.getConstraints().deviceId.exact:i)||(n=e,(o=t)&&o.length&&(o=o.find((function(e){return e.label===n.label})))&&(r=o.deviceId),r)):null;var n,r,i,o}},function(e,t,n){"use strict";var r=n(4),i=n(8),o=n(11)();e.exports=function(e){return[403,404,409].includes(parseInt(e.code,10))?o(r.STREAM_CREATE_FAILED,new Error("Failed to create stream in server model: ".concat(e.message)),i.UNABLE_TO_PUBLISH):o(r.UNEXPECTED_SERVER_RESPONSE,new Error("Unexpected server response: ".concat(e.message)),i.UNEXPECTED_SERVER_RESPONSE)}},function(e,t,n){"use strict";e.exports=function(e){return null===e||!1===e}},function(e,t,n){"use strict";e.exports=function(e){var t=!(!e||null==(t=e.videoSource)||!t.canvas);t&&(!e||!("videoContentHint"in e))&&(e.videoContentHint="detail")}},function(e,t,n){var r=n(684),i=n(99),o=n(34);e.exports=function(e,t){return r(e,o(t,3),i)}},function(e,t){e.exports=function(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}},function(e,t,n){"use strict";(function(t){var r=n(50),i=n(73);e.exports=function(e){var n,o,a=e.RTCPeerConnection,s=e.env,c=e.stream,u=e.codecFlags;if(s.isLegacyEdge)return!0;function d(){try{n.close()}catch(e){}try{o.close()}catch(e){}o=n=null}try{var l={iceServers:[]};i()&&(l.sdpSemantics="plan-b"),n=new a(l),o=new a(l),n.addStream(c)}catch(e){return d(),t.resolve(!1)}return n.createOffer().then((function(e){var t={type:e.type,sdp:e.sdp};return Object.keys(u).forEach((function(e){u[e]||(t.sdp=r.removeVideoCodec(t.sdp,e))})),o.setRemoteDescription(t)})).then((function(){return!0})).catch((function(){return!1})).then((function(e){return d(),e}))}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(4).INVALID_PARAMETER;e.exports=function(e){var t=e.otError;return function(e){var n;e&&(n=function(e,n){if(!e)throw t(r,new Error("iceConfig invalid: ".concat(n)))},"includeServers"in e&&n(-1!==["all","custom"].indexOf(e.includeServers),".includeServers must be all or custom"),"transportPolicy"in e&&n(-1!==["all","relay"].indexOf(e.transportPolicy),".transportPolicy must be all or relay"),n(Array.isArray(e.customServers),".customServers must be an array"),e.customServers.forEach((function(e){n(e.urls||!("url"in e),"ice servers need .urls, not .url"),n("string"==typeof e.urls||Array.isArray(e.urls),"ice server .urls must be a string or an array"),n(!e.username||"string"==typeof e.username,"ice server .username must be a string if present"),n(!e.credential||"string"==typeof e.credential,"ice server .credential must be a string if present")})))}}},function(e,t,n){"use strict";var r=n(8);e.exports=function(e){switch(e){case r.AUTHENTICATION_ERROR:case r.INVALID_SESSION_ID:case r.TERMS_OF_SERVICE_FAILURE:case r.UNEXPECTED_SERVER_RESPONSE:return e;case r.ANVIL_EMPTY_RESPONSE_BODY:case r.ANVIL_CONNECT_FAILED:return r.CONNECT_FAILED;case r.ANVIL_BADLY_FORMED_RESPONSE:case r.ANVIL_INVALID_HTTP_STATUS:case r.ANVIL_XDOMAIN_OR_PARSING_ERROR:case r.ANVIL_UNKNOWN_HTTP_ERROR:case r.ANVIL_UNEXPECTED_ERROR_CODE:default:return r.UNEXPECTED_SERVER_RESPONSE}}},function(e,t,n){"use strict";var r=n(8);n=n(4),e.exports={NOT_CONNECTED:{code:n.NOT_CONNECTED,message:"Cannot use forceMute functionality. You are not connected to the session.",exceptionCode:r.NOT_CONNECTED},PERMISSION_DENIED:{code:n.PERMISSION_DENIED,message:"This token does not allow forceMute usage. The role must be at least `moderator` to enable this functionality",exceptionCode:r.UNABLE_TO_FORCE_MUTE},INVALID_PARAMETER:{code:n.INVALID_PARAMETER,message:"Invalid Parameter. Check that you have passed valid parameter values into the method call.",exceptionCode:r.INVALID_PARAMETER},NOT_FOUND:{code:n.NOT_FOUND,message:"The stream does not exist."},UNEXPECTED_SERVER_RESPONSE:{code:n.UNEXPECTED_SERVER_RESPONSE,message:"An unexpected error occurred.",exceptionCode:r.UNEXPECTED_SERVER_RESPONSE}}},function(e,t,n){"use strict";(function(e){var r=n(3),i=(t.__esModule=!0,t.default=function(t){function r(t,n,d,h,v,E,S){function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];z(r?"error":"connected"),M.apply(void 0,t)}function T(e){var t="clientDisconnected";!F.is("disconnecting")&&U&&(t="networkDisconnected"),e&&4001===e.code&&(t="networkTimedout"),z("disconnected"),V.onClose(t)}function O(e){U=!0,m.error(e)}function x(){V.onReconnecting()}function I(){W({action:"Reconnect",variation:"Success",retries:F._rumor.reconnectRetriesCount(),messageQueueSize:F._rumor.messageQueueSize(),socketId:F.socketId}),V.onReconnected()}function A(){W({action:"Reconnect",variation:"Attempt",retries:F._rumor.reconnectRetriesCount(),messageQueueSize:F._rumor.messageQueueSize(),socketId:F.socketId})}function k(e){"connectionLimitExceeded"===e.message&&(e.code=p.CONNECTION_LIMIT_EXCEEDED),e.reason="ConnectToSession";var t=l(e);W({action:"Reconnect",variation:"Failure",failureReason:e.reason,failureCode:t.code,failureMessage:t.message,messageQueueSize:F._rumor.messageQueueSize(),socketId:F.socketId})}var R,D,N,P,M,L,j,U,F=this,B=this,V=(void 0===S&&(S=[]),v||new f),z=b.statable(this,["disconnected","connecting","connected","error","disconnecting"],"disconnected"),W=function(e){e.action&&e.variation||m.debug("Expected action and variation"),E.logEvent((0,a.default)({sessionId:D,partnerId:R,p2p:L,messagingServer:j,connectionId:t},e))};Object.defineProperty(this,"socketId",{get:function(){return this._rumor.socketID}}),this.connect=function(n,i,o,a){var s,u,l=this;this.is("disconnected","error")?(z("connecting"),R=i.partnerId,D=i.sessionId,L=i.p2pEnabled,j=i.messagingServer,N=n,M=a,P={apiKey:R,sessionId:D},s="/v2/partner/".concat(R,"/session/").concat(D),this._rumor=new r.RumorSocket({messagingURL:d,notifyDisconnectAddress:h,connectionId:t,enableReconnection:i.reconnection}),this._rumor.on("close",T),this._rumor.on("error",O),this._rumor.on("reconnecting",x),this._rumor.on("reconnectAttempt",A),this._rumor.on("reconnectFailure",k),this._rumor.on("reconnected",I),this._rumor.on("message",V.dispatch.bind(V)),u=function(e){C({reason:"WebSocketConnection",code:e.code,message:e.message})},this._rumor.once("error",u),this._rumor.once("open",(function(){l._rumor.removeListener("error",u),m.debug("connected. Subscribing to ".concat(s," on ").concat(d)),l._rumor.subscribe([s]);var t=S,n=((r.hasIceRestartsCapability()||r.hasRenegotiationCapability())&&i.renegotiation&&t.push("renegotiation"),t=g.connections.create({apiKey:R,sessionId:D,connectionId:l._rumor.id,connectionEventsSuppressed:o.connectionEventsSuppressed,capabilities:t}),new e((function(e){v.on("connection#created",(function t(n){n.id===l._rumor.id&&(e(n),v.off("connection#created",t))}))})));l.publish(t,{"X-TB-TOKEN-AUTH":N},!0,(function(e,t){if(e)return"connectionLimitExceeded"===e.message&&(e.code=p.CONNECTION_LIMIT_EXCEEDED),void C({reason:"ConnectToSession",code:e.code,message:e.message,socketId:l.socketId});function r(e,t){e?C({reason:"GetSessionState",code:e.code,message:e.message,socketId:l.socketId}):C(void 0,t)}var i=t&&t.data?JSON.parse(t.data):null;!i||i.connection&&0!==i.connection.length||(i.connection=[],Array.isArray(i.stream)&&i.stream.forEach((function(e){return e=e.connection,i.connection.push(e)}))),n.then((function(e){i.connection.some((function(t){return t.id===e.id}))||i.connection.unshift(e);var t=(0,c.default)();V.registerCallback(t,r),V.emit("session#read",i,t)}))}))}))):m.warn("Cannot connect the Raptor Socket as it is currently connected. You should disconnect first.")},this.disconnect=function(){this.is("disconnected")||(z("disconnecting"),this._rumor.disconnect())},this.publish=function(e,t,n,r){var i,o=(0,s.default)(r=r||function(){});return r=(0,c.default)(),m.debug("Publish (ID:".concat(r,") ").concat(e)),this._rumor.readyState!==y.OPEN||this._rumor.reconnecting&&!n?((i=new Error("Not connected.")).code=500,o(i),void m.error("cannot publish until the socket is connected.")):(V.registerCallback(r,o),this._rumor.publish([h],e,(0,a.default)({},t,{"Content-Type":"application/x-raptor+v2","TRANSACTION-ID":r,"X-TB-FROM-ADDRESS":this._rumor.id}),n,(function(e){e&&o.apply(void 0,arguments)})),r)},this.send=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=function(){}),B.publish((0,u.default)(e),t,n,r)},this.streamCreate=function(e,t,n,r,i,o,a,s){e={apiKey:R,sessionId:D,streamId:t,name:e,audioFallbackEnabled:n,channels:r,minBitrate:i,maxBitrate:o,sourceStreamId:a},n=g.streams.create(e),this.publish(n,{},!0,(function(e,n){s(e,t,n)}))},this.streamDestroy=function(e,t){this.publish(g.streams.destroy(R,D,e,t),{},!0)},this.streamChannelUpdate=function(e,t,n){this.publish(g.streamChannels.update(R,D,e,t,n),{},!0)},this.subscriberCreate=function(e,t,n,r,i){e={apiKey:R,sessionId:D,streamId:e,subscriberId:t,connectionId:this._rumor.id,channelsToSubscribeTo:n,sourceStreamId:r},this.publish(g.subscribers.create(e),{},!0,i)},this.subscriberDestroy=function(e,t){this.publish(g.subscribers.destroy(R,D,e,t),{},!0)},this.subscriberUpdate=function(e,t,n){this.publish(g.subscribers.update(R,D,e,t,n),{},!0)},this.subscriberChannelUpdate=function(e,t,n,r){this.publish(g.subscriberChannels.update(R,D,e,t,n,r),{},!0)},this.forceDisconnect=function(e,t){this.publish(g.connections.destroy({apiKey:R,sessionId:D,connectionId:e}),{},!0,t)},this.forceUnpublish=function(e,t){this.publish(g.streams.destroy(R,D,e),{},!0,t)},this.forceMuteStream=function(e,t){this.publish(g.forceMute.update((0,i.default)({},P,{streamId:e,active:!0})),{},!0,t)},this.forceMuteAll=function(e,t,n){this.publish(g.forceMute.update((0,i.default)({},P,{excludedStreamIds:e,active:t})),{},!0,n)},this.signal=function(e,t,n){var r=new _(D,this._rumor.id,e||{});r.valid?this.publish(r.toRaptorMessage(),{},r.retryAfterReconnect,(function(e){var i,a;e?(i=parseInt(e.code,10),i=[400,403,404,413,500].includes(i)?(a=i,e.message):(a=p.UNEXPECTED_SERVER_RESPONSE,"Unexpected server response. Try this operation again later."),a=new w(a,i)):(e=r.data?_typeof(r.data):null,n("signal","send",{type:e})),t&&(0,o.default)(t)&&t(a,r.toHash())})):t&&(0,o.default)(t)&&t(new w(r.error.code,r.error.reason),r.toHash())},this.id=function(){return this._rumor&&this._rumor.id}}void 0===t&&(t={});var l=t.convertRumorError||n(310),f=t.Dispatcher||n(314),p=t.ExceptionCodes||n(8),h=t.hasIceRestartsCapability||n(311),v=t.hasRenegotiationCapability||n(706),m=t.logging||n(1)("RaptorSocket"),g=t.Message||n(315),b=t.OTHelpers||n(5),y=t.RumorSocket||(0,d.default)(),_=t.Signal||n(316),w=t.SignalError||n(711);return r.hasIceRestartsCapability=h,r.hasRenegotiationCapability=v,r.RumorSocket=y,r},r(n(25))),o=r(n(15)),a=r(n(7)),s=r(n(49)),c=r(n(19)),u=r(n(312)),d=r(n(690))}).call(this,n(0))},function(e,t,n){"use strict";var r=n(3),i=(t.__esModule=!0,t.default=function(e){e=void 0===(e=(void 0===e?{}:e).WebSocket)?u.default:e;var t=(0,o.default)();return e=(0,s.default)({EventEmitter:i.default,WebSocket:e,logging:a.default,allocateId:t}),(0,c.default)({EventEmitter:i.default,ReconnectableSocket:e,logging:a.default,allocateId:t})},r(n(41))),o=r(n(691)),a=r(n(1)),s=r(n(692)),c=r(n(697)),u=r(n(702))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){var e=0;return function(){return e+=1}}},function(e,t,n){"use strict";function r(e){return function(){e.apply(void 0,arguments)}}var i=n(3),o=(t.__esModule=!0,t.default=void 0,i(n(12))),a=i(n(13)),s=i(n(156)),c=i(n(45)),u=i(n(59)),d=i(n(18)),l=i(n(313)),f=n(76),p=i(n(693)),h=i(n(62)),v=i(n(694)),m=i(n(696)),g=f.codes.CLOSE_TIMEOUT;t.default=function(e){var t=e.EventEmitter,n=e.WebSocket,i=e.logging,f=e.allocateId,b=void 0===(_=e.BUFFER_DRAIN_INTERVAL)?100:_,y=void 0===(_=e.BUFFER_DRAIN_MAX_RETRIES)?10:_,_=e=function(e){function t(n){var c,u=(n="string"==typeof n?{url:n}:n).url,h=void 0===(h=n.connectTimeout)?15e3:h,m=void 0===(m=n.pingThreshold)?3e3:m,g=void 0===(g=n.pingWarningDelay)?100:g,b=void 0===(b=n.disconnectThreshold)?5900:b;if(n=void 0===(n=n.reconnectMaxDuration)?6e4:n,!u)throw new Error("Must provide url");function y(e,t){return new p.default({name:e,duration:t,logger:c._logger})}return c=e.call(this)||this,(0,d.default)((0,s.default)(c),"_url",void 0),(0,d.default)((0,s.default)(c),"_id",f()),(0,d.default)((0,s.default)(c),"_logger",i("ReconnectableSocket:".concat(c._id))),(0,d.default)((0,s.default)(c),"_webSocket",void 0),(0,d.default)((0,s.default)(c),"_connectTimer",void 0),(0,d.default)((0,s.default)(c),"_pingTimer",void 0),(0,d.default)((0,s.default)(c),"_pingWarningTimer",void 0),(0,d.default)((0,s.default)(c),"_disconnectTimer",void 0),(0,d.default)((0,s.default)(c),"_queuedMessages",[]),(0,d.default)((0,s.default)(c),"_draining",!1),c.readyStateMachine=(0,v.default)({reconnectMaxDuration:n,CLOSED:t.CLOSED,CLOSING:t.CLOSING}),c._url=u,(0,l.default)({logger:c._logger,obj:(0,s.default)(c),eventNames:["error","open","message","needsPing","reconnecting","reconnectAttempt","reconnectFailure","reconnected","close"]}),c.readyStateMachine.observe("onEnterOpen",(function(e){e=e.from,c._resetPingTimers(),c._resetDisconnectTimer(),c._connectTimer.clear(),"reconnecting"===e?(c._queuedMessages.forEach((function(e){return c.send(e,!0)})),c._queuedMessages=[],c.emit("reconnected")):c.emit("open")})),c.readyStateMachine.observe("onEnterClosed",(function(e,t){c.emit("close",t)})),c.readyStateMachine.observe("onEnterClosing",r(function(){var e=(0,a.default)(o.default.mark((function e(t,n){var r,i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.from,i=n.code,a=n.reason,c._clearTimers(),e.next=5,c._clearSocket({drain:"open"===r,code:i,reason:a});case 5:"reconnecting"===r&&c.emit("reconnectFailure",{code:i,reason:a}),setTimeout((function(){c.readyStateMachine.closed({code:i,reason:a})}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),c.readyStateMachine.observe("onEnterReconnecting",(function(){c.emit("reconnecting")})),c.readyStateMachine.observe("onDisconnect",r(function(){var e=(0,a.default)(o.default.mark((function e(t,n){var r,i,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.from,i=t.to,a=n.code,s=n.reason,"reconnecting"!==i){e.next=10;break}if(c._draining)return e.abrupt("return");e.next=5;break;case 5:return c._clearTimers(),c.emit("reconnectAttempt"),e.next=9,c._clearSocket({drain:"open"===r,code:a,reason:s});case 9:c._createSocket();case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),c._connectTimer=y("connect",h),c._pingTimer=y("ping",m),c._pingWarningTimer=y("pingWarning",g),c._disconnectTimer=y("disconnect",b),c._createSocket(),c}(0,u.default)(t,e),(0,c.default)(t,[{key:"url",get:function(){return"function"==typeof this._url?this._url():this._url}},{key:"reconnecting",get:function(){return"reconnecting"===this.readyStateMachine.state}},{key:"binaryType",get:function(){return this._webSocket.binaryType}},{key:"bufferedAmount",get:function(){return this._webSocket.bufferedAmount}},{key:"protocol",get:function(){return this._webSocket.protocol}},{key:"extensions",get:function(){return this._webSocket.extensions}},{key:"readyState",get:function(){return{reconnecting:t.OPEN,open:t.OPEN,closing:t.CLOSING,closed:t.CLOSED,connecting:t.CONNECTING}[this.readyStateMachine.state]}}]);var _=t.prototype;return _._createSocket=function(){var e=this,r=new n(this.url),i=(r.binaryType="arraybuffer",(0,h.default)(r));i.on("open",(function(){e.readyStateMachine.open()})),i.on("close",(function(t){var n=t.code;t=t.reason,e.readyStateMachine.disconnect({code:n,reason:t})})),i.on("error",(function(t){e.emit("error",t)})),i.on("message",(function(n){e.readyState!==t.CLOSING&&e._resetDisconnectTimer(),e.emit("message",n)})),this._webSocket=r,this._webSocketEvents=i,this._connectTimer.reset((function(){var t={code:g,reason:"Timeout while opening connection"},n=new Error(t.reason);n.code=g,e.emit("error",n),e.readyStateMachine.disconnect(t)}))},_._clearSocket=function(){var e=(0,a.default)(o.default.mark((function e(n){var r,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=void 0!==(r=(s=void 0===n?{}:n).drain)&&r,a=s.code,s=s.reason,this._draining=!0,this._webSocketEvents&&this._webSocketEvents.removeAll(),this._webSocket.readyState===t.CLOSED){e.next=8;break}if(r)return e.next=7,(0,m.default)(this._webSocket,{BUFFER_DRAIN_INTERVAL:b,BUFFER_DRAIN_MAX_RETRIES:y});e.next=7;break;case 7:try{!(1e3===(o=a)||3e3<=o&&o<=4999)||void 0===a&&void 0===s?this._webSocket.close():this._webSocket.close(a,s)}catch(e){i.error("Could not close websocket",e)}case 8:this._draining=!1;case 9:case"end":return e.stop()}var o}),e,this)})));return function(t){return e.apply(this,arguments)}}(),_.send=function(e,r){function i(){try{return o._webSocket.send(e),"sent"}catch(e){if(o._webSocket.readyState===n.OPEN)return o._logger.debug("webSocket.send threw exception even though it was open:",e),"dropped";throw e}}var o=this;if(void 0===r&&(r=!0),this.readyState===t.OPEN&&this._resetPingTimers(),"reconnecting"!==this.readyStateMachine.state)return i();if(this._webSocket.readyState===n.OPEN)try{i()}catch(e){}return r?(this._queuedMessages.push(e),"queued"):(this._logger.debug("Dropping message during reconnection since retryAfterReconnect is false:",e),"dropped")},_.close=function(e,n){if(this.readyState===t.CLOSING)throw new Error("Can not call close on a closing ReconnectableSocket");if(this.readyState===t.CLOSED)throw new Error("Can not call close on an already closed ReconnectableSocket");this.readyStateMachine.close({code:e,reason:n})},_._resetPingTimers=function(){var e=this;this._pingWarningTimer.clear(),this._pingTimer.reset((function(){e._pingWarningTimer.reset((function(){e._logger.warn("Did not send message after needsPing event. Other side may disconnect.")})),e.emit("needsPing")}))},_._resetDisconnectTimer=function(){var e=this;this._disconnectTimer.reset((function(){return e.readyStateMachine.disconnect({code:g,reason:"No activity"})}))},_._clearTimers=function(){[this._disconnectTimer,this._connectTimer,this._pingTimer,this._pingWarningTimer].forEach((function(e){return e.clear()}))},t}(t);return(0,d.default)(e,"CONNECTING",n.CONNECTING),(0,d.default)(e,"OPEN",n.OPEN),(0,d.default)(e,"CLOSING",n.CLOSING),(0,d.default)(e,"CLOSED",n.CLOSED),_}},function(e,t,n){"use strict";var r=n(3),i=(t.__esModule=!0,t.default=void 0,r(n(18)));t.default=function(){function e(e){var t=e.name,n=e.logger;e=e.duration,(0,i.default)(this,"name",void 0),(0,i.default)(this,"logger",void 0),(0,i.default)(this,"duration",void 0),(0,i.default)(this,"currId",void 0),this.name=t,this.logger=n,this.duration=e}var t=e.prototype;return t.reset=function(e){var t=this,n=(this.clear(),setTimeout((function(){void 0!==t.currId&&(t.logger.spam("".concat(t.name," timer with id ").concat(t.currId," expired, entering callback")),t.currId=void 0,e())}),this.duration));this.currId=n,this.logger.spam("Started ".concat(this.name," timer with id ").concat(this.currId,", expires in ")+"".concat(this.duration,"ms"))},t.clear=function(){void 0!==this.currId&&(clearTimeout(this.currId),this.logger.spam("Cleared ".concat(this.name," timer with id ").concat(this.currId)),this.currId=void 0)},t.isRunning=function(){return void 0!==this.currId},e}()},function(e,t,n){"use strict";var r=n(3),i=(t.__esModule=!0,t.default=void 0,r(n(305))),o=r(n(695)),a=n(76),s=(0,r(n(1)).default)("ReconnectableSocketStateMachine"),c=a.codes.CLOSE_UNSUPPORTED,u=a.codes.CLOSE_UNEXPECTED_CONDITION;t.default=function(e){var t,n=e.reconnectMaxDuration,r=e.CLOSED,a=e.CLOSING;return new i.default({init:"connecting",methods:{onInvalidTransition:function(e,t,n){s.error("Invalid state transition",{transition:e,from:t,to:n})}},transitions:[{name:"open",from:["connecting","reconnecting"],to:"open"},{name:"close",from:["connecting","reconnecting","open"],to:"closing"},{name:"closed",from:"closing",to:"closed"},{name:"disconnect",from:["reconnecting","open","connecting"],to:function(e){return e=e.code,"open"!==this.state&&t||(t=(0,o.default)(n)),0<n&&!t()&&-1===[c,u].indexOf(e)&&-1===[r,a].indexOf(this.readyState)?"reconnecting":"closing"}}]})}},function(e,t,n){"use strict";e.exports=function(e){var t=!1;return setTimeout((function(){t=!0}),e),function(){return t}}},function(e,t,n){"use strict";var r=n(3),i=(t.__esModule=!0,t.default=void 0,r(n(12))),o=r(n(13)),a=r(n(106));r=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0===(r=(o=void 0===n?{}:n).BUFFER_DRAIN_INTERVAL)?100:r,o=void 0===(o=o.BUFFER_DRAIN_MAX_RETRIES)?10:o,s=0;case 2:if(!(s<o)){e.next=10;break}if(0===t.bufferedAmount)return e.abrupt("break",10);e.next=5;break;case 5:return e.next=7,(0,a.default)(r);case 7:s+=1,e.next=2;break;case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.default=r},function(e,t,n){"use strict";var r=n(108),i=n(3),o=(t.__esModule=!0,t.default=void 0,i(n(156))),a=i(n(45)),s=i(n(59)),c=i(n(18)),u=i(n(19)),d=i(n(313)),l=i(n(698)),f=r(n(171)),p=i(n(701)),h=n(76);t.default=function(e){var t=e.EventEmitter,n=e.ReconnectableSocket,r=e.logging,i=e.allocateId;return t=e=function(e){function t(t){var a=t.messagingURL,s=t.notifyDisconnectAddress,f=t.connectionId,v=t.enableReconnection,m=void 0===(m=t.pingThreshold)?2e3:m,g=void 0===(g=t.disconnectThreshold)?(v?3:25)*m-100:g,b=void 0===(t=t.reconnectMaxDuration)?v?6e4:0:t,y=e.call(this)||this;(0,c.default)((0,o.default)(y),"url",void 0),(0,c.default)((0,o.default)(y),"id",void 0),(0,c.default)((0,o.default)(y),"_opened",!1),(0,c.default)((0,o.default)(y),"_socket",void 0),(0,c.default)((0,o.default)(y),"_reconnectAttempts",0),(0,c.default)((0,o.default)(y),"_socketID",(0,u.default)()),(0,c.default)((0,o.default)(y),"_receivedTransactionIDs",[]),(0,c.default)((0,o.default)(y),"_notifyDisconnectAddress",void 0),(0,c.default)((0,o.default)(y),"_enableReconnection",void 0),(0,c.default)((0,o.default)(y),"_pendingMessages",[]),(0,c.default)((0,o.default)(y),"_logger",r("RumorSocket:".concat(i()))),(0,d.default)({logger:y._logger,obj:(0,o.default)(y),eventNames:["open","message","error","reconnecting","reconnectAttempt","reconnectFailure","reconnected","close"]}),y.url=a,y.id=f,y._notifyDisconnectAddress=s,y._enableReconnection=v,y.on("error",(function(e){y._logger.error(e.message)}));try{y._socket=new n({url:function(){return y._enableReconnection?[y.url,0<=y.url.indexOf("?")?"&":"?","socketId=".concat(y._socketID),y._socket&&y._socket.reconnecting?"&reconnect=true":"","&attempt=".concat((0,u.default)())].join(""):y.url},pingThreshold:m,disconnectThreshold:g,reconnectMaxDuration:b})}catch(t){y._logger.error(t),y.emit("error",new p.default(h.codes.CLOSE_CONNECT_EXCEPTION))}function _(){y._opened=!0,y._socket.send(l.default.Connect(y.id,s).serialize()),y.emit("open",y.id)}return y._socket.once("open",_),y._socket.on("message",(function(e){return y._receiveMessage(e)})),y._socket.once("close",(function(e){y._logger.debug("ReconnectableSocket closed (code: ".concat(e.code,")")),y._clearPendingMessages(),-1===[h.codes.CLOSE_NORMAL,h.codes.CLOSE_GOING_AWAY,h.codes.CLOSE_TIMEOUT].indexOf(e.code)&&y.emit("error",new p.default(e.code,e.reason||e.message)),y.emit("close",e)})),y._socket.on("error",(function(e){return e=e.code,y.emit("error",new p.default(e))})),y._socket.on("needsPing",(function(){y._socket.send(l.default.Ping().serialize())})),y._socket.on("reconnecting",(function(){y._opened&&(y._clearPendingMessagesWhichShouldntRetry(),y.emit("reconnecting"),y._reconnectAttempts=0)})),y._socket.on("reconnectAttempt",(function(){y._opened&&(y._reconnectAttempts+=1,y._socket.send(l.default.Disconnect("1").serialize(),!1),y.emit("reconnectAttempt"))})),y._socket.on("reconnected",(function(){y._opened?(y._pendingMessages.forEach((function(e){y._socket.send(e.rumorMessage.serialize())})),y.emit("reconnected")):_()})),y._socket.on("reconnectFailure",(function(){y._opened&&(y._logger.debug("Reconnecting failed as connectivity was not restored within "+"".concat(b,"ms")),y.emit("reconnectFailure",new p.default))})),y}(0,s.default)(t,e),(0,a.default)(t,[{key:"readyState",get:function(){return this._socket?this._socket.readyState:n.CONNECTING}},{key:"reconnecting",get:function(){return this._opened&&this._socket&&this._socket.reconnecting}}]);var v=t.prototype;return v._clearPendingMessagesWhichShouldntRetry=function(){var e=this._pendingMessages.filter((function(e){return!e.retryAfterReconnect}));this._pendingMessages=this._pendingMessages.filter((function(e){return e.retryAfterReconnect})),e.forEach((function(e){var t=new Error("Not connected.");t.code=500,e.completion(t)}))},v._clearPendingMessages=function(){this._pendingMessages.forEach((function(e){var t=new Error("Not connected.");t.code=500,e.completion(t)})),this._pendingMessages=[]},v._sendAck=function(e){this._socket.send(l.default.Status([e.fromAddress],{"TRANSACTION-ID":e.headers["TRANSACTION-ID"],"X-TB-FROM-ADDRESS":this.id}).serialize())},v._receiveMessage=function(e){var t=this,n=l.default.deserialize(e.data);if(n.type!==f.PONG){if(this._logger.debug("Received:",n),n.transactionId&&(this._pendingMessages=this._pendingMessages.filter((function(e){return e.rumorMessage.transactionId===n.transactionId&&(t._logger.debug("Marking",n.transactionId," as received"),e.completion(void 0,n)),e.rumorMessage.transactionId!==n.transactionId}))),n.transactionId&&n.type!==f.STATUS){if(this._sendAck(n),0<=this._receivedTransactionIDs.indexOf(n.transactionId))return;this._receivedTransactionIDs.push(n.transactionId)}this.emit("message",n)}},v.publish=function(e,t,n,r,i){if(void 0===i&&(i=function(){}),e=l.default.Publish(e,t,n),"dropped"===this._socket.send(e.serialize(),!1)&&!r)return(t=new Error("Not connected.")).code=500,void i(t);this._pendingMessages.push({rumorMessage:e,retryAfterReconnect:r,completion:i})},v.subscribe=function(e){this._socket.send(l.default.Subscribe(e).serialize())},v.unsubscribe=function(e){this._socket.send(l.default.Unsubscribe(e).serialize())},v.disconnect=function(){var e;this.readyState===t.OPEN&&this._socket.send(l.default.Disconnect().serialize()),this._socket.readyState!==n.CLOSED&&this._socket.readyState!==n.CLOSING&&(e=h.codes.CLOSE_NORMAL,this._socket.close(e,h.messages[e]))},v.status=function(e,t){this._socket.send(l.default.Status(e,{"TRANSACTION-ID":t,"X-TB-FROM-ADDRESS":this.id}).serialize())},v.reconnectRetriesCount=function(){return this._reconnectAttempts},v.messageQueueSize=function(){return this._pendingMessages.length},(0,a.default)(t,[{key:"socketID",get:function(){return this._socketID}}]),t}(t),(0,c.default)(e,"CONNECTING",n.CONNECTING),(0,c.default)(e,"OPEN",n.OPEN),(0,c.default)(e,"CLOSING",n.CLOSING),(0,c.default)(e,"CLOSED",n.CLOSED),t}},function(e,t,n){"use strict";var r=n(108),i=n(3),o=(t.__esModule=!0,t.default=void 0,i(n(18))),a=i(n(19)),s=n(699),c=r(n(171));t.default=function(){function e(e,t,n,r){(0,o.default)(this,"type",void 0),(0,o.default)(this,"toAddress",void 0),(0,o.default)(this,"headers",void 0),(0,o.default)(this,"data",void 0),this.type=e,this.toAddress=t,this.headers=n,this.data=r,this.fromAddress=this.headers["X-TB-FROM-ADDRESS"],this.transactionId=this.headers["TRANSACTION-ID"],this.status=this.headers.STATUS,this.isError=this.status&&"2"!==this.status[0]}return e.prototype.serialize=function(){var e,t,n,r,i,o=8,a=7,c=[],u=[],d=[];for(a++,n=0;n<this.toAddress.length;n++)c.push(new s.TextEncoder("utf-8").encode(this.toAddress[n])),a=(a+=2)+c[n].length;for(i in a++,n=0,this.headers)this.headers.hasOwnProperty(i)&&(u.push(new s.TextEncoder("utf-8").encode(i)),d.push(new s.TextEncoder("utf-8").encode(this.headers[i])),a=(a=(a+=4)+u[n].length)+d[n].length,n++);a+=(t=new s.TextEncoder("utf-8").encode(this.data)).length;var l=new ArrayBuffer(a),f=new Uint8Array(l,0,a);for(f[0]=(4278190080&(a-=4))>>>24,f[1]=(16711680&a)>>>16,f[2]=(65280&a)>>>8,f[3]=(255&a)>>>0,f[4]=0,f[5]=0,f[6]=this.type,f[7]=this.toAddress.length,n=0;n<c.length;n++)for(e=c[n],f[o++]=e.length>>8&255,f[o++]=e.length>>0&255,r=0;r<e.length;r++)f[o++]=e[r];for(f[o++]=u.length,n=0;n<u.length;n++){for(e=u[n],f[o++]=e.length>>8&255,f[o++]=e.length>>0&255,r=0;r<e.length;r++)f[o++]=e[r];for(e=d[n],f[o++]=e.length>>8&255,f[o++]=e.length>>0&255,r=0;r<e.length;r++)f[o++]=e[r]}for(n=0;n<t.length;n++)f[o++]=t[n];return l},e.deserialize=function(t){(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).Buffer&&(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).Buffer.isBuffer(t)&&(t=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;++r)n[r]=e[r];return t}(t));for(var n,r,i,o,a,c,u=8,d=new Uint8Array(t),l=d[6],f=[],p=0;p<d[7];p++)c=d[u++]<<8,c+=d[u++],n=new Uint8Array(t,u,c),f[p]=new s.TextDecoder("utf-8").decode(n),u+=c;for(r=d[u++],i={},p=0;p<r;p++)c=d[u++]<<8,c+=d[u++],n=new Uint8Array(t,u,c),o=new s.TextDecoder("utf-8").decode(n),u+=c,c=d[u++]<<8,c+=d[u++],n=new Uint8Array(t,u,c),a=new s.TextDecoder("utf-8").decode(n),i[o]=a,u+=c;var h=new Uint8Array(t,u);return new e(l,f,i,new s.TextDecoder("utf-8").decode(h))},e.Connect=function(t,n){return t={uniqueId:t,"TRANSACTION-ID":(0,a.default)(),notifyDisconnectAddress:n},new e(c.CONNECT,[],t,"")},e.Disconnect=function(t){return new e(c.DISCONNECT,[],{reconnect:t},"")},e.Subscribe=function(t){return new e(c.SUBSCRIBE,t,{},"")},e.Unsubscribe=function(t){return new e(c.UNSUBSCRIBE,t,{},"")},e.Publish=function(t,n,r){return new e(c.MESSAGE,t,r||{},n||"")},e.Status=function(t,n){return new e(c.STATUS,t,n||{},"")},e.Ping=function(){return new e(c.PING,[],{},"")},e}()},function(e,t,n){"use strict";var r=n(108);t.__esModule=!0,t.TextDecoder=t.TextEncoder=void 0,r=r(n(700)),n=(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).TextEncoder||r.TextEncoder,t.TextEncoder=n,n=(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).TextDecoder||r.TextDecoder,t.TextDecoder=n},function(e,t,n){"use strict";function r(e,t,n){return t<=e&&e<=n}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function o(e){this.tokens=[].slice.call(e)}function a(e,t){if(e)throw TypeError("Decoder error");return t||65533}n.r(t),n.d(t,"TextEncoder",(function(){return u})),n.d(t,"TextDecoder",(function(){return c})),o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var s="utf-8";function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():s)!==s)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():s)!==s)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function d(e){var t=e.fatal,n=0,i=0,o=0,s=128,c=191;this.handler=function(e,u){if(-1===u&&0!==o)return o=0,a(t);if(-1===u)return-1;if(0===o){if(r(u,0,127))return u;if(r(u,194,223))o=1,n=u-192;else if(r(u,224,239))224===u&&(s=160),237===u&&(c=159),o=2,n=u-224;else{if(!r(u,240,244))return a(t);240===u&&(s=144),244===u&&(c=143),o=3,n=u-240}return n<<=6*o,null}return r(u,s,c)?(c=191,n+=u-(s=128)<<6*(o-(i+=1)),i!==o?null:(e=n,n=o=i=0,e)):(n=o=i=0,s=128,c=191,e.prepend(u),a(t))}}function l(e){e.fatal,this.handler=function(e,t){if(-1===t)return-1;if(r(t,0,127))return t;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var n,i,o=[(t>>6*n)+i];0<n;)o.push(128|63&t>>6*(n-1)),--n;return o}}c.prototype={decode:function(e,t){e="object"===_typeof(e)&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===_typeof(e)&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new d({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var n,r=new o(e),a=[];!r.endOfStream()&&-1!==(n=this._decoder.handler(r,r.read()));)null!==n&&(Array.isArray(n)?a.push.apply(a,n):a.push(n));if(!this._streaming){for(;-1!==(n=this._decoder.handler(r,r.read()))&&(null!==n&&(Array.isArray(n)?a.push.apply(a,n):a.push(n)),!r.endOfStream()););this._decoder=null}!a.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===a[0]?(this._BOMseen=!0,a.shift()):this._BOMseen=!0);for(var s=a,c="",u=0;u<s.length;++u){var l=s[u];l<=65535?c+=String.fromCharCode(l):(l-=65536,c+=String.fromCharCode(55296+(l>>10),56320+(1023&l)))}return c}},u.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new l(this._options)),this._streaming=Boolean(t.stream);for(var n,r=[],a=new o(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var o,a=t.charCodeAt(r);a<55296||57343<a?i.push(a):56320<=a&&a<=57343?i.push(65533):55296<=a&&a<=56319&&(r!==n-1&&56320<=(o=e.charCodeAt(r+1))&&o<=57343?(i.push(65536+((1023&a)<<10)+(1023&o)),r+=1):i.push(65533)),r+=1}return i}(e));!a.endOfStream()&&-1!==(n=this._encoder.handler(a,a.read()));)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;-1!==(n=this._encoder.handler(a,a.read()));)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}}},function(e,t,n){"use strict";var r=n(108),i=n(3),o=(t.__esModule=!0,t.default=void 0,i(n(18))),a=r(n(76));t.default=function(e,t){void 0===e&&(e=a.codes.CLOSE_FALLBACK_CODE),void 0===t&&(t=a.messages[e]||"No message available from code."),(0,o.default)(this,"code",void 0),(0,o.default)(this,"message",void 0),this.code=e,this.message=t}},function(e,t,n){"use strict";var r=n(3);t.__esModule=!0,t.default=void 0,r=r(n(703)),n=(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).WebSocket?(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global).WebSocket:r.default,t.default=n},function(e,t,n){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(e,t,n){"use strict";var r=n(705);e.exports=function(e){var t=r(e.data);return t.transactionId=e.transactionId,t.fromAddress=e.headers["X-TB-FROM-ADDRESS"],t}},function(e,t,n){"use strict";e.exports=function(e){if(0===e.length)return{};var t=JSON.parse(e),n=t.uri.substr(1).split("/");n.shift(),""===n[n.length-1]&&n.pop(),t.params={};for(var r=0,i=n.length;r<i-1;r+=2)t.params[n[r]]=n[r+1];return n.length%2==0?"channel"===n[n.length-2]&&6<n.length?t.resource="".concat(n[n.length-4],"_").concat(n[n.length-2]):t.resource=n[n.length-2]:"channel"===n[n.length-1]&&5<n.length?t.resource="".concat(n[n.length-3],"_").concat(n[n.length-1]):t.resource=n[n.length-1],t.signature="".concat(t.resource,"#").concat(t.method),t}},function(e,t,n){"use strict";var r=n(2).name,i=n(60).once;e.exports=function(){return i()&&-1<["Chrome","Firefox","Safari"].indexOf(r)}},function(e,t,n){"use strict";var r=n(2),i=n(60).once;e.exports=function(){return i()&&("Chrome"===r.name||"Firefox"===r.name||"Node"===r.name||"Safari"===r.name||"Edge"===r.name)}},function(e,t,n){"use strict";var r=n(60).once;e.exports=function(){return r()}},function(e,t,n){"use strict";e.exports="DTLS_SRTP"},function(e,t,n){"use strict";e.exports=function(e){return{supportsWebRTC:"true"===(e=e.supportsWebRTC)||!0===e}}},function(e,t,n){"use strict";e.exports=function(e,t){this.code=e,this.message=t,this.reason=t}},function(e,t,n){"use strict";e.exports=function(e){var t=[];this.enqueue=function(){t.push(Array.prototype.slice.call(arguments))},this.triggerAll=function(){for(var n;n=t.shift();)e.trigger.apply(e,_toConsumableArray(n))}}},function(e,t,n){"use strict";var r=n(3)(n(25)),i=n(206),o=n(239),a=n(56),s=n(7),c=n(141),u=n(8),d=n(714),l=n(715),f=n(289).default,p={EMPTY_RESPONSE:"Response body was empty, probably due to connectivity loss",BADLY_FORMED:"Unknown error: JSON response was badly formed",NO_ERROR:"No error message",UNEXPECTED_SERVER_RESPONSE:function(e){return"Unexpected server response (".concat(e,"). Try this operation again later.")}},h=[0,600,1200];e.exports=function(e){var t=(e=void 0===e?{}:e).axios,n=void 0===t?i:t,v=void 0===(t=e.retryDelays)?h:t;return f((function(e){var t=e.anvilUrl,i=e.sessionId,f=e.token,h=e.clientVersion;return e=e.connectionId,t=o.parse(t,!0),i=o.format({protocol:t.protocol,auth:t.auth,host:t.host,pathname:o.resolve((t.pathname||"").replace(/\/?$/,"/"),"session/".concat(i)),query:(0,r.default)({},t.query,{extended:!0})}),n.get(i,{validateStatus:function(e){return 200<=e&&e<300},headers:{"X-OPENTOK-AUTH":f,"X-TB-VERSION":1,"X-TB-CLIENT-VERSION":h,"X-TB-CONNECTIONID":e,Accept:"application/json"}}).catch((function(e){var t,n;throw e.response?((t=new Error(p.UNEXPECTED_SERVER_RESPONSE("".concat(e.response.statusCode).concat(e.response.status?" ".concat(e.response.status):"")))).code=u.ANVIL_INVALID_HTTP_STATUS,t.name=d(t.code),t):e.request?((t=new Error(p.CONNECT_FAILED)).code=u.ANVIL_CONNECT_FAILED,t.name=d(t.code),t):(t=u.ANVIL_UNKNOWN_HTTP_ERROR,n=d(e.code),s(e,{code:t,name:n}),e)})).then((function(e){if("string"==typeof(e=e.data)){if(0<e.length)try{JSON.parse(e)}catch(e){throw e.message=p.UNEXPECTED_SERVER_RESPONSE(e.toString()),e.code=u.ANVIL_XDOMAIN_OR_PARSING_ERROR,e.name=d(e.code),e}throw(n=new Error(0===e.length?p.EMPTY_RESPONSE:p.BADLY_FORMED)).code=0===e.length?u.ANVIL_EMPTY_RESPONSE_BODY:u.ANVIL_BADLY_FORMED_RESPONSE,n.name=d(n.code),n}if(null===e||0===e.length)throw(n=new Error(p.EMPTY_RESPONSE)).code=u.ANVIL_EMPTY_RESPONSE_BODY,n.name=d(n.code),n;var t,n;if(n=e.filter((function(e){return null!=e.error}))[0])throw t=l(a(n,"error.code","500")),"Invalid token format"===a(n,"error.errorMessage.message")&&(n.error.errorMessage.message+=" Token: ".concat(f)),(n=new Error(a(n,"error.errorMessage.message",void 0===t?"Unknown error: ".concat(n.error.code):p.NO_ERROR))).code=t||u.ANVIL_UNEXPECTED_ERROR_CODE,n.name=d(n.code),n;return new c(e[0])}))}),(function(e,t){return e.code&&3e3<=e.code&&e.code<=3007&&v[t]}))}},function(e,t,n){"use strict";var r,i=n(8),o=(n=n(4),_defineProperty3(r={},i.ANVIL_BADLY_FORMED_RESPONSE,n.BADLY_FORMED_RESPONSE),_defineProperty3(r,i.ANVIL_INVALID_HTTP_STATUS,n.INVALID_HTTP_STATUS),_defineProperty3(r,i.ANVIL_XDOMAIN_OR_PARSING_ERROR,n.XDOMAIN_OR_PARSING_ERROR),_defineProperty3(r,i.ANVIL_UNKNOWN_HTTP_ERROR,n.UNKNOWN_HTTP_ERROR),_defineProperty3(r,i.ANVIL_UNEXPECTED_ERROR_CODE,n.UNEXPECTED_ERROR_CODE),_defineProperty3(r,i.ANVIL_EMPTY_RESPONSE_BODY,n.EMPTY_RESPONSE_BODY),_defineProperty3(r,i.ANVIL_CONNECT_FAILED,n.CONNECT_FAILED),_defineProperty3(r,i.AUTHENTICATION_ERROR,n.AUTHENTICATION_ERROR),_defineProperty3(r,i.INVALID_SESSION_ID,n.INVALID_SESSION_ID),_defineProperty3(r,i.TERMS_OF_SERVICE_FAILURE,n.TERMS_OF_SERVICE_FAILURE),_defineProperty3(r,i.UNEXPECTED_SERVER_RESPONSE,n.UNEXPECTED_SERVER_RESPONSE),r);e.exports=function(e){return o[e]}},function(e,t,n){"use strict";var r={400:(n=n(8)).INVALID_SESSION_ID,403:n.AUTHENTICATION_ERROR,404:n.INVALID_SESSION_ID,409:n.TERMS_OF_SERVICE_FAILURE,500:n.UNEXPECTED_SERVER_RESPONSE};e.exports=function(e){return r[e]}},function(e,t,n){"use strict";e.exports=function(e){var t=(e=void 0===e?{}:e).Session||n(309)(),r=e.sessionObjects||n(20);return function(e,n,i){null==n&&(n=e,e=null),Array.isArray(n)&&1===n.length&&(n=n[0]);var o=r.sessions.get(n);return o||(o=new t(e,n,i),r.sessions.add(o)),o}}},function(e,t,n){"use strict";var r=n(3),i=r(n(12)),o=r(n(13)),a=n(718),s=n(273),c=n(2),u=n(4),d=n(8),l=n(11)(),f=n(50),p=n(73),h=n(142)(void 0!==("undefined"==typeof window?"undefined":_typeof(window))?window:global);function v(e){return s(a(e,["AV1X","AV1","VP9","rtx","red","ulpfec","H265","X-H264UC","x-ulpfecuc"]))}r=function(){var e=(0,o.default)(i.default.mark((function e(){var t,n,r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"==typeof window)return e.abrupt("return",{videoEncoders:[],videoDecoders:[]});e.next=2;break;case 2:if(t=h.RTCPeerConnection,window.RTCRtpSender&&"getCapabilities"in window.RTCRtpSender)return n=v(n=window.RTCRtpSender.getCapabilities("video").codecs.map((function(e){return e.mimeType||e.name})).map((function(e){return e.replace("video/","")}))),e.abrupt("return",{videoEncoders:n,videoDecoders:n});e.next=7;break;case 7:if("Chrome"!==c.name||"captureStream"in window.HTMLCanvasElement.prototype){e.next=9;break}return e.abrupt("return",{videoEncoders:["VP8"],videoDecoders:["VP8"]});case 9:if(c.isLegacyEdge)return e.abrupt("return",{videoEncoders:["H264","VP8"],videoDecoders:["H264","VP8"]});e.next=11;break;case 11:return(o=window.document.createElement("canvas")).getContext("2d"),o=o.captureStream(),e.prev=14,r={iceServers:[]},p()&&(r.sdpSemantics="plan-b"),(r=new t(r)).addTrack?r.addTrack(o.getVideoTracks()[0],o):r.addStream&&r.addStream(o),e.next=21,r.createOffer();case 21:return o=e.sent,n=v(n=f.getCodecs(o.sdp,"video")||[]),e.abrupt("return",{videoEncoders:n,videoDecoders:n});case 27:throw e.prev=27,e.t0=e.catch(14),l(u.UNABLE_TO_ACCESS_MEDIA_ENGINE,new Error("OT.getSupportedCodecs was not able to get the list of supported codecs"),d.UNABLE_TO_ACCESS_MEDIA_ENGINE);case 30:return e.prev=30,r.close(),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[14,27,30,33]])})));return function(){return e.apply(this,arguments)}}(),e.exports=r},function(e,t,n){var r=n(719),i=n(237),o=n(87),a=n(129);n=o((function(e,t){return a(e)?r(e,i(t,1,a,!0)):[]})),e.exports=n},function(e,t,n){var r=n(92),i=n(93),o=n(128),a=n(33),s=n(67),c=n(94);e.exports=function(e,t,n,u){var d=-1,l=i,f=!0,p=e.length,h=[],v=t.length;if(!p)return h;n&&(t=a(t,s(n))),u?(l=o,f=!1):200<=t.length&&(l=c,f=!1,t=new r(t));e:for(;++d<p;){var m=e[d],g=null==n?m:n(m);if(m=u||0!==m?m:0,f&&g==g){for(var b=v;b--;)if(t[b]===g)continue e;h.push(m)}else l(t,g,u)||h.push(m)}return h}},function(e,t,n){"use strict";var r=n(23)().getInputMediaDevices;e.exports=function(e){r().then((function(t){return e(void 0,t)}),e)}},function(e,t,n){"use strict";var r=n(3),i=r(n(12)),o=r(n(13));e.exports=function(e){var t=(e=void 0===e?{}:e).deviceHelpers||n(23)(),r=t.hasAudioOutputApiSupport,a=t.hasDevice,s=e.getAudioOutputDevices||n(320),c=e.updateSubscribersSinkId||n(322),u=n(11)(),d=n(4);return function(){var e=(0,o.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r()){e.next=2;break}throw u(d.UNSUPPORTED_BROWSER,new Error("setAudioOutputDevice is not supported in your browser."));case 2:return e.next=4,s();case 4:if(n=e.sent,a(n,t)){e.next=8;break}throw u(d.INVALID_AUDIO_OUTPUT_SOURCE,new Error("The requested device is not valid."));case 8:return e.prev=8,e.next=11,c(t);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(8),u(d.REQUESTED_DEVICE_PERMISSION_DENIED,new Error("No permission to use the requested device."));case 16:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict";var r,i=(r=n(3))(n(12)),o=r(n(13)),a=n(723)(),s=(r=n(23)()).hasAudioOutputApiSupport,c=r.getNativeMediaDevices;e.exports=function(){var e,t;s()&&(e=c(),t=!1,e.addEventListener("devicechange",(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t)return e.abrupt("return");e.next=2;break;case 2:return t=!0,e.next=5,a();case 5:t=!1;case 6:case"end":return e.stop()}}),e)})))))}},function(e,t,n){"use strict";var r=n(3),i=r(n(12)),o=r(n(13));e.exports=function(e){var t,r=(t=(e=void 0===e?{}:e).deviceHelpers||n(23)()).getAudioOutputMediaDevices,a=t.getDefaultAudioOutputDeviceId,s=t.hasDevice,c=(t=e.currentAudioOutputDevice||n(105)).getCurrentAudioOutputDeviceId,u=t.setCurrentAudioOutputDeviceId,d=e.updateSubscribersSinkId||n(322),l=e.logging||n(1)("currentAudioOutputDevice");return function(){var e=(0,o.default)(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:if(0===(t=e.sent).length)return u(""),e.abrupt("return");e.next=6;break;case 6:if(s(t,c()))return e.abrupt("return");e.next=9;break;case 9:return n=a(t),u(n),e.prev=11,e.next=14,d(n);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),l.debug("Failed to set the default audio output device.",e.t0);case 19:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict";var r=n(27);e.exports=function(e){var t=(e=void 0===e?{}:e).env||n(2);(e=e.analytics||new r).logEvent({action:"UserAgentParsing",variation:"Attempt",payload:{userAgent:t.userAgent}}),e.logEvent({action:"UserAgentParsing",variation:t.error?"Failure":"Success",payload:{userAgent:t.userAgent}})}}])},"object"===_typeof(exports)&&"object"===_typeof(module)?module.exports=e():(__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=e)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this,__webpack_require__(15),__webpack_require__(5),__webpack_require__(69)(module))},function(e,t,n){"use strict";(function(e){var r=n(8),i=n.n(r),o=(r=n(30),n.n(r)),a=(r=n(31),n.n(r)),s=n(16),c=n(7),u=function(t,n,r,i){return new(r=r||e)((function(e,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(a,s)}c((i=i.apply(t,n||[])).next())}))},d=function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(s){c=[6,s],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},l=(t.a=function(e,t){return void 0===t&&(t=3e4),u(void 0,void 0,void 0,(function(){var n,r,f,p,h,v,m,g=this;return d(this,(function(b){switch(b.label){case 0:return n=!1,r=i()(),f=function(e){r.emit("message",e.data)},p=null,h=function(){p&&(p.onclose=null,p.onerror=null,p.close(),p=null)},v=o()((function(){return u(g,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return h(),[4,l(e,f)];case 1:return(p=t.sent()).onclose=function(e){Object(c.a)("Websocket Closed With Status Code "+e.code),m(!0)},p.onerror=function(e){r.emit("error",e),m()},r.emit("connect",p),[2]}}))}))})),m=function(e,i){return void 0===e&&(e=!1),void 0===i&&(i=Object(s.a)(2500,t)),u(g,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:if(n)return[2];t.label=1;case 1:return t.trys.push([1,5,,6]),e?[4,a()(i())]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,v()];case 4:return t.sent(),[3,6];case 5:return t.sent(),[2,m(!0,i)];case 6:return r.emit("reconnect"),[2]}}))}))},[4,v()];case 1:return b.sent(),[2,{transmit:function(e){p?p.send(e):r.once("connect",(function(t){return t.send(e)}))},close:function(){n=!0,r.removeAllListeners(),v.cancel(),h()},onMessage:function(e){return r.on("message",e)},onError:function(e){return r.on("error",e)},onReconnect:function(e){return r.on("reconnect",e)}}]}}))}))},function(t,n){return new e((function(e,r){var i=new WebSocket(t);i.onopen=function(){i.onopen=null,i.onclose=null,i.onerror=null,e(i)},i.onmessage=n,i.onerror=function(e){return r(e)},i.onclose=function(e){return r(e)}}))})}).call(this,n(2))},function(e,t,n){"use strict";(function(t){function n(){}function r(e){return e}var i=new t((function(){}));e.exports=function(e){var o=!1,a=null,s=n;function c(){function c(){var e=arguments.length<=0||void 0===arguments[0]?r:arguments[0];return function(t){var n=l();return u(),n?i:e(t)}}var u,d,l;return o||(d=!(o=!0),s=u=function(){d||(o=!(d=!0),a=null,s=n)},a=e({isCancelled:l=function(){return d}}).then(c()).catch(c((function(e){return t.reject(e)})))),a}return c.isCurrentlyGetting=function(){return o},c.cancel=function(){return s()},c}}).call(this,n(2))},function(e,t,n){"use strict";(function(t){function n(){var e=new Error("Delay aborted");return e.name="AbortError",e}function r(e){var r=e.clearTimeout,i=e.setTimeout,o=e.willResolve;return function(e){var a,s,c,u=(p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).value,d=p.signal;if(d&&d.aborted)return t.reject(n());var l=r||clearTimeout,f=function(){l(a),c(n())},p=new t((function(t,n){s=function(){d&&d.removeEventListener("abort",f),(o?t:n)(u)},c=n,a=(i||setTimeout)(s,e)}));return d&&d.addEventListener("abort",f,{once:!0}),p.clear=function(){l(a),a=null,s()},p}}var i=r({willResolve:!0});i.reject=r({willResolve:!1}),i.range=function(e,t,n){return i((e=e,t=t,Math.floor(Math.random()*(t-e+1)+e)),n)},i.createWithTimers=function(e){var t=e.clearTimeout,n=r({clearTimeout:t,setTimeout:e=e.setTimeout,willResolve:!0});return n.reject=r({clearTimeout:t,setTimeout:e,willResolve:!1}),n},e.exports=i,e.exports.default=i}).call(this,n(2))},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return c}));var i=n(33),o=n.n(i),a=n(11),s=e||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function c(e){var t=this,n=new o.a;return s({},e,{transmit:function(i,o){return void 0===o&&(o=""),function(e,t,n,i){return new(n=n||r)((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}c((i=i.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t;return function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(s){c=[6,s],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,(function(r){switch(r.label){case 0:return[4,n.add((function(){return Object(a.a)(Object(a.b)(i,o))}))];case 1:return t=r.sent(),e.transmit(t),[2]}}))}))},onMessage:function(t){return e.onMessage((function(e){t(Object(a.c)(e,!0))}))}})}}).call(this,n(5),n(2))},function(e,t,n){"use strict";(function(t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}var s=function(){function e(){i(this,e),this._queue=[]}return a(e,[{key:"enqueue",value:function(e,n){e={priority:(n=t({priority:0},n)).priority,run:e},this.size&&this._queue[this.size-1].priority>=n.priority?this._queue.push(e):(n=function(e,t,n){for(var r=0,i=e.length;0<i;){var o=i/2|0,a=r+o;n(e[a],t)<=0?(r=++a,i-=1+o):i=o}return r}(this._queue,e,(function(e,t){return t.priority-e.priority})),this._queue.splice(n,0,e))}},{key:"dequeue",value:function(){return this._queue.shift().run}},{key:"size",get:function(){return this._queue.length}}]),e}(),c=function(){function e(n){if(i(this,e),!("number"==typeof(n=t({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:s},n)).concurrency&&1<=n.concurrency))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(n.concurrency,"` (").concat(r(n.concurrency),")"));if(!("number"==typeof n.intervalCap&&1<=n.intervalCap))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(n.intervalCap,"` (").concat(r(n.intervalCap),")"));if(!("number"==typeof n.interval&&isFinite(n.interval)&&0<=n.interval))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(n.interval,"` (").concat(r(n.interval),")"));this._carryoverConcurrencyCount=n.carryoverConcurrencyCount,this._isIntervalIgnored=n.intervalCap===1/0||0===n.interval,this._intervalCount=0,this._intervalCap=n.intervalCap,this._interval=n.interval,this._intervalId=null,this._intervalEnd=0,this._timeoutId=null,this.queue=new n.queueClass,this._queueClass=n.queueClass,this._pendingCount=0,this._concurrency=n.concurrency,this._isPaused=!1===n.autoStart,this._resolveEmpty=function(){},this._resolveIdle=function(){}}return a(e,[{key:"_next",value:function(){this._pendingCount--,this._tryToStartAnother()}},{key:"_resolvePromises",value:function(){this._resolveEmpty(),this._resolveEmpty=function(){},0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=function(){})}},{key:"_onResumeInterval",value:function(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=null}},{key:"_intervalPaused",value:function(){var e=this,t=Date.now();if(null===this._intervalId){if(!((t=this._intervalEnd-t)<0))return null===this._timeoutId&&(this._timeoutId=setTimeout((function(){return e._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}},{key:"_tryToStartAnother",value:function(){if(0===this.queue.size)return clearInterval(this._intervalId),this._intervalId=null,this._resolvePromises(),!1;if(!this._isPaused){var e=!this._intervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.queue.dequeue()(),e&&this._initializeIntervalIfNeeded(),!0}return!1}},{key:"_initializeIntervalIfNeeded",value:function(){var e=this;this._isIntervalIgnored||null!==this._intervalId||(this._intervalId=setInterval((function(){return e._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}},{key:"_onInterval",value:function(){for(0===this._intervalCount&&0===this._pendingCount&&(clearInterval(this._intervalId),this._intervalId=null),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;this._tryToStartAnother(););}},{key:"add",value:function(e,t){var r=this;return new n((function(i,o){r.queue.enqueue((function(){r._pendingCount++,r._intervalCount++;try{n.resolve(e()).then((function(e){i(e),r._next()}),(function(e){o(e),r._next()}))}catch(e){o(e),r._next()}}),t),r._tryToStartAnother()}))}},{key:"addAll",value:function(e,t){var r=this;return n.all(e.map((function(e){return r.add(e,t)})))}},{key:"start",value:function(){if(this._isPaused)for(this._isPaused=!1;this._tryToStartAnother(););}},{key:"pause",value:function(){this._isPaused=!0}},{key:"clear",value:function(){this.queue=new this._queueClass}},{key:"onEmpty",value:function(){var e=this;return 0===this.queue.size?n.resolve():new n((function(t){var n=e._resolveEmpty;e._resolveEmpty=function(){n(),t()}}))}},{key:"onIdle",value:function(){var e=this;return 0===this._pendingCount&&0===this.queue.size?n.resolve():new n((function(t){var n=e._resolveIdle;e._resolveIdle=function(){n(),t()}}))}},{key:"_doesIntervalAllowAnother",get:function(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}},{key:"_doesConcurrentAllowAnother",get:function(){return this._pendingCount<this._concurrency}},{key:"size",get:function(){return this.queue.size}},{key:"pending",get:function(){return this._pendingCount}},{key:"isPaused",get:function(){return this._isPaused}}]),e}();e.exports=c}).call(this,n(5),n(2))},function(e,t,n){var r;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r=function(){return function e(t,n,r){function i(o,a){if(!n[o]){var s;if(!t[o])throw(s=new Error("Cannot find module '"+o+"'")).code="MODULE_NOT_FOUND",s;s=n[o]={exports:{}},t[o][0].call(s.exports,(function(e){return i(t[o][1][e]||e)}),s,s.exports,e,t,n,r)}return n[o].exports}for(var o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t,n,r=Array.prototype.slice.call(arguments,1);r.length;){var o=r.shift();if(o){if("object"!==i(o))throw new TypeError(o+"must be non-object");for(var a in o)t=o,n=a,Object.prototype.hasOwnProperty.call(t,n)&&(e[a]=o[a])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){for(var t,n,r,i=0,o=0,a=e.length;o<a;o++)i+=e[o].length;for(r=new Uint8Array(i),o=t=0,a=e.length;o<a;o++)n=e[o],r.set(n,t),t+=n.length;return r}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],2:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){for(var t,n,i,o,a=e.length,s=0,c=0;c<a;c++)55296==(64512&(n=e.charCodeAt(c)))&&c+1<a&&56320==(64512&(i=e.charCodeAt(c+1)))&&(n=65536+(n-55296<<10)+(i-56320),c++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(s),c=o=0;o<s;c++)55296==(64512&(n=e.charCodeAt(c)))&&c+1<a&&56320==(64512&(i=e.charCodeAt(c+1)))&&(n=65536+(n-55296<<10)+(i-56320),c++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){for(var n,r,i=t||e.length,o=new Array(2*i),s=0,u=0;u<i;)if((n=e[u++])<128)o[s++]=n;else if(4<(r=a[n]))o[s++]=65533,u+=r-1;else{for(n&=2===r?31:3===r?15:7;1<r&&u<i;)n=n<<6|63&e[u++],r--;1<r?o[s++]=65533:n<65536?o[s++]=n:(n-=65536,o[s++]=55296|n>>10&1023,o[s++]=56320|1023&n)}return c(o,s)},n.utf8border=function(e,t){for(var n=(t=(t=t||e.length)>e.length?e.length:t)-1;0<=n&&128==(192&e[n]);)n--;return!(n<0)&&0!==n&&n+a[e[n]]>t?n:t}},{"./common":1}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(i=i+t[r++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},{}],4:[function(e,t,n){"use strict";var r=function(){for(var e=[],t=0;t<256;t++){for(var n=t,r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}();t.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],5:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),c=e("./messages"),u=-2,d=258,l=262,f=113;function p(e,t){return e.msg=c[t],t}function h(e){return(e<<1)-(4<e?9:0)}function v(e){for(var t=e.length;0<=--t;)e[t]=0}function m(e){var t=e.state,n=t.pending;0!==(n=n>e.avail_out?e.avail_out:n)&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function g(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function b(e,t){e.pending_buf[e.pending++]=t}function y(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function _(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-l?e.strstart-(e.w_size-l):0,u=e.window,f=e.w_mask,p=e.prev,h=e.strstart+d,v=u[o+a-1],m=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===m&&u[n+a-1]===v&&u[n]===u[o]&&u[++n]===u[o+1]){for(o+=2,n++;u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h;);if(r=d-(h-o),o=h-d,a<r){if(e.match_start=t,s<=(a=r))break;v=u[o+a-1],m=u[o+a]}}}while((t=p[t&f])>c&&0!=--i);return a<=e.lookahead?a:e.lookahead}function w(e){var t,n,r,o,c,u,d,f,p,h=e.w_size;do{if(f=e.window_size-e.lookahead-e.strstart,e.strstart>=h+(h-l)){for(i.arraySet(e.window,e.window,h,h,0),e.match_start-=h,e.strstart-=h,e.block_start-=h,t=n=e.hash_size;r=e.head[--t],e.head[t]=h<=r?r-h:0,--n;);for(t=n=h;r=e.prev[--t],e.prev[t]=h<=r?r-h:0,--n;);f+=h}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,d=e.strstart+e.lookahead,p=void 0,n=0===(p=(f=f)<(p=c.avail_in)?f:p)?0:(c.avail_in-=p,i.arraySet(u,c.input,c.next_in,p,d),1===c.state.wrap?c.adler=a(c.adler,u,p,d):2===c.state.wrap&&(c.adler=s(c.adler,u,p,d)),c.next_in+=p,c.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+3-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<l&&0!==e.strm.avail_in)}function E(e,t){for(var n,r;;){if(e.lookahead<l){if(w(e),e.lookahead<l&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-l&&(e.match_length=_(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function S(e,t){for(var n,r,i;;){if(e.lookahead<l){if(w(e),e.lookahead<l&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-l&&(e.match_length=_(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(g(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&g(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function C(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),v(this.dyn_ltree),v(this.dyn_dtree),v(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),v(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),v(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function O(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):p(e,u)}function x(e){var t=O(e);return 0===t&&((e=e.state).window_size=2*e.w_size,v(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t}function I(e,t,n,r,o,a){if(!e)return u;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),o<1||9<o||8!==n||r<8||15<r||t<0||9<t||a<0||4<a)return p(e,u);8===r&&(r=9);var c=new T;return(e.state=c).strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=+c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,x(e)}r=[new C(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(w(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,g(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-l&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(g(e,!1),e.strm.avail_out),1)})),new C(4,4,8,4,E),new C(4,5,16,8,E),new C(4,6,32,32,E),new C(4,4,16,16,S),new C(8,16,32,32,S),new C(8,16,128,128,S),new C(8,32,128,256,S),new C(32,128,258,1024,S),new C(32,258,258,4096,S)],n.deflateInit=function(e,t){return I(e,t,8,15,8,0)},n.deflateInit2=I,n.deflateReset=x,n.deflateResetKeep=O,n.deflateSetHeader=function(e,t){return e&&e.state&&2===e.state.wrap?(e.state.gzhead=t,0):u},n.deflate=function(e,t){var n,i,a,c;if(!e||!e.state||5<t||t<0)return e?p(e,u):u;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return p(e,0===e.avail_out?-5:u);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status&&(2===i.wrap?(e.adler=0,b(i,31),b(i,139),b(i,8),i.gzhead?(b(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),b(i,255&i.gzhead.time),b(i,i.gzhead.time>>8&255),b(i,i.gzhead.time>>16&255),b(i,i.gzhead.time>>24&255),b(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),b(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(b(i,255&i.gzhead.extra.length),b(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(b(i,0),b(i,0),b(i,0),b(i,0),b(i,0),b(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),b(i,3),i.status=f)):(l=8+(i.w_bits-8<<4)<<8,l|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(l|=32),l+=31-l%31,i.status=f,y(i,l),0!==i.strstart&&(y(i,e.adler>>>16),y(i,65535&e.adler)),e.adler=1)),69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),m(e),a=i.pending,i.pending!==i.pending_buf_size));)b(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),m(e),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}}while(c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,b(i,c),0!==c);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),m(e),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}}while(c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,b(i,c),0!==c);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&m(e),i.pending+2<=i.pending_buf_size&&(b(i,255&e.adler),b(i,e.adler>>8&255),e.adler=0,i.status=f)):i.status=f),0!==i.pending){if(m(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&h(t)<=h(n)&&4!==t)return p(e,-5);if(666===i.status&&0!==e.avail_in)return p(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var l=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(w(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=d){if(w(e),e.lookahead<=d&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){for(a=e.strstart+d;r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a;);e.match_length=d-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==l&&4!==l||(i.status=666),1===l||3===l)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===l&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(v(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),m(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(b(i,255&e.adler),b(i,e.adler>>8&255),b(i,e.adler>>16&255),b(i,e.adler>>24&255),b(i,255&e.total_in),b(i,e.total_in>>8&255),b(i,e.total_in>>16&255),b(i,e.total_in>>24&255)):(y(i,e.adler>>>16),y(i,65535&e.adler)),m(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==f&&666!==t?p(e,u):(e.state=null,t===f?p(e,-3):0):u},n.deflateSetDictionary=function(e,t){var n,r,o,s,c,d,l,f=t.length;if(!e||!e.state)return u;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return u;for(1===s&&(e.adler=a(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(v(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new i.Buf8(n.w_size),i.arraySet(l,t,f-n.w_size,n.w_size,0),t=l,f=n.w_size),l=e.avail_in,c=e.next_in,d=e.input,e.avail_in=f,e.next_in=0,e.input=t,w(n);n.lookahead>=3;){for(r=n.strstart,o=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=2,w(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=d,e.avail_in=l,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(e,t,n){"use strict";var r=e("../utils/common");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var o,a,s,c=256,u=286,d=30,l=15,f=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],p=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],m=new Array(576),g=(i(m),new Array(60)),b=(i(g),new Array(512)),y=(i(b),new Array(256)),_=(i(y),new Array(29)),w=(i(_),new Array(d));function E(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function S(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function C(e){return e<256?b[e]:b[256+(e>>>7)]}function T(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function O(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,T(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function x(e,t,n){O(e,n[2*t],n[2*t+1])}function I(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function A(e,t,n){for(var r,i=new Array(16),o=0,a=1;a<=l;a++)i[a]=o=o+n[a-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=I(i[s]++,s))}}function k(e){for(var t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function R(e){8<e.bi_valid?T(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function D(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function N(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&D(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!D(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function P(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0==r?x(e,i,t):(x(e,(o=y[i])+c+1,t),0!==(a=f[o])&&O(e,i-=_[o],a),x(e,o=C(--r),n),0!==(a=p[o])&&O(e,r-=w[o],a)),s<e.last_lit;);x(e,256,t)}function M(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;1<=n;n--)N(e,o,n);for(i=c;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],N(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,N(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1];for(var d,f,p,h,v,m=e,g=t.dyn_tree,b=t.max_code,y=t.stat_desc.static_tree,_=t.stat_desc.has_stree,w=t.stat_desc.extra_bits,E=t.stat_desc.extra_base,S=t.stat_desc.max_length,C=0,T=0;T<=l;T++)m.bl_count[T]=0;for(g[2*m.heap[m.heap_max]+1]=0,d=m.heap_max+1;d<573;d++)S<(T=g[2*g[2*(f=m.heap[d])+1]+1]+1)&&(T=S,C++),g[2*f+1]=T,b<f||(m.bl_count[T]++,h=0,E<=f&&(h=w[f-E]),v=g[2*f],m.opt_len+=v*(T+h),_&&(m.static_len+=v*(y[2*f+1]+h)));if(0!==C){do{for(T=S-1;0===m.bl_count[T];)T--}while(m.bl_count[T]--,m.bl_count[T+1]+=2,m.bl_count[S]--,0<(C-=2));for(T=S;0!==T;T--)for(f=m.bl_count[T];0!==f;)b<(p=m.heap[--d])||(g[2*p+1]!==T&&(m.opt_len+=(T-g[2*p+1])*g[2*p],g[2*p+1]=T),f--)}A(o,u,e.bl_count)}function L(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<c&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=i,u=(s=0)===a?(c=138,3):i===a?(c=6,3):(c=7,4))}function j(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<c&&i===a)){if(s<u)for(;x(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==o&&(x(e,i,e.bl_tree),s--),x(e,16,e.bl_tree),O(e,s-3,2)):s<=10?(x(e,17,e.bl_tree),O(e,s-3,3)):(x(e,18,e.bl_tree),O(e,s-11,7));o=i,u=(s=0)===a?(c=138,3):i===a?(c=6,3):(c=7,4)}}i(w);var U=!1;function F(e,t,n,i){O(e,0+(i?1:0),3),i=t,t=n,n=!0,R(e=e),n&&(T(e,t),T(e,~t)),r.arraySet(e.pending_buf,e.window,i,t,e.pending),e.pending+=t}n._tr_init=function(e){if(!U){for(var t,n,r,i=new Array(16),c=0,v=0;v<28;v++)for(_[v]=c,t=0;t<1<<f[v];t++)y[c++]=v;for(y[c-1]=v,v=r=0;v<16;v++)for(w[v]=r,t=0;t<1<<p[v];t++)b[r++]=v;for(r>>=7;v<d;v++)for(w[v]=r<<7,t=0;t<1<<p[v]-7;t++)b[256+r++]=v;for(n=0;n<=l;n++)i[n]=0;for(t=0;t<=143;)m[2*t+1]=8,t++,i[8]++;for(;t<=255;)m[2*t+1]=9,t++,i[9]++;for(;t<=279;)m[2*t+1]=7,t++,i[7]++;for(;t<=287;)m[2*t+1]=8,t++,i[8]++;for(A(m,287,i),t=0;t<d;t++)g[2*t+1]=5,g[2*t]=I(t,5);o=new E(m,f,257,u,l),a=new E(g,p,0,d,l),s=new E(new Array(0),h,0,19,7),U=!0}e.l_desc=new S(e.dyn_ltree,o),e.d_desc=new S(e.dyn_dtree,a),e.bl_desc=new S(e.bl_tree,s),e.bi_buf=0,e.bi_valid=0,k(e)},n._tr_stored_block=F,n._tr_flush_block=function(e,t,n,r){var i,o,a=0;if(0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){for(var t=4093624447,n=0;n<=31;n++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*n])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(n=32;n<c;n++)if(0!==e.dyn_ltree[2*n])return 1;return 0}(e)),M(e,e.l_desc),M(e,e.d_desc),a=function(e){var t;for(L(e,e.dyn_ltree,e.l_desc.max_code),L(e,e.dyn_dtree,e.d_desc.max_code),M(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*v[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t)F(e,t,n,r);else if(4===e.strategy||o===i)O(e,2+(r?1:0),3),P(e,m,g);else{O(e,4+(r?1:0),3);var s,u=e,d=(t=e.l_desc.max_code+1,n=e.d_desc.max_code+1,a+1);for(O(u,t-257,5),O(u,n-1,5),O(u,d-4,4),s=0;s<d;s++)O(u,u.bl_tree[2*v[s]+1],3);j(u,u.dyn_ltree,t-1),j(u,u.dyn_dtree,n-1),P(e,e.dyn_ltree,e.dyn_dtree)}k(e),r&&R(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(y[n]+c+1)]++,e.dyn_dtree[2*C(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){O(e,2,3),x(e,256,m),16===(e=e).bi_valid?(T(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":1}],8:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),c=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);if(this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{}),(e=this.options).raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,(this.strm.avail_out=0)!==(t=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy)))throw new Error(a[t]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var t;e="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary;if(0!==(t=r.deflateSetDictionary(this.strm,e)))throw new Error(a[t]);this._dict_set=!0}}function d(e,t){if((t=new u(t)).push(e,!0),t.err)throw t.msg||a[t.err];return t.result}u.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),!(this.ended=!0)}while(0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out))),(0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),!(s.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=u,n.deflate=d,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,d(e,t)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")},"object"===i(t)&&void 0!==e?e.exports=r():void 0!==(t="function"==typeof(r=r)?r.apply(t,[]):r)&&(e.exports=t)},function(e,t,n){"use strict";(function(e,r){var i=n(8),o=n.n(i),a=(i=n(36),n.n(i)),s=n(11),c=e||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u=(t.a=function(e){var t=o()(),n=u();return e.onMessage((function(e){var r;"promiseResponse"===e.action?(r=e.payload,n.resolve(r)):t.emit("message",e)})),c({},e,{transmitAndRespond:function(t,i){return function(e,t,n,i){return new(n=n||r)((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var r,o;return function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(s){c=[6,s],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,(function(a){return o=n.create(),r=o.id,o=o.promise,e.transmit("promiseRequest",{id:r,body:Object(s.b)(t,i)}),[2,o]}))}))},onMessage:function(e){return t.on("message",e)}})},function(){var e={};return{create:function(){var t=Math.random().toString(),n=a()();return{id:t,promise:(e[t]=n).promise}},resolve:function(t){e.hasOwnProperty(t)&&(e[t].resolve(),delete e[t])}}})}).call(this,n(5),n(2))},function(e,t,n){"use strict";(function(t){e.exports=function(){var e={};return e.promise=new t((function(t,n){e.resolve=t,e.reject=n})),e}}).call(this,n(2))},function(e,t,n){"use strict";(function(e){var r=n(16);t.a=function(t){var n=Object(r.a)();return new e((function(r){!function i(){return function(t,n,r,i){return new(r=r||e)((function(e,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(a,s)}c((i=i.apply(t,n||[])).next())}))}(void 0,void 0,void 0,(function(){var e;return function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(s){c=[6,s],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t()];case 1:return e=o.sent(),r(e),[3,3];case 2:return o.sent(),setTimeout(i,n()),[3,3];case 3:return[2]}}))}))}()}))}}).call(this,n(2))},function(e,t,n){"use strict";var r=n(18);function i(e){this.doc=e,this.uuid=o.get("mdn_anonymous_id",this.doc)||this.setUUID()}i.prototype.setUUID=function(){var e=r();return o.set("mdn_anonymous_id",e,this.doc,3650),e},t.a=i;var o={set:function(e,t,n,r){var i,a=n,s=(r=r?((s=new Date).setTime(s.getTime()+24*r*60*60*1e3),"; expires="+s.toGMTString()):"",location.host);1===s.split(".").length?a.cookie=e+"="+t+r+"; path=/":((i=s.split(".")).shift(),i="."+i.join("."),a.cookie=e+"="+t+r+"; path=/; domain="+i,null!=o.get(e,n)&&o.get(e,n)===t||(a.cookie=e+"="+t+r+"; path=/; domain=."+s))},get:function(e,t){for(var n=e+"=",r=t.cookie.split(";"),i=0;i<r.length;i+=1){for(var o=r[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return null},erase:function(e,t){o.set(e,"",t,-1)}}},function(e,t,n){"use strict";(function(e){var r=n(40);t.a=function(t){return function(t,n,r,i){return new(r=r||e)((function(e,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(a,s)}c((i=i.apply(t,n||[])).next())}))}(void 0,void 0,void 0,(function(){return function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(s){c=[6,s],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Object(r.a)("https://cobrowse.hellomedian.com/api/v1/organizations/settings/"+t).then((function(e){return e.json()}))];case 1:return[2,e.sent()];case 2:return e.sent(),[3,3];case 3:return[2]}}))}))}}).call(this,n(2))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var r,i,o="undefined"!=typeof self?self:void 0,a="URLSearchParams"in o,s="Symbol"in o&&"iterator"in Symbol,c="FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch(e){return!1}}(),u="FormData"in o,d="ArrayBuffer"in o;function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e?String(e):e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return s&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function v(t){if(t.bodyUsed)return e.reject(new TypeError("Already read"));t.bodyUsed=!0}function m(t){return new e((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function g(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function b(e){var t;return e.slice?e.slice(0):((t=new Uint8Array(e.byteLength)).set(new Uint8Array(e)),t.buffer)}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:c&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:u&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:a&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():d&&c&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=b(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c&&(this.blob=function(){var t=v(this);if(t)return t;if(this._bodyBlob)return e.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return e.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return e.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||e.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,n,r=v(this);if(r)return r;if(this._bodyBlob)return r=this._bodyBlob,n=m(t=new FileReader),t.readAsText(r),n;if(this._bodyArrayBuffer)return e.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return e.resolve(this._bodyText)},u&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}d&&(r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&-1<r.indexOf(Object.prototype.toString.call(e))}),h.prototype.append=function(e,t){e=l(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[l(e)]},h.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},h.prototype.set=function(e,t){this.map[l(e)]=f(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},s&&(h.prototype[Symbol.iterator]=h.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var n,r=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=(e=t.method||this.method||"GET").toUpperCase(),-1<_.indexOf(n)?n:e),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r),"GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache||((n=/([?&])_=[^&]*/).test(this.url)?this.url=this.url.replace(n,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime())}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){var n;e&&(n=(e=e.split("=")).shift().replace(/\+/g," "),e=e.join("=").replace(/\+/g," "),t.append(decodeURIComponent(n),decodeURIComponent(e)))})),t}function S(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var C=[301,302,303,307,308],T=(S.redirect=function(e,t){if(-1===C.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},o.DOMException);function O(t,n){return new e((function(e,r){var i=new w(t,n);if(i.signal&&i.signal.aborted)return r(new T("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var t,n,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",n=new h,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var t=(e=e.split(":")).shift().trim();t&&(e=e.join(":").trim(),n.append(t,e))})),n)},i=(r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL"),"response"in a?a.response:a.responseText);setTimeout((function(){e(new S(i,r))}),0)},a.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){r(new T("Aborted","AbortError"))}),0)},a.open(i.method,function(e){try{return""===e&&o.location.href?o.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&(c?a.responseType="blob":d&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",s)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}"function"!=typeof T&&((T=function(e,t){this.message=e,this.name=t,t=Error(e),this.stack=t.stack}).prototype=Object.create(Error.prototype),T.prototype.constructor=T),O.polyfill=!0,o.fetch||(o.fetch=O,o.Headers=h,o.Request=w,o.Response=S)}).call(this,n(2))},function(e,t,n){"use strict";(function(e){var r=n(42),i=n(19),o=n(20),a=n(57),s=n(49),c=n(50),u=n(21),d=n(51),l=n(27),f=n(52),p=n(53),h=n(6),v=function(t,n,r,i){return new(r=r||e)((function(e,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(a,s)}c((i=i.apply(t,n||[])).next())}))},m=function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(s){c=[6,s],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},g="initializing mirror";function b(e,t,n,r,o,a,l){function v(e){return function(t){(t=void 0===t?{}:t).tabId&&t.tabId!==b.tabId||e(t)}}var m,b=this;this.mirror=null,this.sessionIsBeingStarted=!1,this.nodeIdTracker=u.a,this.socket=e,this.socketMessage=t,this.reactor=n,this.window=r,this.permissions=o,this.tabId=l,this.orgConfigs=a,this.contextSwitchCheck(),this.sessionStarted=!1,this.liveStream=new p.a,this.drawing=new f.a,this.socketMessage.on("endSession",(function(){return b.endSession()})),this.socketMessage.on("endActionControl",(function(){return b.reactor.dispatchEvent("actionControlEnded")})),this.socketMessage.on("startActionControl",(function(){return b.reactor.dispatchEvent("actionControlStarted")})),this.socketMessage.on("startLivestreaming",(function(e){return b.liveStream.startLivestream(e)})),this.socketMessage.on("startDrawing",(function(e){return b.drawing.startDrawing(e)})),this.socketMessage.on("updateDrawingPosition",(function(e){return b.drawing.updateDrawing(e)})),this.socketMessage.on("stopDrawing",(function(){return b.drawing.stopDrawing()})),a.education&&(m=new d.a,this.socketMessage.on("updateAgentCursor",v((function(e){m.move(e)}))),this.socketMessage.on("removeAgentCursor",(function(){return m.destroy()})),this.socketMessage.on("highlightElement",(function(e){b.mirror&&b.mirror!==g&&(e=b.mirror.fetchNodeById(e),new c.a(e).highlight())})),this.socketMessage.on("updateScrollPosition",v((function(e){var t,n;b.mirror&&b.mirror!==g&&(e.nodeId?(n=b.mirror.fetchNodeById(e.nodeId),Object(h.a)(n,"viewer initiated scroll"),n.scrollTop=e.y,n.scrollLeft=e.x):(t=(n=b.mirror.fetchNodeById(e.mirrorId)).defaultView||n.contentWindow,n=Object(i.a)(n)?n:n.contentDocument,Object(h.a)(n,"viewer initiated scroll"),t.scrollTo(e.x,e.y)))}))),this.socketMessage.on("viewerCollaboration",v((function(e){var t=e.event;e=e.argument;b.mirror&&b.mirror!==g&&s.a[t](b.mirror,e)}))))}b.prototype.requestPermission=function(){return v(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return this.orgConfigs.request_permission?(this.reactor.dispatchEvent("sessionPermissionRequested",{permissionText:this.orgConfigs.request_permission_text}),this.permissions.displayPermissionDialog?[4,Object(l.a)()]:[3,4]):[3,5];case 1:return e.sent(),this.windowConfirm(this.orgConfigs.request_permission_text)?[4,this.grantSession()]:[3,3];case 2:return e.sent(),[3,4];case 3:this.denySession(),e.label=4;case 4:return[3,7];case 5:return[4,this.startOrRestartSession()];case 6:e.sent(),e.label=7;case 7:return[2]}}))}))},b.prototype.requestActionPermission=function(){return v(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return this.reactor.dispatchEvent("actionPermissionRequested"),this.permissions.displayActionPermission?[4,Object(l.a)()]:[3,2];case 1:e.sent(),window.confirm("Allow agent to control your browser window?")?this.grantAction():this.denyAction(),e.label=2;case 2:return[2]}}))}))},b.prototype.endActionControl=function(){this.socket.transmit("endActionControl"),this.reactor.dispatchEvent("actionControlEnded")},b.prototype.windowConfirm=function(e){return this.window.confirm(e)},b.prototype.startOrRestartSession=function(){return v(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return this.sessionIsBeingStarted?[3,3]:(this.sessionIsBeingStarted=!0,this.resetMirrorAndInitiateListeners(this.orgConfigs.excluded_selectors),this.sessionStarted?[3,2]:(this.reactor.dispatchEvent("sessionStarted"),[4,this.socket.transmitAndRespond("sessionStarted")]));case 1:e.sent(),this.sessionStarted=!0,e.label=2;case 2:this.sessionIsBeingStarted=!1,e.label=3;case 3:return[2]}}))}))},b.prototype.grantSession=function(){return v(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return[4,this.startOrRestartSession()];case 1:return e.sent(),this.reactor.dispatchEvent("sessionPermissionGranted"),this.socket.transmit("permissionGranted"),[2]}}))}))},b.prototype.denySession=function(){this.reactor.dispatchEvent("sessionPermissionDenied"),this.socket.transmit("permissionDenied")},b.prototype.grantAction=function(){this.socket.transmit("grantActionPermission"),this.reactor.dispatchEvent("actionPermissionGranted")},b.prototype.denyAction=function(){this.socket.transmit("denyActionPermission"),this.reactor.dispatchEvent("actionPermissionDenied")},b.prototype.resetMirrorAndInitiateListeners=function(e){if(this.mirror!==g)if(this.mirror)try{this.mirror.disconnect(),this.initiateMirror(e),this.viewportMonitor.reset()}catch(e){console.error("Could not re-initialize listeners")}else this.initiateMirror(e),this.viewportMonitor=new a.a(this.socket,this.window),this.viewportMonitor.start()},b.prototype.endSession=function(e){void 0===e&&(e=!1);try{this.mirror&&this.mirror!==g&&(this.mirror.disconnect(),this.viewportMonitor.stop())}catch(e){}e&&this.socket.transmit("endSession"),this.sessionStarted&&this.reactor.dispatchEvent("sessionEnded"),this.sessionStarted=!1},b.prototype.initiateMirror=function(e){this.mirror=g,this.socket.transmit("DOMEvent",{event:"initScreenshare",payload:{base:Object(r.a)(document),tabId:this.tabId,devMode:!1}});var t=this.window.document,n=y(this.socket),i=new o.a;i.initialize({callbacks:n,target:t,excludedClasses:e,mirrorId:this.nodeIdTracker.getId(t),nodeIdTracker:this.nodeIdTracker,parentMirrorId:null}).forEach((function(e){n.transmit(e)})),i.attachListener((function(e){e.forEach((function(e){return n.transmit(e)}))})),this.mirror=i},b.prototype.contextSwitchCheck=function(){var e=this;this.window.addEventListener("focus",(function(){e.sessionStarted&&e.socket.transmit("checkFocusChange",e.tabId)}))},t.a=b;var y=function(e){return{transmitAndRespond:function(t){return e.transmitAndRespond(t.socketEvent,{event:t.actionType,payload:t.payload})},transmit:function(t){return e.transmit(t.socketEvent,{event:t.actionType,payload:t.payload})}}}}).call(this,n(2))},function(e,t,n){"use strict";t.a=function(e){return e.baseURI||function(e){return(e=e.querySelector("base[href]"))?e.href:null}(e)||location.href.match(/^(.*\/)[^\/]*$/)[1]}},function(e,t,n){"use strict";t.a=function(e){var t=document.createElement("a");return t.href=e,t.host}},function(e,t,n){"use strict";var r=n(1),i=n(12),o=n(23),a=n(9),s=n(14);t.a=function e(t){var n=t.nodeIdTracker,c=t.excludedClasses,u=t.callbacks,d=t.mirrorId,l={serializedDescendants:[],initialStateEvents:[],elementToUnlistener:Object(a.a)()};return Object(i.a)(t.node,(function(t){var i,a,f=Object(r.b)(t,c),p=Object(o.a)({node:t,nodeIdTracker:n,excludedClasses:c},f);p&&(a=(i=Object(s.b)({node:t,nodeId:n.getId(t),nodeIdTracker:n,mirrorId:d,callbacks:u,excludedClasses:c},f)).unlisten,i=i.initialStateEvents,l.elementToUnlistener.set(t,a),(a=l.initialStateEvents).push.apply(a,i),f||(a=e({node:t,nodeIdTracker:n,excludedClasses:c,callbacks:u,mirrorId:d}),p.childNodes=a.serializedDescendants,(i=l.initialStateEvents).push.apply(i,a.initialStateEvents)),l.serializedDescendants.push(p))})),l}},function(e,t,n){"use strict";(function(e){var r=n(24),i=function(t,n,r,i){return new(r=r||e)((function(e,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(a,s)}c((i=i.apply(t,n||[])).next())}))};t.a={appliesToNode:function(e){return"CANVAS"===e.nodeName},getInitialStateEvents:function(e){var t=e.node;return[{socketEvent:"MetaEvent",actionType:"canvasChange",payload:{nodeId:e.nodeId,mirrorId:e.mirrorId,image:Object(r.b)(t)}}]},attachListener:function(e){var t=this,n=e.node,o=e.nodeId,a=e.mirrorId,s=e.callbacks,c=n,u=!1,d=!1,l=function(){return i(t,void 0,void 0,(function(){return function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(s){c=[6,s],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,(function(e){switch(e.label){case 0:return u?(d=!0,[3,3]):[3,1];case 1:return u=!0,[4,s.transmitAndRespond({socketEvent:"MetaEvent",actionType:"canvasChange",payload:{nodeId:o,mirrorId:a,image:Object(r.b)(c)}})];case 2:if(e.sent(),u=!1,d)return d=!1,[2,l()];e.label=3;case 3:return[2]}}))}))};return Object(r.a)(c,500,l)}}}).call(this,n(2))},function(e,t,n){"use strict";(function(e){var n=e||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r="CustomEvent"in window&&("function"==typeof window.CustomEvent||-1<window.CustomEvent.toString().indexOf("CustomEventConstructor"));t.a=function(e,t){if(r)return new CustomEvent(e,t);t=n({bubbles:!1,cancelable:!1,detail:null},t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}}).call(this,n(5))},function(e,t,n){"use strict";(function(e){function r(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(Object,[{}].concat(t))}var i=n(4),o=n(20),a=n(13),s=(t.a={appliesToNode:function(e,t){return"IFRAME"===e.nodeName&&Object(a.b)(e)&&Object(i.c)(e,t)},attachListener:function(e){var t=e.node,n=e.callbacks,r=e.nodeIdTracker,i=e.excludedClasses,u=e.mirrorId,d=!1,l=s,f=t;return Object(a.a)(f).then((function(){if(!d){var e=f.contentDocument,t=r.getId(f),a=new o.a;try{a.initialize({callbacks:c(f,n),target:e,excludedClasses:i,mirrorId:t,nodeIdTracker:r,parentMirrorId:u}).forEach((function(e){return n.transmit(e)})),a.attachListener((function(e){e.forEach((function(e){return n.transmit(e)}))})),l=function(){return a.disconnect()}}catch(e){console.error(e)}}})).catch((function(e){console.error("Error waiting for iframe to be ready",e)})),function(){d=!0,l()}}},function(){}),c=function(e,t){return{transmitAndRespond:function(n){return t.transmitAndRespond(u(n)?d(e,n):n)},transmit:function(n){return t.transmit(u(n)?d(e,n):n)}}},u=function(e){return"MetaEvent"===e.socketEvent&&"cursorPosition"===e.actionType},d=function(e,t){return e=l(e),r(t,{payload:r(t.payload,{x:t.payload.x+e.x,y:t.payload.y+e.y})})},l=function(e){var t,n;return e.offsetParent===document.body?{x:e.parentElement.offsetLeft-window.scrollX,y:e.parentElement.offsetTop-window.scrollY}:e.offsetParent?(t=(n=l(e.parentElement)).x,n=n.y,{x:e.parentElement.offsetLeft+t,y:e.parentElement.offsetTop+n}):{x:e.offsetLeft,y:e.offsetTop}}}).call(this,n(5))},function(e,t){e.exports=function e(t){return Array.isArray(t)?t.reduce((function(t,n){return t.concat(e(n))}),[]):t}},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=Event),function(n,r){n=n.fetchNodeById(r.nodeId);try{var i=new t(e,r.event);n.dispatchEvent(i)}catch(n){}}}function i(e){return function(t,n){t=t.fetchNodeById(n.nodeId),"string"==typeof n.value&&(t.value=n.value,Object(o.a)(t,"valueChange",n.value)),n=new Event(e,n.event),t.dispatchEvent(n)}}var o=n(6);n={actionClick:function(e,t){var n=e.fetchNodeById(t.nodeId);n.click?n.click():r("click",MouseEvent)(e,t)},actionFocus:function(e,t){var n=e.fetchNodeById(t.nodeId);n.focus?n.focus():r("focusin",FocusEvent)(e,t)},actionInput:i("input"),actionChange:i("change"),actionKeydown:r("keydown",KeyboardEvent),actionKeyup:r("keyup",KeyboardEvent),actionDoubleClick:r("dblclick",MouseEvent),actionSubmit:r("submit")};t.a=n},function(e,t,n){"use strict";var r={r:234,g:76,b:95,a:.2};function i(e,t){void 0===t&&(t=r),this.target=e,this.targetBackground=e.style.background,this.targetOutline=e.style.outline,this.color=t}i.prototype.highlight=function(e){var t=this;void 0===e&&(e=3),this.activateHighlight(),setTimeout((function(e){t.deactivateHighlight()}),1e3*e)},i.prototype.activateHighlight=function(){this.target.style.transition="outline .2s, background .2s",this.target.style.background="rgba("+this.color.r+", "+this.color.g+", "+this.color.b+", "+this.color.a+")",this.target.style.outline="2px solid rgb("+this.color.r+", "+this.color.g+", "+this.color.b+")"},i.prototype.deactivateHighlight=function(){this.target.style.background=this.targetBackground,this.target.style.outline=this.targetOutline},t.a=i},function(e,t,n){"use strict";function r(){this.displayed=!1}r.prototype.display=function(){var e=this,t=document.createElement("div"),n=document.createElement("img"),r=document.createElement("p");n.src="https://js.hellomedian.com/assets/new-cursor.png",t.setAttribute("data-mdn-iexclude","true"),t.setAttribute("id","cursor"),t.style.position="absolute",t.style.height="24px",t.style.width="24px",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex="2147483647",r.innerText="Agent",r.style.width="60px",r.style.marginLeft="20px",r.style.marginTop="0px",r.style.backgroundColor="#0EA5E9",r.style.border="2px solid #fff",r.style.padding="0px 6px 0px 6px",r.style.fontFamily="sans-serif",r.style.borderRadius="5px",r.style.color="#fff",n.addEventListener("load",(function(){e.removePreviousElement(),t.appendChild(n),t.appendChild(r),e.cursorElement=t,document.body.insertAdjacentElement("beforeend",t)})),this.displayed=!0},r.prototype.removePreviousElement=function(){if(this.cursorElement){try{document.body.removeChild(this.cursorElement)}catch(e){console.warn("Error removing cursor",e)}this.cursorElement=null}},r.prototype.destroy=function(){this.removePreviousElement(),this.displayed=!1},r.prototype.move=function(e){if(this.displayed||this.display(),this.cursorElement)try{this.cursorElement.style.left=e.x+"px",this.cursorElement.style.top=e.y+"px"}catch(e){console.warn("Error moving cursor",e)}},t.a=r},function(e,t,n){"use strict";function r(){this.fullPageContainer=document.createElement("div"),this.fullPageContainer.setAttribute("style",this.pageContainerStyle()),this.drawings={},this.activePoly=null,this.activePolyId=null,this.visible=!1,this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svgContainer.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.svgContainer.setAttribute("style","width: 100%; height: 100%;"),this.updateContainerDimensions(),this.fullPageContainer.appendChild(this.svgContainer),document.body.appendChild(this.fullPageContainer)}r.prototype.startDrawing=function(e){var t=this,n=(this.setVisible(),e.x),r=(e=e.y,this.activePoly=document.createElementNS("http://www.w3.org/2000/svg","polyline"),this.activePoly.setAttribute("points",n+","+e),this.activePoly.setAttribute("style","fill: none; stroke: red; stroke-width: 5px; stroke-opacity: 50%; pointer-events: none;"),i());this.activePolyId=r,this.svgContainer.appendChild(this.activePoly),this.drawings[this.activePolyId]=this.activePoly,setTimeout((function(){r in t.drawings&&(t.svgContainer.removeChild(t.drawings[r]),delete t.drawings[r],t.hideIfEmpty())}),9500)},r.prototype.updateDrawing=function(e){this.appendCoordinates(e)},r.prototype.stopDrawing=function(){var e=this,t=this.activePolyId;setTimeout((function(){t in e.drawings&&(e.svgContainer.removeChild(e.drawings[t]),delete e.drawings[t],e.hideIfEmpty())}),2850),this.activePoly=null,this.activePolyId=null},r.prototype.appendCoordinates=function(e){var t=e.x,n=(e=e.y,this.activePoly.getAttribute("points"));this.activePoly.setAttribute("points",n+" "+t+","+e)},r.prototype.updateContainerDimensions=function(){var e=document.documentElement.scrollHeight,t=document.documentElement.scrollWidth;this.fullPageContainer&&this.fullPageContainer.setAttribute("style",this.pageContainerStyle(e+"px",t+"px"))},r.prototype.setVisible=function(){this.visible=!0,this.updateContainerDimensions(),null===this.dimensionMonitor&&(this.dimensionMonitor=setInterval(this.updateContainerDimensions,300))},r.prototype.setHidden=function(){this.dimensionMonitor=null,this.visible=!1,this.updateContainerDimensions(),this.dimensionMonitor&&clearInterval(this.dimensionMonitor)},r.prototype.pageContainerStyle=function(e,t){return"\n            height: "+(e=void 0===e?"100%":e)+";\n            width: "+(t=void 0===t?"100%":t)+";\n            top: 0;\n            left: 0;\n            position: absolute;\n            z-index: 2147483647;\n            pointer-events: none;\n            display: "+(this.visible?"block":"none")+";\n          "},r.prototype.hideIfEmpty=function(){0===Object.entries(this.drawings).length&&this.setHidden()},t.a=r;var i=function(){return Math.floor(Math.random()*Math.floor(1e5))}},function(e,t,n){"use strict";var r=n(28),i=n.n(r);function o(){this.publishAudio=!0,this.publishVideo=!0,this.subscribeVideo=!0,this.subscribeAudio=!0,this.publisherOptions={insertMode:"append",style:{buttonDisplayMode:"off"},fitMode:"cover",width:"100%",height:"100%",facingMode:"user",mirror:!1},this.initDOMs(),this.initListeners()}o.prototype.initListeners=function(){var e=this;this.mute_mic_div=document.getElementById("mute-mic"),this.mute_mic_div.addEventListener("click",(function(){return e.toggleMuteSubscriberSpeaker()})),this.mute_video_div=document.getElementById("mute-video"),this.mute_video_div.addEventListener("click",(function(){return e.toggleMuteSubscriberVideo()})),this.end_video_div=document.getElementById("end-video"),this.end_video_div.addEventListener("click",(function(){return e.endStream()})),this.mute_pub_mic_div=document.getElementById("pub-mute-mic"),this.mute_pub_mic_div.addEventListener("click",(function(){return e.toggleMuteMic()})),this.mute_pub_video_div=document.getElementById("pub-mute-video"),this.mute_pub_video_div.addEventListener("click",(function(){return e.toggleMuteVideo()})),this.askPermissionDiv=document.getElementById("median-ask-user"),this.askPermissionDiv.addEventListener("click",this.publish.bind(this)),this.updateMuteSubscribeMicButton(),this.updateMuteSubscribeVideoButton(),this.updatePubMuteMicButton(),this.updatePubMuteVideoButton()},o.prototype.publish=function(){var e=this;this.session&&(this.makePublisher(),this.askPermissionDiv.style.display="none",this.session.publish(this.publisher,(function(t){t||(e.publisher,e.publisher=e.publisher)})))},o.prototype.askPermission=function(){this.askPermissionDiv.style.display="flex"},o.prototype.startLivestream=function(e){var t,n=this,r=(this.askPermissionDiv.style.display="none",JSON.parse(e.streams));this.streams=[],this.subscriber=[],null!==r.streams?(e=(r=JSON.parse(e.streams).streams).session_id,r=r.token,this.session=i.a.initSession("47070154",e),this.session.connect(r,(function(e){e&&n.handleError(e)})),this.session&&this.session.on("sessionConnected",(function(){document.getElementById("opentok-container").style.display="flex"})),t=document.getElementById("subscribers"),this.session.on("streamCreated",(function(e){n.streams.push(e.stream),t.style.display="block",n.streams.forEach((function(e){n.subscriber.push(n.session.subscribe(e,t,{insertMode:"append",width:"100%",height:"100%"},n.handleError))})),n.askPermission()})),this.session.on("streamDestroyed",(function(){n.endStream()}))):void 0!==this.session&&this.endStream()},o.prototype.endStream=function(){document.getElementById("opentok-container").style.display="none",document.getElementById("subscribers").style.display="none",this.publisher_element.style.display="none",this.askPermissionDiv.style.display="none",this.session&&(this.session.disconnect(),this.session.disconnect(),this.session=null,this.streams=[]),this.publisher&&(this.publisher.destroy(),this.publisher=null)},o.prototype.makePublisher=function(){this.publisher_element=document.getElementById("publisher"),this.publisher_element.style.display="block",this.publisher=i.a.initPublisher(this.publisher_element,this.publisherOptions)},o.prototype.handleError=function(e){},o.prototype.toggleMuteMic=function(){this.publishAudio=!this.publishAudio,this.updatePubMuteMicButton(),this.publisher.publishAudio(this.publishAudio)},o.prototype.toggleMuteVideo=function(){this.publishVideo=!this.publishVideo,this.updatePubMuteVideoButton(),this.publisher.publishVideo(this.publishVideo)},o.prototype.toggleMuteSubscriberVideo=function(){this.subscribeVideo=!this.subscribeVideo,this.updateMuteSubscribeVideoButton(),this.subscriber[0].subscribeToVideo(this.subscribeVideo)},o.prototype.toggleMuteSubscriberSpeaker=function(){this.subscribeAudio=!this.subscribeAudio,this.updateMuteSubscribeMicButton(),this.subscriber[0].subscribeToAudio(this.subscribeAudio)},o.prototype.updateMuteSubscribeMicButton=function(){this.subscribeAudio?this.mute_mic_div.innerHTML='<button id="mute-mic" style="color: white"><svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" x2="12" y1="19" y2="23"/><line x1="8" x2="16" y1="23" y2="23"/></svg></button>':this.mute_mic_div.innerHTML='<button id="mute-mic" class="mute-mic" style="color: white"><svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><line x1="1" x2="23" y1="1" y2="23"/><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"/><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"/><line x1="12" x2="12" y1="19" y2="23"/><line x1="8" x2="16" y1="23" y2="23"/></svg></button>'},o.prototype.updateMuteSubscribeVideoButton=function(){this.subscribeVideo?this.mute_video_div.innerHTML='<button class="mute-video" id="mute-video"><svg enable-background="new 0 0 50 50" height="24px" id="Layer_1" version="1.1" viewBox="0 0 50 50" width="24px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><rect fill="none" height="50" width="50"/><polygon fill="none" points="49,14 36,21 36,29   49,36 " stroke="#FFFFFF" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><path d="M36,36c0,2.209-1.791,4-4,4  H5c-2.209,0-4-1.791-4-4V14c0-2.209,1.791-4,4-4h27c2.209,0,4,1.791,4,4V36z" fill="none" stroke="#FFFFFF" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/></svg></button>':this.mute_video_div.innerHTML='<button class="mute-video" id="mute-video"><svg enable-background="new 0 0 50 50" height="24px" id="Layer_1" version="1.1" viewBox="0 0 50 50" width="24px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><rect fill="none" height="50" width="50"/><polygon fill="none" points="49,14 36,21 36,29   49,36 " stroke="#FFFFFF" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><path d="M36,36c0,2.209-1.791,4-4,4  H5c-2.209,0-4-1.791-4-4V14c0-2.209,1.791-4,4-4h27c2.209,0,4,1.791,4,4V36z" fill="none" stroke="#FFFFFF" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_4" y2="49.008242" x2="48.897057" y1="1.095529" x1="0.984344" stroke-width="4" stroke="#FFFFFF" fill="none"/></g></svg></button>'},o.prototype.updatePubMuteMicButton=function(){this.publishAudio?this.mute_pub_mic_div.innerHTML='<button style="color: white"><svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" x2="12" y1="19" y2="23"/><line x1="8" x2="16" y1="23" y2="23"/></svg></button>':this.mute_pub_mic_div.innerHTML='<button class="mute-mic" style="color: white"><svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><line x1="1" x2="23" y1="1" y2="23"/><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"/><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"/><line x1="12" x2="12" y1="19" y2="23"/><line x1="8" x2="16" y1="23" y2="23"/></svg></button>'},o.prototype.updatePubMuteVideoButton=function(){this.publishVideo?this.mute_pub_video_div.innerHTML='<button class="mute-video"><svg enable-background="new 0 0 50 50" height="24px" id="Layer_1" version="1.1" viewBox="0 0 50 50" width="24px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><rect fill="none" height="50" width="50"/><polygon fill="none" points="49,14 36,21 36,29   49,36 " stroke="#FFFFFF" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><path d="M36,36c0,2.209-1.791,4-4,4  H5c-2.209,0-4-1.791-4-4V14c0-2.209,1.791-4,4-4h27c2.209,0,4,1.791,4,4V36z" fill="none" stroke="#FFFFFF" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/></svg></button>':this.mute_pub_video_div.innerHTML='<button class="mute-video"><svg enable-background="new 0 0 50 50" height="24px" id="Layer_1" version="1.1" viewBox="0 0 50 50" width="24px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><rect fill="none" height="50" width="50"/><polygon fill="none" points="49,14 36,21 36,29   49,36 " stroke="#FFFFFF" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><path d="M36,36c0,2.209-1.791,4-4,4  H5c-2.209,0-4-1.791-4-4V14c0-2.209,1.791-4,4-4h27c2.209,0,4,1.791,4,4V36z" fill="none" stroke="#FFFFFF" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4"/><line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_4" y2="49.008242" x2="48.897057" y1="1.095529" x1="0.984344" stroke-width="4" stroke="#FFFFFF" fill="none"/></g></svg></button>'},o.prototype.initDOMs=function(){document.getElementById("opentok-container")||document.body.insertAdjacentHTML("afterend",'<div id="opentok-container" style="display:none;"><div class="subscribers" id="subscribers" style="display:none;"> <div class="sub-title"><a target="_blank" href="https://www.hellomedian.com?ref=Video"><span class="sub-title-text" style="color:#fff; font-size: 14px;">Cobrowsing powered by </span><span class="sub-title-icon">Median</span></a></div><div class="sub-control-button"><div id="mute-mic" style="color: white"></div><div id="mute-video" style="color: white"></div><div id="end-video" style="color: white"><button class="end-video-btn" style="color: white"><svg enable-background="new 0 0 32 32" height="24px" id="_1" version="1.1" viewBox="0 0 32 32" width="24px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Close_Square"><path d="M30,0H2C0.895,0,0,0.895,0,2v28c0,1.105,0.895,2,2,2h28c1.104,0,2-0.895,2-2V2C32,0.895,31.104,0,30,0z M30,30H2V2h28V30z" fill="#FFFFFF"/><path d="M9.271,22.707c0.394,0.39,1.034,0.39,1.429,0l5.324-5.28l5.276,5.276c0.394,0.395,1.034,0.395,1.428,0 c0.394-0.395,0.394-1.037,0-1.432l-5.268-5.269l5.238-5.195c0.394-0.391,0.394-1.024,0-1.414c-0.394-0.391-1.034-0.391-1.428,0 l-5.231,5.188l-5.309-5.31c-0.394-0.395-1.034-0.395-1.428,0c-0.394,0.396-0.394,1.037,0,1.432l5.301,5.302l-5.331,5.287 C8.877,21.683,8.877,22.317,9.271,22.707z" fill="#FFFFFF"/></g></svg></button></div></div></div><div class="publisher" id="publisher" style="display:none;"><div class="pub-control-button"><div id="pub-mute-mic" style="color: white"></div><div id="pub-mute-video" style="color: white"></div></div></div><div id="median-ask-user" style="display:none;"><div>Click Here</div><div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABUCAYAAAAVgLC7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAACQrSURBVHja7Hx5dFzFme+vqu7ai3pTq7VYkm3Jlo2xsWxjGxtszDYkJCEJIYEEZgJ52YDsk3XyQjK8zGQdMoGQZJIhbyYJBHgTIEDYd4ONMQFsg21ZsmVt1tK7uvuuVfX+kFqxwQZbCId5L3XOPUdHUt3u+7vf+vu+r8jnP/95HM8lpQRjDKZpor6+HrquIxgMYnx8HLquI5vNIhAI4KSTTpr6f0IIxsbGUCqVQClFf38/6uvr4TgOHMeB53kYHh5GpVIBY2zqs4iiwHccOC9sxVzhgyphjHgSJeLAUVwkqII4DaBIJUSZg/gcQ6YHISXiIgiHU8QUDxGF46V8GZ3RMN5b33zxAS5P3eJUfvvC8L6nFfx1veaihCDnuNB0HeuSqTtmq9r5s5nAKXr9Fb/18Dd/BfBIiwAUBDnXQ1in+HTT3PtP0qPnSGsckgpQVsIJodgn/grgkSQPQMZ1kDCYelVz86PNSmQtKllICkiYgEpQsUu5vwJ4sH2evAghGHZ8hAN69HOtdc810+BcVMrgqgZIgFGOUSc0tGXkwP/8K4B/1lgIAlhEIG+7WGUGYh+f1bqlWWFzYRfhqhoUAVAVGJV04GfD+5aPWJXRtxyAUkoIIaZ+llIe8ntK6ZvyuQ4EagXFGjcEN6jUXdYw67k6SmbBKoBTFUxQUEPigCf2/mP//tWFijM2VzXwlgHQtm14ngfXdaFpGpNSBidNkSSEQAjhCiEs27ZRLBaRTCZBCJkZ6SMEPpEoOh5ODda3r2xIbjKkU8u9CihhYJIApsCwq+76+f69nWN+zp6lxyAF/vIAWpYFQggSicSiRCLx4XA4vFbTtDmBQCBACIGUUhJCiGmaUggxbFnWNl3X7/N9/3fZbLbCGHtDUklAIOWE2raEYycum5N83PAqcZ9zQFEn3qGmoqtsvfSt/q5VwnXsRtMExIS9/IsASAgB5xylUglNTU3tbW1tv6irqztd13VIKcE5h+u6h+zRdR2EkEg8Hu9oaWm5sFwu37Br166re3t7v1sul6cFIgEgIHHAtbAgXrf0M6nGTaprGb7k8DUNhgvABPrK/NHv9O87Z4RbfodmQkyqBv4SABJC4HkefN9HZ2fnR9asWfNLIQQsy0KpVDrivqpdrC5N0/SVK1d+p7W19aIHH3zwrGKxmDk4CzkayeOQOODaOCVYt+rvUvVPqH5Z40ICxIThOoAZxIuV8j039XS/gzKOpGYCvOqvJ8OdqqE+HhcA+L6PfD6PU0455Svr16//pW3bKJVKrwLodY2+46BQKCCVSi09//zzX45Go02FQgGTav/n67AxHgGXAsOejVXB1LqP1dZt1vm4JriAIDoodwCD4gXLvf37PT3v8LmDuGpAHOZ+SigUOq7Sl81msXbt2vdv2LDhn4vFIlzXnZYzqO7J5XKora2tu+CCC+65+eablwohEAwGIaUEVVW4tg130otP7AN8ydHv2fhArPUdH0ol7oJrQ0gVQhFQuQ3oKp5yvN/8S++eS2s8B3HTRE7KCZ1/JYCvtDVv5iqXy4jH47Gzzz77J5ZlwXGcNxyWUEqRyWQwe/bsk0499dR/vuOOO76aSCQAAIxQVAp5cMcG0XUQAK4Q6Pc8vK+u+ZKPppp+DdeCEB4E0aBwAKaOLePODTcc6LmSch9RTYeQ8oifr3ied9wALBaL2LBhw9cikUjt8PDwjMV0Vck+8cQTv/Tss8/+4sCBA3tDoRCkqsMuFiA8F8w04QiBUc/B+5LNH76sLvUreCUITiAZgcJ8gATwZLFw7ff2d31eQGKOHoawPRxW9KoAGoZxXMBzXRetra1KR0fHRcViccZiuINtYjKZpJ2dnR9Kp9PXBINBqAET+VJ+Is4UHDnPxXsbZl95QVy7Hm4OXKrwVQ26JwHNwKOF3DU/2r/nG77giJsmXkPw/gygaZrHBUDP89Dc3HxmNBqd9Vre9o1IoeM4aGxsPD8QCFwDpsAuFlDOpqEpKrLcxzuTs768Pm5+B9yFDwpCBXThAoaKe8eyX719pPc7EUJQZAqO9v0qsVjsuACoKAqampqWHEySzuQSUsJ1HdQmEvOXLV8eD9c1ZJ+5+1YMp4cRrkniklTzd9bX1H4ZogjpS1Cig6ocgIYnx7JX/jTbfcMiJYCCpCj6HuTRPtfevXuPC4C5XA4LFy6cr2najIPHJYehaDDVAJ7b9fwNvqpmB555Cps3Pw4RiuCqWfNuODNofBJeERwGKHVBiQeQAH4zNvDRezL9v4zqGkK+gpzPj00wjlcYwzmHruu6lHLGJS+omQgGQnj46Y3f2D86do052I+n77gJs/UIrmw74calkcBlqLiQUgFlFRBFB6iJXw0PXHjTaN//CYc4wuTobN6rAJxpaXitcAMHxWMzAp4QME0T4WAYdz54/9+/PNT3w5p0Drv+eAeCehB/P2/5rztMfoks5+GrESiiAgIJiDB+lO5+x+Njffe0MgMe9SElIKcBhTLTEvFaDztztm+CADAMA6au47a77vjElj27fx53HGx56F7EdBNfW7D4jg4N5wuPgyshqF4RMFU4MunfNjCw7onxgU1SoTAJgyv96dv2/5bMsfBhGiaMYAh33XnHxY88++zvZukqXn7qEcRT9fj6rPmb5gOr4ecAEYSkBGAKXB72fjK0b02mmN86xwhiwLMg3uB3+W8HoBASoWAAri/w4o6Xz+8vFP4QKRYxMrgPbQ2t6ucbW5+bzb3FcAQ4M0HhQVNUFBGQ3+/fc3pPMbu13YyiAhcMb1wb/lsByDlHtKYG44Ljqc1bztElezA+OIx9e3Yj2dAQ/3KqeXO9W5nHBYdQdChcBVEYcr7IfDPdf/I2K7svaWjYBQsSHKH/nwAUQiASicCxbXHfgw+d5hP2dOClneh55GHMnd3cdFVj46bayngzhw4wBYqwQQwddtnY/a9j+0/ZLXK5Vs2AywUAAn4IKfX/OIBSAsFAEKXSuH3HnX9YMzxeej6VT2PP8y+idfbsuZfPSmyK2VadhAJJGZjvgGgmBnz2pxvH9p02xq3KLM2E63LISTJ0pmKPtzyAHBIB3QSTSO/Y071ycHh0n9W3F337u3B6+0kLPhIIbQ5UKhEhFPiqB821AD2A/RbZ8sOxvWuldP06RUOfdN6cDOutLXkSNYEgctnMcJr4K3XT7C/1vITevftxRsvctVfUhB5njs04V8BVDsXngKphp8ef+mXvvg0VxfObQyakL/FmBWvKWxm8cDiM3Fi6d/fIgdWEYeTpf78RPUPdeP+C1Rs+URN4hNkFCGFAKh6Yz0GlhmIo8cQ9/XvXF6wSahNhCDlz6npYAKfLyVULQzNfq5UQQqI2kcDg4GDXtl27VxGd5Z/43zdid1cPLuhcce6VweC98ErgXAelPhRfAGoNtit44A+Fgb/h+TSijge/VIKuM0gf8IgFLgl8OUG02rwE6nAEmAkuLXBwUJeDexU4vgvN18EJB7VdUEYgVQUu8SEEAEYhhAQkhWLb9htKo6pFIk3TZiBNkxACSNSmsL9/37YHHnv8lEQgUtn1wO3oH+zD3y1b8+6PGPrtsIsQRIek7oSHUWvwkq7cdW3PtncVqI85He0w8g5gMBBGQSQQIz4q2SxcZ8IWhsN1CMfrQCWDQj0wKLAlg17Ios6qQNc1GEQF9ThcSkAZQQIChiQABajQJsqa06X0XdeFYRhoaWnB6Ojoq3rzpifVFOFICPt2737u5j/evaZGZ+6Bhx7HvgN9+NSqVRed5wduhp2HS3Wo0ociGGAG8Ay831/33LYLHLeIjveej4a5HciMDkOhysRLJUADoeC2BeH7oIwiXBNDyXZQLI0jQhQIIuFAoAatiE+SFAISkhBYUoIBaJis5ElJACImAJyu+jHG4LouEokEFEXB9u3bEQwGp53rEkKgMhVUI/fu3L3z7WMDg/Dz++EdyOPDC9dcdh4v3wgnCy7DUEgehDNAD+J56f/ijj37PqZ5DiJrToOl6IZfyBJZLltC+bOJ9wBQykBVdcL8eC7cYh7CsuBNvngKQAB4pUjRg+6BI/xt2g/teR4URUEoFIIQYhoASlBCYRgmxsZG7yj54u0BhWJ8+zPozY7hghOXXfnuILkRJQaPqgAbB/UNQKvBJu7ccFNPz8cSiVo0vuMcIB7B+uUrfhkMhM4rl8rwPf+Qy3NdlIpFaIzB0HVwId6wxaYz4S1930dTUxMMw4DvHyOzQRgCwQD6+/tuygvxnj0bn8LDP7kWqgpc2bby6+fo7HrYGTgaAeMcjBNAD+ExUf7BTTt3XJmoq4NxzlkQNTV4x7p1//m209Z/yC5VBnzPh+TikMtzXKhMQTQSBaV0Rqi1GQljfN9HIBBALBZDX1/fUdlCKSWYwhANxfHijq2/OmBXLg+MFnHfv34XOc/FlSvW/ugMTf0MykWA6mDgoPAAZuJO6n/69h0vXTdvVgtS574dQ4U8zl65+rcnnXTSB0fTaXDBOaX0EG2oUmnRaBSMMTjOzATWMxZ/+L6PaDQKVVVft8tASglFURCLxrBly8Z//VPXnsu9fb3Y9KNrUaYUn121/qdnKIHPwPYhiQpBAcWXgBrC3aZyxU9ffv66UDKFhR+8FJ6UWNu59PYTFi36YC6XgyePbEYYY2CMgXM+U489c4G07/uoqalBNBpFJpOBYRiHqEhVIoQQUFUVsVgMjz766D9t3v7iPySkwO4/3ouKoeFzS07+95MJuxzlCoAKQEOgUgAqxS1SXv7iePFXc+JxaIuXQRCKZScsvKd+Tsvb87kcCCHQjiD9hBC4rjtNO32cMhHOOWKxGMbHx8E5f1WALaWEoqpIJGK49977vv7Y5me/HVMEnn/8fjTpCVx5QufNi7h1kXTLANUAYoBIDoDhN6518dOV8u/a29qRrROAlLRjwbxH4/HYOiufByQFYfSI5QTXdeH7/owXtGa03dP3fZimiUgkgld2PAghoRuKFgkZuOOuh794+0OPfjvoWdj/1GMQuomPLzzpnkWefxHsMkAVSEpAQAHDxB+d4nlPDvf/ru2ERcjEaxE2A8ZFF7znuUSydl2xWIQUr0+vvFkdGNMGsPomOedTNqWa3sViMaiqOmXrGGPQDQ3CR7hnR+91G3fs+YFRHkdh5/NQgya5pmPNxg7ffTucDHxNhxAM1J9ocPyZVdzw65GeP57YuQJsTjtMSqOXXnzR83PnzFk6ns2DgoJPSjo5jFclhMD3/UM04pXf+Q2p8HRceVUlOOdQFCVBKZWu62arX840TdTW1qKnpweapoFSCse1ycu7ej7ptZnDs0kF3f3diARD2hUtC55u9/zlXI4Dmg7FVQBmo6QR8bjUV/Xmera2rFmH8ImrUS4WUu951zufqa1Nto6NjU0BQqYiysM7LMdxIIQA5xyVSgWhUCjEGCOlUmmcMTb1sqcFoGVZx7zJ8zwwxnDmmWd+fenSpde4rov+/v4renp6flp947FoFIlEAoO5LIJGAIJpUmha356nHsDYpgfRFE8FPpls2jTLd5fAcwHFgEcIGHMAJVK4nXun7B8f2rlgzZkIr1yJ4shIyxnr122JRWOpXDb7mgQGmViglIJzPpHlqCpc18X8+fOv7OzsvF5KiWg0+qnNmzdfzxibtiQqK1asOOZNlmUhlUr9zdq1a6+xLAvBYBDt7e03DA8Pb7Jt+wVFUUAIwdwFC+A88ADSPV3wa0LoOtCFge69WNHQmriqtnlj3HMXcGkDKgPzJBgjqARCxe8N9a3dmx/eWdPSDiWRxGxNn7dg+fLN4Zqa+EQT5etaHlkN8E3TRCwWQ6lUQiqVWrpmzZrrq9J2xhlnXEcp3ZrJZDZPt8lKWbVq1bSyD0VR5hWLxSlbYpommpublw8NDb1gGDrUcA34WAb0hRdg8xLGTYaCP44T6ha0X5Vo3xj3xlK+JIBkUHwGqBI5RRu8Y/DAKVv7d/QnVq+BrSYQ8N3OjvnznnQ9L1gqlUAoeV27PD4+LgqFAgqFAtasWYOlS5cik8kgHA6vdRxnqv+6pqYGsVhs3sjIyOZp28AHH3zwmDdVKhU0NjYOrlu3bora0jQN2Wy2vqurC9FoFCRSg/T998MujUOflcRet4jVqYWt36xt2xp0rIhHJBQBEEkAlWNUD/bcuGfPascaT5/9rotRjNUhquunv+2csx91PW+qm/8oWCI/kUiMVLMh13XR29uLfD6Ptra2OlVV4XkeCCEolUrQdT3T0dExbSZJqVQqx7ypXC6jUqnsPdjwcs5RW1u7KJlMIhyNgns+cuk0hGFg2LFwcqRhztejrc8HvUpECh8KTBDCAQoMKWznD7u7Vstypbjq0ktQrKtH1LbPO/309XcrioJisXhUpK2maUin0/tLpdKApmlTjFFvby/K5TJaW1sXV4Gq5sLd3d17q4H/tACsra095k2xWAyEkD3j4+NjkUgkWfVysVj01Hw2q4x6rk/39MIdTmPUkFgWiC/7UrJ5Y0C6JhcClFBAWAAzMGwGN1390vYNdqngvPczn4adrEO0Urlw5enrbyWEHDV4UkoEAgGk0+lHenp6EAwGoes6WlpaYBgGdF0niURiWTUeVBQFhUKh33GcrkAgMH0JnI73YYzB87yK53nbKKVnSglQRmA7lpWxJfzxHOq6ujFCOBZHkqd9rnn2EyqXEJ4LUAVEACAULyr0kf8Y6TuTcgfv+cIXEGprg5LJXLL45JN/LaWEZVlHXS6oetxdu3bdUtWMYDBYBQrJZHJNNBptrZIIqqqiWCy+UCgUhGma086Pp6XCwES/8+Dg4KNNTU1napoPz/W2PfTY06fmRjP+nO6dSA+PYuncuRs+3pB4RPUt+L4CwjQw7gOajt2GftcP9770rt6+Plz44Y+jbeVK5IaGPta2cOHPhRDH1L0vhEAymURXV9fDL7744sO6rqNUKiEYDCKTySCTyWD+/PlvMwwDjuNM3TedTj9cnZ6fdhxYKBSmtbFUKmFgYOCBlStX/i/Lsl7QgqHlREpR278Tfi6LZc3N7/zb+oY/gLuQDiAVCUI9gGp4Vohb/jM/eFENo+hYvR5WIAhi259qaWn5sRAC/qSRP9qIIBAIwPM8uXnz5s+Gw2EEAgEYhoFQKATbthGNRpWWlpZLqi+FUopKpQLXdR9IpVLQNG36mcicOXOmTaQKzl/esX37dxvnzP350L59YtdDfwAsGx+Yu+gDbwsrvwMvQfgaoDGo8AFi4sli8d9+dmD3x5Nt89G09myMWhbmNjR8ozaR+FbFso4p4ZdSQtd1hMNh3HrrrX/7wgsv7IhGo/A8D0uWLEEgEMDo6Ciam5svq62tba32ZpumiaGhoYdHRkZ2BgIBTLewBgDKrp69oIRAThZSGAgkCCSR4L4LKSaISDKVMhEAE7/L5/Plk0Phr9CxEfzbN76K4WIeH11y8v94W7DmFygV4REOSnwwQgBB8YKnfO+X2f4vI6Bh9tI1sCnDuatW3tq5rPPCTCY7lTUcbS5eVb2HHnro8hdffPE3mqbBcRzU1dWhUChg//79MAyDNjc3f7HqPKqHXgwMDNw43Rm7Q1V4sB9ysvrMKIEHCSolqARoIAQwhoN7Xw9+PI8A493dSP/hLiRqQnjfvBM/dSHnP8Z4BiAGmNRAwQBFYmPB/ceN1Lm61rahnrQEsxctRu7AAAil47lcHqZpwvf9KdbklaTswcBWgcvn83v279//3j179uwIhULIZDJIJBIQQmDfvn3I5/M499xzr6mtrZ2Xy+UgpUQoFEI6nd79/PPP3ySEeMPMtFLeuR2O4wKqRMLQMUIdBDwXEZthXrAehsZQkiqyfgUWpXCpD4dLSBDEVRU7Hn8MqwO1uHxN5xdXpAvfg1eBq6qgwgdTBKAoeG6k9NUtI5nvxJNxDGezEJUyDF0HYwx/+tOfPpLL5f4hEol8IRaLXRoOh1OMsUOIzyodP8n28MHBwU0jIyPXWZZ1K2MMhmGAEIK6ujoYhgFFUeD7PpYvX37aySef/LVisXiI1N53333/NDQ0hGQyeew1nFeFMZSCUDpBbFEKQhkIm7gCFQu6I+ERA9QtQSoUgnrwuQSRBI7PkTdMnJRq+FpnevTbcDkkCYJIHwoEoKi4byTzpV07B74fW9QOzG9DqjkK2tgIa7wAxhhCoRB83x/esWPHF0Oh0FeSyWS77/uL2traJsuzEpRSpNNpUSgU+lOp1HM7d+7Ml0olzJ49G5qmQQiBOXPmTLA+kxIVjUYTGzZsuIVzPiXViUQC3d3djz7zzDP/qaoqphuBHMpIT4IGKgFCQSYvEApfVcAUAg4FEirAKAglUChQ8H2oCnBZc/s3O4PkargSnmqCShuqFIAaxs0cn3+2d/DalrmNYB+6AEY4hDYf4JUKhvp6AUJhGAaCwSCCwSBUVeXlcnl3qVTa3draOjVxyRhDqVSqDhbCMAwwxqAoCtLpNHRdR319PQYGBqp8pLZ06dJHAoFAQ6FQAKV0qlazdevWT8diMcTj8WOeEJ0RSp+CoOA7KEmGz9bPu3F1TfAyODYkFFDhgREKKDp+X7Y/eY+V/9mSFSch3TYHtFhE0vUhyUTa57geyuUyIpEI8vk8CCFgjCEYDML3faiqioP5xXA4jFKpBNM0QSmFbdvo6+tDf38/mpqaAACFQgGGYdScdtppT+m6fmJ1/JVSikQigTvvvPPjzz333I5UKoV8Pn/8ayKUEOR9F46U+FLz/FtXh40LYZXgURVU4WA+B4wYbs4Of+ixvr6bFq5fB6+lCart1C+b33FDLp+/tq+v78lJaYOqqrAsC3v37kUkEoGqqqgae8/zIISAoigYGxvD2NgYfN/Hyy+/jKrxtywLjDFIKTE2NobZs2d3Ll68+EHTNBMHp4CRSATbtm37yebNm/9NSonx8fEZG7dQjkXysr4Dn1J8o7H97s6wfh4qFjymgisOVF8F9JD8QXbozI09XY+uOOFEGG1zIT3XPPess+6d29a2NJvNvocQ8rkDBw78KJ/Pg1KKahpV7fTq6+tDKpVCV1cX0uk0mpqa0NfXh0KhgNbWVgwNDaGhoQGmacK2beRyOcRiMSxatOib7e3tV1NKUZU8QghisRi6urp+f9ttt11FKUV9ff2MqO5UWts5uwWcC4ABpsJQIhyq4NB9ijqiQ6EEPlEwaI+DUx1XzFl49wqNnSc9C5KaIFRAkxQgYf799MD6ewe7n1jYcSKCK1ciGgzNP3vDhmfqUqkF6XQaiqKgsbHx3EQi8SHXdbvy+XxPoVCYIj6DwSDK5TICgQAIISgUCggEArAs68890pMzxplMBgDQ0dHxgbVr1z4we/bsdzqOA9u2p9Q2Fouhu7v7vzZu3Pg+y7KgKDPfDvk6dySgALKeA6aZ5IsNc5+YpymnTpzio4JIB4xrKDM1d1Ouf822TP+uVCSO4KJFGBsdRefChX/b1tbW2t/fP1UK8DwPkUhk3oYNG+4bHh7e09vb+4vBwcHbKpVKb6lUQj4/ERNWqSghBGzbRj6fRzQaBecckUhkfktLy0WNjY0fbWxsnOW6Lg5OSauOaePGjT/Zvn37VfF4HKZpzojXfRVCl5++Fq7jAapETNdwgLoI+C5qbIbFLAJLOHBpWDm/teWJ+Qo/BU4ZkoYAOCDgyBNz4AejA2std7yP+T7GIgkklyyDV6mgvb0ds2bNumrJkiXXGYaB8fHxKfUhhCAQCEDTNJRKJWQymZ2WZT01PDy8jzG2hxBSGB8fl9FolLquGwUwP5VKzQkGg6fHYrE5oVAIjuMcAgqldMrZ7Nix45Innnjit/F4HI2Njdi7dy/eDClUjpwqAXnXRU1QC1+SbHo2QUgHXBuCMhBWBhE6sjTQ82t3bNU+O5dZrAWR4xyScxApoU5W47Zt23Z9JpO5f8mSJbfMmjWr0/d9lMtlSClRqVRQLpfBGEN9ff1CSunCjo4O2LY9VYbknEPTNGiaNuVYXNc9xItSShEKhSClxL59+x5/6aWXPpjJZIYikchUnPhmLeXVSjsxhzbiOFhoxuOXNjZvDir+POm4IDBBaRmQGtI08PK3RrtPGXDyxSZFg0LIIdOO1fgtFouhUqnsue+++5Y1NzdfvHTp0n+pq6urr/J9vu+jeuzJ4WrOwMSpRq+sHkopoWkadF2HEAIDAwO9fX19V/T3999bbSIaGRnBm72Ug3NcAQmLu7C5wImRZPsl9S2bg5QmhONDsonuKKKFMWC5Pd8d3XFarz1eJITBUye89OHYkmr+WalUsGvXrpsHBgZubmhouHDBggVfqK2tXVVTUzMFEuf8kLOzDteQVK0zVym10dHRh7q7u3+we/fu++PxOCKRCFzXxfEaopwCUEBCJxSeBDprGluvrp33pI5SQvgChOqgwgU0ijFHPPftga51A36+EtMC8Ig6yc/I125lm5RGIQS2bdt22/Dw8G319fWzYrHYhZFIZH0ikVhhGEaToiiHZWUURYFlWchkMvt939+UyWQe7evru933/THHccAYQzgcnvq847WU6sOXuQ9HCHwwdcL8d5PgZt0rxXzqgkoFhFiAHsXLlcrG7x7Ycbrlcd6oB2GDHNO0Y1WKotEoAoEAKpXKQG9v77W6rl/b1NTEFEWJCiGWr169+hZKafRgml3TNPT393/72Wef/XowGITnebBtG/F4HNVK2/EE7lW9MWPcw1w9svxSNbC1hjgxAQYmdFDhAWoA211+578P9Z02xG2uasobbusihEDTNEQiEQSDQZRKJc4Yy6RSqQcA5F4JhuM4iMfjpWXLliESiUzlt8drYPyIADq+QI2UuKR+zplX1DZvJZ4d5tQDZ2Li5IpADV4quHf/Ys/ud0N4qNeMSXs5AzHUZBvIZNcA2tvb0dDQQF3XZUeofZBEIoETTjgBdXV1sG17qnZyMOV1XAHskzbWRJve84l480OGtOExFYTrULkLKAyPW95vfjzY9U7N9xBRX/sUn9cC6uCR/0qlMnWEsRACc+fOxeLFi8EYQ7lcPiIIVc8tpcTChQuxZMkS6LqOQqGAfD4/5TyqeXb1PtXY7804D0x5f7Ll1PdH6n8Pbxw288F8HRQc0EN4Kpv9zfVjA5cmKUVE0yYO3yJHasWboP25N5E9iEl7V/WoVQ9LKUVTUxMUZWKGY9WqVairq0OpVDpqSr8aD86ZMwe1tbXo7e1FZ2cnxsbGDgldqgNAlUoFhJCpVrsZdSLrg7Wf0qgFTyhQfQIGBwhEcFeu9MMbB/v/PqZRRBQVwpNH7mIkk4d62RbUWC10MwDu2BgbGwMAZLNZlEolxONx6LqOdevWoa6uDul0Gq7rTkldVRWPRqKFEMjn8zAMA2eddRaSySRuv/12DAwMoFKpTI1fVCoVlEolMMYQCARm3guPe1zCVKE6LqAIQI9g03D5H/8rO3B1iAEhRYU4ipozLxYQbJoFvXM1NEYhpIaDj3g6eKbOcZypovfIyMhUinUsBaUqQMlkElJKpNNpeJ4HSumUyh5sG98sD023Dg98r+iiDEMACOH+kdzn/2Po5atrFWUCvNf64MnnleMF2LUp6CvXQVdV+LY9ZYsURYGiKFO9KNWrml3E43HE4/GpjOT1QKw2izPG0NjYCE3T8Frjam+2Y6E7KmN/unZ/19zymPKZhw4Mr/z98L5rg4whwBSI18cOfjEPtb4RcvVpcCUgrMpEjeUo40Lf91Gl2F8PxIMlr7Gxcapp8i+5lICqwXPsUc9yflxyKzAZgUkYxGuOKE+E304xj5r6ViRXb5j4b6sMkGOrs1bZ52g0CiklstnsYVO5ScmTjDE0NDTg4Da1vyiABIDOFFBGoTEG5lMIKY/YfV79uk4xj5rGZjStOQsUEp5Vft3OUSklyuUyOOd4ZVst5xyJRAKUUul5nnylzfJ9H4ZhyCrDcnAHQ9XDWpYF27bftLOmZ6SoBELgl4uIN85G6rSzAUngVUpgTHld2+U4DlasWPGVeDx+VaFQsDnn3iuyDTF5OFn94Yx+MBj8HICLS6WSfjD4hBDi+35gyZIlQ57nfbS7u3v78ToX8dgAJAC3KlCjCUQ6T4VVseFZpaPpWUY+n8f8+fM/esopp/xzJpM5YsfpkYz+ZFE95Xle6nD3dxwHzc3NzYZh3L13796OQqFg67r+FgNQAlIIhNo6IBUFdjE7Cd7rxzme52HWrFlrqg873YD2tdQzm80iHo+3JBKJE7u6ura+GTWQNwSg7zowowkkGlqgU0AJhY96L+ccAwMD93V2dn44Eom84ZaKw0loIBBAb2/vy4VCYWsikZiqLb+FbKAAVXQ4rguf25Dy6CkFRVGwZcuWWyil4cWLF3/GcRwp5cwc5kImdD7IGNv12GOPfXZ4eBixWGzGX9Lh1v8dAHpFAROdoOQNAAAAAElFTkSuQmCC"/></div><div>To Unmute</div></div></div><style>#opentok-container{position:fixed;left:40px;bottom:40px;height:198px;width:auto;border-radius:35px;display:flex;flex-direction:row;z-index:999;align-items:flex-end}.subscribers{overflow:hidden;position:relative;border-radius:35px;margin-right:20px;width:264px;height:198px;-webkit-box-shadow:0 30px 30px 0 rgba(0,0,0,.3);-moz-box-shadow:0 30px 30px 0 rgba(0,0,0,.3);box-shadow:0 30px 30px 0 rgba(0,0,0,.3);display:none}.subscribers:before{position:absolute;width:100%;height:35px;top:-35px}.subscribers>.sub-title{position:absolute;top:-35px;width:100%;background-color:rgba(0,0,0,.4);display:flex;flex-direction:row;align-items:center;align-content:center;justify-content:center;z-index:999;height:35px;border-radius:35px 35px 0 0;opacity:0;transition-property:top,bottom opacity,top;transition-duration:.5s;transition-timing-function:ease-out}.subscribers>.sub-title>.sub-title-text{color:#fff;font-weight:400;font-size:12px;margin-right:10px}.subscribers>.sub-title>.sub-title-icon a{color:#00a8ff;font-weight:700;font-size:18px;text-decoration:none}.subscribers>.sub-control-button{position:absolute;bottom:-35px;width:100%;background-color:rgba(0,0,0,.4);display:flex;flex-direction:row;align-items:center;align-content:center;justify-content:center;z-index:999;height:35px;border-radius:0 0 35px 35px;opacity:0;transition-property:top,bottom opacity,bottom;transition-duration:.5s;transition-timing-function:ease-out;padding:0}.subscribers>.sub-control-button>div{background-color:transparent;padding-left:10px;padding-right:10px;}.subscribers>.sub-control-button button{cursor:pointer;background-color:transparent}.subscribers>.sub-control-button button:hover{background-color:transparent}.subscribers>.sub-control-button svg{width:24px;height:24px}.subscribers:hover>.sub-title{opacity:1;top:0}.subscribers:hover>.sub-control-button{opacity:1;bottom:0}.OT_publisher{border-radius:20px}.publisher{-webkit-box-shadow:0 30px 30px 0 rgba(0,0,0,.3);-moz-box-shadow:0 30px 30px 0 rgba(0,0,0,.3);box-shadow:0 30px 30px 0 rgba(0,0,0,.3);overflow:hidden;position:relative;border-radius:20px;width:132px;height:99px}.publisher>.pub-title{position:absolute;top:-35px;width:100%;background-color:rgba(0,0,0,.4);display:flex;flex-direction:row;align-items:center;align-content:center;justify-content:center;z-index:999;height:35px;border-radius:20px 20px 0 0;opacity:0;transition-property:top,bottom opacity,top;transition-duration:.5s;transition-timing-function:ease-out}.publisher>.pub-title>.pub-title-text{color:#fff;font-weight:400;font-size:12px;margin-right:8px}.publisher>.pub-title>.pub-title-icon a{color:#00a8ff;font-weight:700;font-size:12px;text-decoration:none}.publisher>.pub-control-button{position:absolute;bottom:-35px;width:100%;background-color:rgba(0,0,0,.4);display:flex;flex-direction:row;align-items:center;align-content:center;justify-content:center;z-index:999;height:35px;border-radius:0 0 20px 20px;opacity:0;transition-property:top,bottom opacity,bottom;transition-duration:.5s;transition-timing-function:ease-out;padding:0}.publisher>.pub-control-button>div{background-color:transparent;padding:5px;margin:0}.publisher>.pub-control-button button{cursor:pointer;background-color:transparent}.publisher>.pub-control-button button:hover{background-color:transparent}.publisher>.pub-control-button>div svg{width:16px;height:16px}.publisher:before{position:absolute;width:100%;height:35px;top:-35px}.publisher:hover>.pub-title{opacity:1;top:0}.publisher:hover>.pub-control-button{opacity:1;bottom:0}.pub-control-button svg{width:24px;height:24px}#median-ask-user{font-family:Arial!important;text-align:center;width:132px;height:99px;border-radius:10px;cursor:pointer;background:#000;font-size:12px;color:#fff;flex-direction:column;justify-content: center;align-items: center;-webkit-box-shadow:0 30px 30px 0 rgba(0,0,0,.3);-moz-box-shadow:0 30px 30px 0 rgba(0,0,0,.3);box-shadow:0 30px 30px 0 rgba(0,0,0,.3);}#median-ask-user img{height:40px;margin-bottom:5px;margin-top:5px}@media only screen and (max-width:480px){#opentok-container{position:fixed;left:20px;bottom:20px;height:99px;width:calc(100% - 40px);border-radius:20px;display:flex;flex-direction:row;justify-content:space-between;z-index:999;align-items:flex-end}.subscribers{overflow:hidden;position:relative;border-radius:20px;margin-right:20px;width:132px;height:99px;-webkit-box-shadow:0 30px 30px 0 rgba(0,0,0,.3);-moz-box-shadow:0 30px 30px 0 rgba(0,0,0,.3);box-shadow:0 30px 30px 0 rgba(0,0,0,.3);display:none}.subscribers>.sub-title{border-radius:20px 20px 0 0}.subscribers>.sub-title>.sub-title-text{font-size:1px;color:#fff !important;}.subscribers>.sub-title>.sub-title-icon a{font-size:11px}.subscribers>.sub-control-button{border-radius:0 0 20px 20px}.subscribers>.sub-control-button>div{padding:5px}.subscribers>.sub-control-button svg{width:16px;height:16px}#median-ask-user{left:20px;bottom:20px}}.subscribers .OT_edge-bar-item { display: none !important; }</style>')},t.a=o},function(e,t,n){"use strict";r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};var r,i=(o.prototype.addCallback=function(e){this.callbacks.push(e)},o);function o(e){this.name=e,this.callbacks=[]}!function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(c,a=i);var a,s=c;function c(){var e=a.call(this)||this;return e.callbacks=[],e}d.prototype.get=function(e){return this.events[e]||new s},d.prototype.set=function(e,t){this.events[e]=t},d.prototype.delete=function(e){delete this.events[e]};var u=d;function d(){this.events={}}function l(){this.eventStore=new u}l.prototype.addEventListener=function(e,t){var n=this.eventStore.get(e);(n=n||new i(e)).addCallback(t),this.eventStore.set(e,n)},l.prototype.dispatchEvent=function(e,t){for(var n=0,r=this.eventStore.get(e).callbacks;n<r.length;n++)(0,r[n])(t)},l.prototype.clearEvent=function(e){this.eventStore.delete(e)},t.a=l},function(e,t,n){"use strict";var r=n(9);var i=n(0);function o(e,t,n,r,i,o,a,s){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=null),void 0===o&&(o=!1),void 0===a&&(a=null),void 0===s&&(s=null),this.node=e,this.childList=t,this.attributes=n,this.characterData=r,this.oldParentNode=i,this.added=o,this.attributeOldValues=a,this.characterDataOldValue=s,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}o.prototype.getAttributeOldValue=function(e){if(this.attributeOldValues)return this.isCaseInsensitive&&(e=e.toLowerCase()),this.attributeOldValues[e]},o.prototype.getAttributeNamesMutated=function(){var e,t=[];if(!this.attributeOldValues)return t;for(e in this.attributeOldValues)t.push(e);return t},o.prototype.attributeMutated=function(e,t){this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},e in this.attributeOldValues||(this.attributeOldValues[e]=t)},o.prototype.characterDataMutated=function(e){this.characterData||(this.characterData=!0,this.characterDataOldValue=e)},o.prototype.removedFromParent=function(e){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=e},o.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},o.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode};var a,s,c,u=o,d=((d=a=a||{})[d.STAYED_OUT=0]="STAYED_OUT",d[d.ENTERED=1]="ENTERED",d[d.STAYED_IN=2]="STAYED_IN",d[d.REPARENTED=3]="REPARENTED",d[d.REORDERED=4]="REORDERED",d[d.EXITED=5]="EXITED",s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function l(e,t){var n=c.call(this)||this;n.rootNode=e,n.reachableCache=void 0,n.wasReachableCache=void 0,n.anyParentsChanged=!1,n.anyAttributesChanged=!1,n.anyCharacterDataChanged=!1;for(var r=0;r<t.length;r++){var i=t[r];switch(i.type){case"childList":n.anyParentsChanged=!0;for(var o=0;o<i.removedNodes.length;o++){var a=i.removedNodes[o];n.getChange(a).removedFromParent(i.target)}for(o=0;o<i.addedNodes.length;o++)a=i.addedNodes[o],n.getChange(a).insertedIntoParent();break;case"attributes":n.anyAttributesChanged=!0,n.getChange(i.target).attributeMutated(i.attributeName,i.oldValue);break;case"characterData":n.anyCharacterDataChanged=!0,n.getChange(i.target).characterDataMutated(i.oldValue)}}return n}d(l,c=i.a),l.prototype.getChange=function(e){var t=this.get(e);return t||(t=new u(e),this.set(e,t)),t},l.prototype.getOldParent=function(e){var t=this.get(e);return t?t.getOldParent():e.parentNode},l.prototype.getIsReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.reachableCache=this.reachableCache||new i.a;var t=this.reachableCache.get(e);return void 0===t&&(t=this.getIsReachable(e.parentNode),this.reachableCache.set(e,t)),t},l.prototype.getWasReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.wasReachableCache=this.wasReachableCache||new i.a;var t=this.wasReachableCache.get(e);return void 0===t&&(t=this.getWasReachable(this.getOldParent(e)),this.wasReachableCache.set(e,t)),t},l.prototype.reachabilityChange=function(e){return this.getIsReachable(e)?this.getWasReachable(e)?a.STAYED_IN:a.ENTERED:this.getWasReachable(e)?a.EXITED:a.STAYED_OUT};var f=l,p=function(){this.added=new i.a,this.removed=new i.a,this.maybeMoved=new i.a,this.oldPrevious=new i.a,this.moved=void 0};function h(e,t,n,r,o){this.rootNode=e,this.mutations=t,this.selectors=n,this.calcReordered=r,this.calcOldPreviousSibling=o,this.treeChanges=new f(e,t),this.entered=[],this.exited=[],this.stayedIn=new i.a,this.visited=new i.a,this.childListChangeMap=void 0,this.characterDataOnly=void 0,this.matchCache=void 0,this.processMutations()}h.prototype.processMutations=function(){if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(var e=this.treeChanges.keys(),t=0;t<e.length;t++)this.visitNode(e[t],void 0)},h.prototype.visitNode=function(e,t){if(!this.visited.has(e)){this.visited.set(e,!0);var n=this.treeChanges.get(e),r=t;if((r=n&&n.childList||void 0===r?this.treeChanges.reachabilityChange(e):r)!==a.STAYED_OUT&&(this.matchabilityChange(e),r===a.ENTERED?this.entered.push(e):r===a.EXITED?(this.exited.push(e),this.ensureHasOldPreviousSiblingIfNeeded(e)):r===a.STAYED_IN&&(t=a.STAYED_IN,n&&n.childList&&(n.oldParentNode!==e.parentNode?(t=a.REPARENTED,this.ensureHasOldPreviousSiblingIfNeeded(e)):this.calcReordered&&this.wasReordered(e)&&(t=a.REORDERED)),this.stayedIn.set(e,t)),r!==a.STAYED_IN))for(var i=e.firstChild;i;i=i.nextSibling)this.visitNode(i,r)}},h.prototype.ensureHasOldPreviousSiblingIfNeeded=function(e){var t,n;this.calcOldPreviousSibling&&(this.processChildlistChanges(),t=e.parentNode,(n=this.treeChanges.get(e))&&n.oldParentNode&&(t=n.oldParentNode),(n=this.childListChangeMap.get(t))||(n=new p,this.childListChangeMap.set(t,n)),n.oldPrevious.has(e)||n.oldPrevious.set(e,e.previousSibling))},h.prototype.getChanged=function(e,t,n){this.selectors=t,this.characterDataOnly=n;for(var r=0;r<this.entered.length;r++){var i=this.entered[r];(c=this.matchabilityChange(i))!==a.ENTERED&&c!==a.STAYED_IN||e.added.push(i)}var o=this.stayedIn.keys();for(r=0;r<o.length;r++){var s;i=o[r];(c=this.matchabilityChange(i))===a.ENTERED?e.added.push(i):c===a.EXITED?e.removed.push(i):c===a.STAYED_IN&&(e.reparented||e.reordered)&&(s=this.stayedIn.get(i),e.reparented&&s===a.REPARENTED?e.reparented.push(i):e.reordered&&s===a.REORDERED&&e.reordered.push(i))}for(r=0;r<this.exited.length;r++){var c;i=this.exited[r];(c=this.matchabilityChange(i))!==a.EXITED&&c!==a.STAYED_IN||e.removed.push(i)}},h.prototype.getOldParentNode=function(e){var t=this.treeChanges.get(e);if(t&&t.childList)return t.oldParentNode||null;if((t=this.treeChanges.reachabilityChange(e))===a.STAYED_OUT||t===a.ENTERED)throw Error("getOldParentNode requested on invalid node.");return e.parentNode},h.prototype.getOldPreviousSibling=function(e){var t,n=e.parentNode;if(t=((t=this.treeChanges.get(e))&&t.oldParentNode&&(n=t.oldParentNode),this.childListChangeMap.get(n)))return t.oldPrevious.get(e);throw Error("getOldPreviousSibling requested on invalid node.")},h.prototype.getOldAttribute=function(e,t){if(!(e=this.treeChanges.get(e))||!e.attributes)throw Error("getOldAttribute requested on invalid node.");if(void 0===(e=e.getAttributeOldValue(t)))throw Error("getOldAttribute requested for unchanged attribute name.");return e},h.prototype.attributeChangedNodes=function(){if(!this.treeChanges.anyAttributesChanged)return{};for(var e={},t=this.treeChanges.keys(),n=0;n<t.length;n++){var r=t[n],i=this.treeChanges.get(r);if(i.attributes&&a.STAYED_IN===this.treeChanges.reachabilityChange(r)&&a.STAYED_IN===this.matchabilityChange(r))for(var o=r,s=i.getAttributeNamesMutated(),c=0;c<s.length;c++){var u=s[c];i.getAttributeOldValue(u)!==o.getAttribute(u)&&(e[u]=e[u]||[],e[u].push(o))}}return e},h.prototype.getOldCharacterData=function(e){if((e=this.treeChanges.get(e))&&e.characterData)return e.characterDataOldValue;throw Error("getOldCharacterData requested on invalid node.")},h.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var e=this.treeChanges.keys(),t=[],n=0;n<e.length;n++){var r,i=e[n];a.STAYED_IN===this.treeChanges.reachabilityChange(i)&&(r=this.treeChanges.get(i)).characterData&&i.textContent!==r.characterDataOldValue&&t.push(i)}return t},h.prototype.computeMatchabilityChange=function(e,t){this.matchCache||(this.matchCache=[]),this.matchCache[e.uid]||(this.matchCache[e.uid]=new i.a);var n=this.matchCache[e.uid],r=n.get(t);return void 0===r&&(r=e.matchabilityChange(t,this.treeChanges.get(t)),n.set(t,r)),r},h.prototype.matchabilityChange=function(e){var t=this;if(this.characterDataOnly)switch(e.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return a.STAYED_IN;default:return a.STAYED_OUT}if(!this.selectors)return a.STAYED_IN;if(e.nodeType!==Node.ELEMENT_NODE)return a.STAYED_OUT;for(var n=e,r=this.selectors.map((function(e){return t.computeMatchabilityChange(e,n)})),i=a.STAYED_OUT,o=0;i!==a.STAYED_IN&&o<r.length;){switch(r[o]){case a.STAYED_IN:i=a.STAYED_IN;break;case a.ENTERED:i=i===a.EXITED?a.STAYED_IN:a.ENTERED;break;case a.EXITED:i=i===a.ENTERED?a.STAYED_IN:a.EXITED}o++}return i},h.prototype.getChildlistChange=function(e){var t=this.childListChangeMap.get(e);return t||(t=new p,this.childListChangeMap.set(e,t)),t},h.prototype.recordOldPrevious=function(e,t,n){!t||e.oldPrevious.has(t)||e.added.has(t)||e.maybeMoved.has(t)||n&&(e.added.has(n)||e.maybeMoved.has(n))||e.oldPrevious.set(t,n)},h.prototype.processChildlistChanges=function(){if(!this.childListChangeMap){this.childListChangeMap=new i.a;for(var e=0;e<this.mutations.length;e++){var t=this.mutations[e];if("childList"===t.type&&(this.treeChanges.reachabilityChange(t.target)===a.STAYED_IN||this.calcOldPreviousSibling)){for(var n=this.getChildlistChange(t.target),r=t.previousSibling,o=0;o<t.removedNodes.length;o++){var s=t.removedNodes[o];this.recordOldPrevious(n,s,r),n.added.has(s)?n.added.delete(s):(n.removed.set(s,!0),n.maybeMoved.delete(s)),r=s}for(this.recordOldPrevious(n,t.nextSibling,r),o=0;o<t.addedNodes.length;o++)s=t.addedNodes[o],n.removed.has(s)?(n.removed.delete(s),n.maybeMoved.set(s,!0)):n.added.set(s,!0)}}}},h.prototype.wasReordered=function(e){if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var t=e.parentNode,n=this.treeChanges.get(e),r=(n&&n.oldParentNode&&(t=n.oldParentNode),this.childListChangeMap.get(t));if(!r)return!1;if(r.moved)return r.moved.get(e);r.moved=new i.a;var o=new i.a;var a=new i.a,s=new i.a;return r.maybeMoved.keys().forEach((function e(t){if(!t)return!1;if(!r.maybeMoved.has(t))return!1;var n=r.moved.get(t);return void 0!==n||(n=!!o.has(t)||(o.set(t,!0),function(t){if(s.has(t))return s.get(t);for(var n=t.previousSibling;n&&(r.added.has(n)||e(n));)n=n.previousSibling;return s.set(t,n),n}(t)!==function t(n){var i=a.get(n);if(void 0!==i)return i;for(i=r.oldPrevious.get(n);i&&(r.removed.has(i)||e(i));)i=t(i);return void 0===i&&(i=n.previousSibling),a.set(n,i),i}(t)),o.has(t)?(o.delete(t),r.moved.set(t,n)):n=r.moved.get(t)),n})),r.moved.get(e)};var v=h,m=n(1);if(void 0===MutationObserver)throw Error("Median does not support this browser type.");var g=["added","removed","reordered","reparented","characterDataChanged","attributeChanged"];function b(e){var t=this;this.connected=!1,this.observerOptions={attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},this.root=e.rootNode,this.callback=e.callback,this.observer=new MutationObserver((function(e){t.observerCallback(e)})),this.reconnect()}b.prototype.createSummary=function(e){return e&&e.length?function(e){var t={added:[],removed:[],reparented:[],reordered:[],characterDataChanged:e.getCharacterDataChanged(),attributeChanged:function(e){for(var t=Object(r.a)(),n=0,i=Object.keys(e);n<i.length;n++)for(var o=i[n],a=0,s=e[o];a<s.length;a++){var c=s[a],u=t.get(c)||[];u.push({attribute:o,value:c.getAttribute(o)}),t.set(c,u)}var d=[];return t.forEach((function(e,t){d.push({element:t,changedAttributes:e})})),d}(e.attributeChangedNodes())};return e.getChanged(t,void 0,!1),t}(new v(this.root,e,void 0,!0,!1)):null},b.prototype.changeToReport=function(e){return e&&g.some((function(t){return e[t]&&e[t].length}))},b.prototype.observerCallback=function(e){this.observer.disconnect(),e=Object(m.a)(e),e=this.createSummary(e),this.changeToReport(e)&&this.callback(e),this.connected&&this.observer.observe(this.root,this.observerOptions)},b.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0},b.prototype.takeSummary=function(){if(!this.connected)throw Error("Not connected");var e=this.createSummary(this.observer.takeRecords());return this.changeToReport(e)?e:void 0},b.prototype.disconnect=function(){var e=this.takeSummary();return this.observer.disconnect(),this.connected=!1,e},t.a=b},function(e,t,n){"use strict";function r(){r.fetchCode()?this.phoneCode=r.fetchCode():this.phoneCode=r.generateCode()}r.prototype.code=function(){return this.phoneCode},r.fetchCode=function(){return sessionStorage.getItem("mdn_phone_code")},r.generateCode=function(){var e=(""+Math.random()).substring(2,8);return sessionStorage.setItem("mdn_phone_code",e),e};var i=r;function o(){this.phoneCode=(new i).code(),this.requiredKeyPresses=5}o.prototype.code=function(){return this.phoneCode},o.prototype.listen=function(){var e=this,t=0;document.addEventListener("keyup",(function(n){"Alt"!==n.key&&"Control"!==n.key||(0===t&&setTimeout((function(){t=0}),3500),(t+=1)===e.requiredKeyPresses&&e.displayPhoneCode())}))},o.prototype.displayPhoneCode=function(){window.confirm(this.phoneCodeMessage())},o.prototype.phoneCodeMessage=function(){return"Your CoBrowse code is "+this.phoneCode.substr(0,3)+" "+this.phoneCode.substr(3)},t.a=o},function(e,t,n){"use strict";function r(e,t,n){this.eventName=t,this.active=!1,this.handler=this.eventHandler.bind(this),this.element=n,this.socket=e}r.prototype.start=function(){this.element.addEventListener(this.eventName,this.handler,!1),this.active=!0},r.prototype.stop=function(){this.element.removeEventListener(this.eventName,this.handler,!1),this.active=!1},r.prototype.reset=function(){this.stop(),this.start()},r.prototype.eventHandler=function(e){throw"Override eventHandler in subclass "+e},i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(s,o=r),s.prototype.eventHandler=function(){var e=this.element.innerHeight,t=this.element.innerWidth;e===this.lastHeight&&t===this.lastWidth||this.emitDimensionUpdate(e,t),this.lastHeight=e,this.lastWidth=t},s.prototype.start=function(){o.prototype.start.call(this),this.emitDimensionUpdate(this.element.innerHeight,this.element.innerWidth)},s.prototype.emitDimensionUpdate=function(e,t){this.socket.transmit("MetaEvent",{event:"viewportDimensions",payload:{height:e,width:t}})},s.prototype.emitPageSizeUpdate=function(){var e=document.body.clientHeight,t=document.body.clientWidth;this.socket.transmit("MetaEvent",{event:"pageDimensions",payload:{height:e,width:t}})};var i,o,a=s;function s(e,t){return o.call(this,e,"resize",t)||this}t.a=a},function(e,t,n){"use strict";n.r(t),function(e){var t=n(29),r=n(32),i=n(35),o=n(37),a=n(25),s=function(t,n,r,i){return new(r=r||e)((function(e,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(a,s)}c((i=i.apply(t,n||[])).next())}))},c=function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(s){c=[6,s],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}};s(void 0,void 0,void 0,(function(){var e,n,u,d,l,f,p,h=this;return c(this,(function(v){switch(v.label){case 0:return[4,Object(o.a)((function(){return s(h,void 0,void 0,(function(){var e,n;return c(this,(function(o){switch(o.label){case 0:return e=i.a,n=r.a,[4,Object(t.a)("wss://socket.hellomedian.com")];case 1:return[2,e.apply(void 0,[n.apply(void 0,[o.sent()])])]}}))}))}))];case 1:if(e=v.sent(),void 0===window.median_org_id)for(n=window.Median,u=new a.a(e),d=0,l=n;d<l.length;d++)p=l[d],f=p[0],p=p[1],u[f].apply(u,p);else new a.a(e).init(window.median_org_id);return[2]}}))}))}.call(this,n(2))},function(e,t,n){"use strict";(function(t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){}var o,a="pending",s="settled",c="fulfilled",u="rejected",d=void 0!==t&&void 0!==t.process&&"function"==typeof t.process.emit,l=void 0===n?setTimeout:n,f=[];function p(){for(var e=0;e<f.length;e++)f[e][0](f[e][1]);o=!(f=[])}function h(e,t){f.push([e,t]),o||(o=!0,l(p,0))}function v(e){var t=(n=e.owner)._state,n=n._data,r=e[t];e=e.then;if("function"==typeof r){t=c;try{n=r(n)}catch(n){y(e,n)}}m(e,n)||(t===c&&g(e,n),t===u&&y(e,n))}function m(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===r(t))){var i=t.then;if("function"==typeof i)return i.call(t,(function(r){n||(n=!0,(t===r?b:g)(e,r))}),(function(t){n||(n=!0,y(e,t))})),1}}catch(i){return n||y(e,i),1}}function g(e,t){e!==t&&m(e,t)||b(e,t)}function b(e,t){e._state===a&&(e._state=s,e._data=t,h(w,e))}function y(e,t){e._state===a&&(e._state=s,e._data=t,h(E,e))}function _(e){e._then=e._then.forEach(v)}function w(e){e._state=c,_(e)}function E(e){e._state=u,_(e),!e._handled&&d&&t.process.emit("unhandledRejection",e._data,e)}function S(e){t.process.emit("rejectionHandled",e)}function C(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof C==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){y(t,e)}try{e((function(e){g(t,e)}),n)}catch(e){n(e)}}(e,this)}C.prototype={constructor:C,_state:a,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(i),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===u&&d&&h(S,this)),this._state===c||this._state===u?h(v,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},C.all=function(e){if(Array.isArray(e))return new C((function(t,n){for(var r,i=[],o=0,a=0;a<e.length;a++)(r=e[a])&&"function"==typeof r.then?r.then(function(e){return o++,function(n){i[e]=n,--o||t(i)}}(a),n):i[a]=r;o||t(i)}));throw new TypeError("You must pass an array to Promise.all().")},C.race=function(e){if(Array.isArray(e))return new C((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"==typeof r.then?r.then(t,n):t(r)}));throw new TypeError("You must pass an array to Promise.race().")},C.resolve=function(e){return e&&"object"===r(e)&&e.constructor===C?e:new C((function(t){t(e)}))},C.reject=function(e){return new C((function(t,n){n(e)}))},e.exports=C}).call(this,n(15),n(60).setImmediate)},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(61),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(15))},function(e,t,n){(function(e,t){!function(e,n){"use strict";var r,i,o,a,s,c,u,d;function l(e){delete i[e]}function f(e){if(o)setTimeout(f,0,e);else{var t=i[e];if(t){o=!0;try{var n=t,r=n.callback,a=n.args;switch(a.length){case 0:r();break;case 1:r(a[0]);break;case 2:r(a[0],a[1]);break;case 3:r(a[0],a[1],a[2]);break;default:r.apply(void 0,a)}}finally{l(e),o=!1}}}}e.setImmediate||(r=1,o=!(i={}),a=e.document,d=(d=Object.getPrototypeOf&&Object.getPrototypeOf(e))&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?s=function(e){t.nextTick((function(){f(e)}))}:function(){var t,n;if(e.postMessage&&!e.importScripts)return t=!0,n=e.onmessage,e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}()?function(){function t(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(n)&&f(+t.data.slice(n.length))}var n="setImmediate$"+Math.random()+"$";e.addEventListener?e.addEventListener("message",t,!1):e.attachEvent("onmessage",t),s=function(t){e.postMessage(n+t,"*")}}():s=e.MessageChannel?((u=new MessageChannel).port1.onmessage=function(e){f(e.data)},function(e){u.port2.postMessage(e)}):a&&"onreadystatechange"in a.createElement("script")?(c=a.documentElement,function(e){var t=a.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,c.removeChild(t),t=null},c.appendChild(t)}):function(e){setTimeout(f,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];return i[r]={callback:e,args:t},s(r),r++},d.clearImmediate=l)}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(15),n(62))},function(e,t){var n,r;e=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return(n=setTimeout)(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}var s,c=[],u=!1,d=-1;function l(){u&&s&&(u=!1,s.length?c=s.concat(c):d=-1,c.length&&f())}function f(){if(!u){for(var e=a(l),t=(u=!0,c.length);t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return(r=clearTimeout)(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.prependListener=h,e.prependOnceListener=h,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t){e.exports=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Map;return{has:function(e){return t.has(e)},get:function(n){return t.has(n)||"function"!=typeof e||t.set(n,e(n)),t.get(n)},delete:function(e){return t.delete(e)},set:function(e,n){return t.set(e,n)},getUnderlyingDataStructure:function(){return t}}}},function(e,t,n){e.exports=function(){return n(65)('!function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){var a;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(){return function t(e,n,a){function r(i,s){if(!n[i]){var o;if(!e[i])throw(o=new Error("Cannot find module \'"+i+"\'")).code="MODULE_NOT_FOUND",o;o=n[i]={exports:{}},e[i][0].call(o.exports,(function(t){return r(e[i][1][t]||t)}),o,o.exports,t,e,n,a)}return n[i].exports}for(var i=0;i<a.length;i++)r(a[i]);return r}({1:[function(t,e,n){"use strict";var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e,n,a=Array.prototype.slice.call(arguments,1);a.length;){var i=a.shift();if(i){if("object"!==r(i))throw new TypeError(i+"must be non-object");for(var s in i)e=i,n=s,Object.prototype.hasOwnProperty.call(e,n)&&(t[s]=i[s])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,a,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+a),r);else for(var i=0;i<a;i++)t[r+i]=e[n+i]},flattenChunks:function(t){for(var e,n,a,r=0,i=0,s=t.length;i<s;i++)r+=t[i].length;for(a=new Uint8Array(r),i=e=0,s=t.length;i<s;i++)n=t[i],a.set(n,e),e+=n.length;return a}},s={arraySet:function(t,e,n,a,r){for(var i=0;i<a;i++)t[r+i]=e[n+i]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(a)},{}],2:[function(t,e,n){"use strict";var a=t("./common"),r=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){i=!1}for(var s=new a.Buf8(256),o=0;o<256;o++)s[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function l(t,e){if(e<65534&&(t.subarray&&i||!t.subarray&&r))return String.fromCharCode.apply(null,a.shrinkBuf(t,e));for(var n="",s=0;s<e;s++)n+=String.fromCharCode(t[s]);return n}s[254]=s[254]=1,n.string2buf=function(t){for(var e,n,r,i,s=t.length,o=0,l=0;l<s;l++)55296==(64512&(n=t.charCodeAt(l)))&&l+1<s&&56320==(64512&(r=t.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(r-56320),l++),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new a.Buf8(o),l=i=0;i<o;l++)55296==(64512&(n=t.charCodeAt(l)))&&l+1<s&&56320==(64512&(r=t.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(r-56320),l++),n<128?e[i++]=n:(n<2048?e[i++]=192|n>>>6:(n<65536?e[i++]=224|n>>>12:(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63),e[i++]=128|n>>>6&63),e[i++]=128|63&n);return e},n.buf2binstring=function(t){return l(t,t.length)},n.binstring2buf=function(t){for(var e=new a.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){for(var n,a,r=e||t.length,i=new Array(2*r),o=0,h=0;h<r;)if((n=t[h++])<128)i[o++]=n;else if(4<(a=s[n]))i[o++]=65533,h+=a-1;else{for(n&=2===a?31:3===a?15:7;1<a&&h<r;)n=n<<6|63&t[h++],a--;1<a?i[o++]=65533:n<65536?i[o++]=n:(n-=65536,i[o++]=55296|n>>10&1023,i[o++]=56320|1023&n)}return l(i,o)},n.utf8border=function(t,e){for(var n=(e=(e=e||t.length)>t.length?t.length:e)-1;0<=n&&128==(192&t[n]);)n--;return!(n<0)&&0!==n&&n+s[t[n]]>e?n:e}},{"./common":1}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,a){for(var r=65535&t|0,i=t>>>16&65535|0,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;i=i+(r=r+e[a++]|0)|0,--s;);r%=65521,i%=65521}return r|i<<16|0}},{}],4:[function(t,e,n){"use strict";var a=function(){for(var t=[],e=0;e<256;e++){for(var n=e,a=0;a<8;a++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return t}();e.exports=function(t,e,n,r){var i=a,s=r+n;t^=-1;for(var o=r;o<s;o++)t=t>>>8^i[255&(t^e[o])];return-1^t}},{}],5:[function(t,e,n){"use strict";var a,r=t("../utils/common"),i=t("./trees"),s=t("./adler32"),o=t("./crc32"),l=t("./messages"),h=-2,_=258,u=262,d=113;function f(t,e){return t.msg=l[e],e}function c(t){return(t<<1)-(4<t?9:0)}function p(t){for(var e=t.length;0<=--e;)t[e]=0}function g(t){var e=t.state,n=e.pending;0!==(n=n>t.avail_out?t.avail_out:n)&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function b(t,e){i._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,g(t.strm)}function m(t,e){t.pending_buf[t.pending++]=e}function v(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function w(t,e){var n,a,r=t.max_chain_length,i=t.strstart,s=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-u?t.strstart-(t.w_size-u):0,h=t.window,d=t.w_mask,f=t.prev,c=t.strstart+_,p=h[i+s-1],g=h[i+s];t.prev_length>=t.good_match&&(r>>=2),o>t.lookahead&&(o=t.lookahead);do{if(h[(n=e)+s]===g&&h[n+s-1]===p&&h[n]===h[i]&&h[++n]===h[i+1]){for(i+=2,n++;h[++i]===h[++n]&&h[++i]===h[++n]&&h[++i]===h[++n]&&h[++i]===h[++n]&&h[++i]===h[++n]&&h[++i]===h[++n]&&h[++i]===h[++n]&&h[++i]===h[++n]&&i<c;);if(a=_-(c-i),i=c-_,s<a){if(t.match_start=e,o<=(s=a))break;p=h[i+s-1],g=h[i+s]}}}while((e=f[e&d])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead}function y(t){var e,n,a,i,l,h,_,d,f,c=t.w_size;do{if(d=t.window_size-t.lookahead-t.strstart,t.strstart>=c+(c-u)){for(r.arraySet(t.window,t.window,c,c,0),t.match_start-=c,t.strstart-=c,t.block_start-=c,e=n=t.hash_size;a=t.head[--e],t.head[e]=c<=a?a-c:0,--n;);for(e=n=c;a=t.prev[--e],t.prev[e]=c<=a?a-c:0,--n;);d+=c}if(0===t.strm.avail_in)break;if(l=t.strm,h=t.window,_=t.strstart+t.lookahead,f=void 0,n=0===(f=(d=d)<(f=l.avail_in)?d:f)?0:(l.avail_in-=f,r.arraySet(h,l.input,l.next_in,f,_),1===l.state.wrap?l.adler=s(l.adler,h,f,_):2===l.state.wrap&&(l.adler=o(l.adler,h,f,_)),l.next_in+=f,l.total_in+=f,f),t.lookahead+=n,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+3-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<u&&0!==t.strm.avail_in)}function k(t,e){for(var n,a;;){if(t.lookahead<u){if(y(t),t.lookahead<u&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-u&&(t.match_length=w(t,n)),t.match_length>=3)if(a=i._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else a=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(a&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function z(t,e){for(var n,a,r;;){if(t.lookahead<u){if(y(t),t.lookahead<u&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-u&&(t.match_length=w(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){for(r=t.strstart+t.lookahead-3,a=i._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,a&&(b(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((a=i._tr_tally(t,0,t.window[t.strstart-1]))&&b(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(a=i._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function x(t,e,n,a,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=a,this.func=r}function A(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),p(this.dyn_ltree),p(this.dyn_dtree),p(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),p(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),p(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function B(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:d,t.adler=2===e.wrap?0:1,e.last_flush=0,i._tr_init(e),0):f(t,h)}function S(t){var e=B(t);return 0===e&&((t=t.state).window_size=2*t.w_size,p(t.head),t.max_lazy_match=a[t.level].max_lazy,t.good_match=a[t.level].good_length,t.nice_match=a[t.level].nice_length,t.max_chain_length=a[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),e}function j(t,e,n,a,i,s){if(!t)return h;var o=1;if(-1===e&&(e=6),a<0?(o=0,a=-a):15<a&&(o=2,a-=16),i<1||9<i||8!==n||a<8||15<a||e<0||9<e||s<0||4<s)return f(t,h);8===a&&(a=9);var l=new A;return(t.state=l).strm=t,l.wrap=o,l.gzhead=null,l.w_bits=a,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=+l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=n,S(t)}a=[new x(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(y(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var a=t.block_start+n;if((0===t.strstart||t.strstart>=a)&&(t.lookahead=t.strstart-a,t.strstart=a,b(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-u&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(b(t,!1),t.strm.avail_out),1)})),new x(4,4,8,4,k),new x(4,5,16,8,k),new x(4,6,32,32,k),new x(4,4,16,16,z),new x(8,16,32,32,z),new x(8,16,128,128,z),new x(8,32,128,256,z),new x(32,128,258,1024,z),new x(32,258,258,4096,z)],n.deflateInit=function(t,e){return j(t,e,8,15,8,0)},n.deflateInit2=j,n.deflateReset=S,n.deflateResetKeep=B,n.deflateSetHeader=function(t,e){return t&&t.state&&2===t.state.wrap?(t.state.gzhead=e,0):h},n.deflate=function(t,e){var n,r,s,l;if(!t||!t.state||5<e||e<0)return t?f(t,h):h;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&4!==e)return f(t,0===t.avail_out?-5:h);if(r.strm=t,n=r.last_flush,r.last_flush=e,42===r.status&&(2===r.wrap?(t.adler=0,m(r,31),m(r,139),m(r,8),r.gzhead?(m(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),m(r,255&r.gzhead.time),m(r,r.gzhead.time>>8&255),m(r,r.gzhead.time>>16&255),m(r,r.gzhead.time>>24&255),m(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),m(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(m(r,255&r.gzhead.extra.length),m(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=o(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(m(r,0),m(r,0),m(r,0),m(r,0),m(r,0),m(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),m(r,3),r.status=d)):(u=8+(r.w_bits-8<<4)<<8,u|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(u|=32),u+=31-u%31,r.status=d,v(r,u),0!==r.strstart&&(v(r,t.adler>>>16),v(r,65535&t.adler)),t.adler=1)),69===r.status)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(t.adler=o(t.adler,r.pending_buf,r.pending-s,s)),g(t),s=r.pending,r.pending!==r.pending_buf_size));)m(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(t.adler=o(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=o(t.adler,r.pending_buf,r.pending-s,s)),g(t),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}}while(l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,m(r,l),0!==l);r.gzhead.hcrc&&r.pending>s&&(t.adler=o(t.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=o(t.adler,r.pending_buf,r.pending-s,s)),g(t),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}}while(l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,m(r,l),0!==l);r.gzhead.hcrc&&r.pending>s&&(t.adler=o(t.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&g(t),r.pending+2<=r.pending_buf_size&&(m(r,255&t.adler),m(r,t.adler>>8&255),t.adler=0,r.status=d)):r.status=d),0!==r.pending){if(g(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&c(e)<=c(n)&&4!==e)return f(t,-5);if(666===r.status&&0!==t.avail_in)return f(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&666!==r.status){var u=2===r.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(y(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var n,a,r,s,o=t.window;;){if(t.lookahead<=_){if(y(t),t.lookahead<=_&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(a=o[r=t.strstart-1])===o[++r]&&a===o[++r]&&a===o[++r]){for(s=t.strstart+_;a===o[++r]&&a===o[++r]&&a===o[++r]&&a===o[++r]&&a===o[++r]&&a===o[++r]&&a===o[++r]&&a===o[++r]&&r<s;);t.match_length=_-(s-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=i._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(r,e):a[r.level].func(r,e);if(3!==u&&4!==u||(r.status=666),1===u||3===u)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===u&&(1===e?i._tr_align(r):5!==e&&(i._tr_stored_block(r,0,0,!1),3===e&&(p(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),g(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(m(r,255&t.adler),m(r,t.adler>>8&255),m(r,t.adler>>16&255),m(r,t.adler>>24&255),m(r,255&t.total_in),m(r,t.total_in>>8&255),m(r,t.total_in>>16&255),m(r,t.total_in>>24&255)):(v(r,t.adler>>>16),v(r,65535&t.adler)),g(t),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?0:1)},n.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&e!==d&&666!==e?f(t,h):(t.state=null,e===d?f(t,-3):0):h},n.deflateSetDictionary=function(t,e){var n,a,i,o,l,_,u,d=e.length;if(!t||!t.state)return h;if(2===(o=(n=t.state).wrap)||1===o&&42!==n.status||n.lookahead)return h;for(1===o&&(t.adler=s(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===o&&(p(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new r.Buf8(n.w_size),r.arraySet(u,e,d-n.w_size,n.w_size,0),e=u,d=n.w_size),u=t.avail_in,l=t.next_in,_=t.input,t.avail_in=d,t.next_in=0,t.input=e,y(n);n.lookahead>=3;){for(a=n.strstart,i=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[a+3-1])&n.hash_mask,n.prev[a&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=a,a++,--i;);n.strstart=a,n.lookahead=2,y(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=l,t.input=_,t.avail_in=u,n.wrap=o,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(t,e,n){"use strict";var a=t("../utils/common");function r(t){for(var e=t.length;0<=--e;)t[e]=0}var i,s,o,l=256,h=286,_=30,u=15,d=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],f=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],p=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],g=new Array(576),b=(r(g),new Array(60)),m=(r(b),new Array(512)),v=(r(m),new Array(256)),w=(r(v),new Array(29)),y=(r(w),new Array(_));function k(t,e,n,a,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=a,this.max_length=r,this.has_stree=t&&t.length}function z(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function x(t){return t<256?m[t]:m[256+(t>>>7)]}function A(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function B(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,A(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function S(t,e,n){B(t,n[2*e],n[2*e+1])}function j(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function C(t,e,n){for(var a,r=new Array(16),i=0,s=1;s<=u;s++)r[s]=i=i+n[s-1]<<1;for(a=0;a<=e;a++){var o=t[2*a+1];0!==o&&(t[2*a]=j(r[o]++,o))}}function O(t){for(var e=0;e<h;e++)t.dyn_ltree[2*e]=0;for(e=0;e<_;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function E(t){8<t.bi_valid?A(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function U(t,e,n,a){var r=2*e,i=2*n;return t[r]<t[i]||t[r]===t[i]&&a[e]<=a[n]}function D(t,e,n){for(var a=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&U(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!U(e,a,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=a}function M(t,e,n){var a,r,i,s,o=0;if(0!==t.last_lit)for(;a=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],r=t.pending_buf[t.l_buf+o],o++,0==a?S(t,r,e):(S(t,(i=v[r])+l+1,e),0!==(s=d[i])&&B(t,r-=w[i],s),S(t,i=x(--a),n),0!==(s=f[i])&&B(t,a-=y[i],s)),o<t.last_lit;);S(t,256,e)}function P(t,e){var n,a,r,i=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==i[2*n]?(t.heap[++t.heap_len]=h=n,t.depth[n]=0):i[2*n+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[r]=0,t.opt_len--,o&&(t.static_len-=s[2*r+1]);for(e.max_code=h,n=t.heap_len>>1;1<=n;n--)D(t,i,n);for(r=l;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],D(t,i,1),a=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=a,i[2*r]=i[2*n]+i[2*a],t.depth[r]=(t.depth[n]>=t.depth[a]?t.depth[n]:t.depth[a])+1,i[2*n+1]=i[2*a+1]=r,t.heap[1]=r++,D(t,i,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1];for(var _,d,f,c,p,g=t,b=e.dyn_tree,m=e.max_code,v=e.stat_desc.static_tree,w=e.stat_desc.has_stree,y=e.stat_desc.extra_bits,k=e.stat_desc.extra_base,z=e.stat_desc.max_length,x=0,A=0;A<=u;A++)g.bl_count[A]=0;for(b[2*g.heap[g.heap_max]+1]=0,_=g.heap_max+1;_<573;_++)z<(A=b[2*b[2*(d=g.heap[_])+1]+1]+1)&&(A=z,x++),b[2*d+1]=A,m<d||(g.bl_count[A]++,c=0,k<=d&&(c=y[d-k]),p=b[2*d],g.opt_len+=p*(A+c),w&&(g.static_len+=p*(v[2*d+1]+c)));if(0!==x){do{for(A=z-1;0===g.bl_count[A];)A--}while(g.bl_count[A]--,g.bl_count[A+1]+=2,g.bl_count[z]--,0<(x-=2));for(A=z;0!==A;A--)for(d=g.bl_count[A];0!==d;)m<(f=g.heap[--_])||(b[2*f+1]!==A&&(g.opt_len+=(A-b[2*f+1])*b[2*f],b[2*f+1]=A),d--)}C(i,h,t.bl_count)}function I(t,e,n){var a,r,i=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),e[2*(n+1)+1]=65535,a=0;a<=n;a++)r=s,s=e[2*(a+1)+1],++o<l&&r===s||(o<h?t.bl_tree[2*r]+=o:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,i=r,h=(o=0)===s?(l=138,3):r===s?(l=6,3):(l=7,4))}function T(t,e,n){var a,r,i=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),a=0;a<=n;a++)if(r=s,s=e[2*(a+1)+1],!(++o<l&&r===s)){if(o<h)for(;S(t,r,t.bl_tree),0!=--o;);else 0!==r?(r!==i&&(S(t,r,t.bl_tree),o--),S(t,16,t.bl_tree),B(t,o-3,2)):o<=10?(S(t,17,t.bl_tree),B(t,o-3,3)):(S(t,18,t.bl_tree),B(t,o-11,7));i=r,h=(o=0)===s?(l=138,3):r===s?(l=6,3):(l=7,4)}}r(y);var L=!1;function N(t,e,n,r){B(t,0+(r?1:0),3),r=e,e=n,n=!0,E(t=t),n&&(A(t,e),A(t,~e)),a.arraySet(t.pending_buf,t.window,r,e,t.pending),t.pending+=e}n._tr_init=function(t){if(!L){for(var e,n,a,r=new Array(16),l=0,p=0;p<28;p++)for(w[p]=l,e=0;e<1<<d[p];e++)v[l++]=p;for(v[l-1]=p,p=a=0;p<16;p++)for(y[p]=a,e=0;e<1<<f[p];e++)m[a++]=p;for(a>>=7;p<_;p++)for(y[p]=a<<7,e=0;e<1<<f[p]-7;e++)m[256+a++]=p;for(n=0;n<=u;n++)r[n]=0;for(e=0;e<=143;)g[2*e+1]=8,e++,r[8]++;for(;e<=255;)g[2*e+1]=9,e++,r[9]++;for(;e<=279;)g[2*e+1]=7,e++,r[7]++;for(;e<=287;)g[2*e+1]=8,e++,r[8]++;for(C(g,287,r),e=0;e<_;e++)b[2*e+1]=5,b[2*e]=j(e,5);i=new k(g,d,257,h,u),s=new k(b,f,0,_,u),o=new k(new Array(0),c,0,19,7),L=!0}t.l_desc=new z(t.dyn_ltree,i),t.d_desc=new z(t.dyn_dtree,s),t.bl_desc=new z(t.bl_tree,o),t.bi_buf=0,t.bi_valid=0,O(t)},n._tr_stored_block=N,n._tr_flush_block=function(t,e,n,a){var r,i,s=0;if(0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){for(var e=4093624447,n=0;n<=31;n++,e>>>=1)if(1&e&&0!==t.dyn_ltree[2*n])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(n=32;n<l;n++)if(0!==t.dyn_ltree[2*n])return 1;return 0}(t)),P(t,t.l_desc),P(t,t.d_desc),s=function(t){var e;for(I(t,t.dyn_ltree,t.l_desc.max_code),I(t,t.dyn_dtree,t.d_desc.max_code),P(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*p[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(i=t.static_len+3+7>>>3)<=r&&(r=i)):r=i=n+5,n+4<=r&&-1!==e)N(t,e,n,a);else if(4===t.strategy||i===r)B(t,2+(a?1:0),3),M(t,g,b);else{B(t,4+(a?1:0),3);var o,h=t,_=(e=t.l_desc.max_code+1,n=t.d_desc.max_code+1,s+1);for(B(h,e-257,5),B(h,n-1,5),B(h,_-4,4),o=0;o<_;o++)B(h,h.bl_tree[2*p[o]+1],3);T(h,h.dyn_ltree,e-1),T(h,h.dyn_dtree,n-1),M(t,t.dyn_ltree,t.dyn_dtree)}O(t),a&&E(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(v[n]+l+1)]++,t.dyn_dtree[2*x(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){B(t,2,3),S(t,256,g),16===(t=t).bi_valid?(A(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":1}],8:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(t,e,n){"use strict";var a=t("./zlib/deflate"),r=t("./utils/common"),i=t("./utils/strings"),s=t("./zlib/messages"),o=t("./zlib/zstream"),l=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);if(this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{}),(t=this.options).raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,(this.strm.avail_out=0)!==(e=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy)))throw new Error(s[e]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var e;t="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary;if(0!==(e=a.deflateSetDictionary(this.strm,t)))throw new Error(s[e]);this._dict_set=!0}}function _(t,e){if((e=new h(e)).push(t,!0),e.err)throw e.msg||s[e.err];return e.result}h.prototype.push=function(t,e){var n,s,o=this.strm,h=this.options.chunkSize;if(this.ended)return!1;s=e===~~e?e:!0===e?4:0,"string"==typeof t?o.input=i.string2buf(t):"[object ArrayBuffer]"===l.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new r.Buf8(h),o.next_out=0,o.avail_out=h),1!==(n=a.deflate(o,s))&&0!==n)return this.onEnd(n),!(this.ended=!0)}while(0!==o.avail_out&&(0!==o.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(i.buf2binstring(r.shrinkBuf(o.output,o.next_out))):this.onData(r.shrinkBuf(o.output,o.next_out))),(0<o.avail_in||0===o.avail_out)&&1!==n);return 4===s?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),!(o.avail_out=0))},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=h,n.deflate=_,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,_(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,_(t,e)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")},"object"===r(e)&&void 0!==t?t.exports=a():void 0!==(e="function"==typeof(a=a)?a.apply(e,[]):a)&&(t.exports=e)},function(t,e,n){"use strict";n.r(e);var a=n(0);n(2)(t=>Object(a.deflate)(JSON.stringify(t)))},function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){function e(t,e,n,a){function r(e){("function"!=typeof self.postMessage?t.ports[0]:self).postMessage(e)}n?("undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",n),r([e,{message:n.message}])):r([e,null,a])}self.addEventListener("message",(function(n){var r,i=n.data;Array.isArray(i)&&2===i.length&&(r=i[0],i=i[1],"function"!=typeof t?e(n,r,new Error("Please pass a function into register().")):function(t,n,r,i){(n=function(t,e){try{return{res:t(e)}}catch(t){return{err:t}}}(n,i)).err?e(t,r,n.err):!(i=n.res)||"object"!==a(i)&&"function"!=typeof i||"function"!=typeof i.then?e(t,r,null,n.res):n.res.then((function(n){e(t,r,null,n)}),(function(n){e(t,r,n)}))}(n,t,r,i))}))}}]);',n.p+"f7f7dd01e78630fbed46.worker.js")}},function(e,t,n){"use strict";var r=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),n=n.getBlob()}catch(t){n=new Blob([e])}return new Worker(r.createObjectURL(n))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){if(t)return new Worker(t);throw Error("Inline worker is not supported")}}},function(e,t,n){"use strict";(function(t){var n=0;function r(e,t){var n,r,i;t=t.data;!Array.isArray(t)||t.length<2||(n=t[0],r=t[1],t=t[2],(i=e._callbacks[n])&&(delete e._callbacks[n],i(r,t)))}function i(e){var t=this;t._worker=e,t._callbacks={},e.addEventListener("message",(function(e){r(t,e)}))}i.prototype.postMessage=function(e){var i=this,o=n++,a=[o,e];return new t((function(e,t){var n;i._callbacks[o]=function(n,r){if(n)return t(new Error(n.message));e(r)},void 0!==i._worker.controller?((n=new MessageChannel).port1.onmessage=function(e){r(i,e)},i._worker.controller.postMessage(a,[n.port2])):i._worker.postMessage(a)}))},e.exports=i}).call(this,n(2))},function(e,t){var n,r,i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);i?(n=new Uint8Array(16),e.exports=function(){return i(n),n}):(r=new Array(16),e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r})},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){t=t||0;var r=n;return[r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],r[e[+t]]].join("")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}]);